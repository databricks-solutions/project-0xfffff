var e,t,n,r,s,a,i,o,l,c,u,d,h,p,f,m,g,x,v,y,b,w,j,k,N,S,_,C,E,P,T,R,I,M,D,A,L,O,F,z,W,U,$,q,V,B,H,Q,K,G,Y,J,X,Z,ee,te,ne,re,se,ae,ie,oe,le,ce,ue,de,he,pe,fe,me,ge,xe,ve,ye,be,we,je,ke,Ne,Se,_e,Ce,Ee=Object.defineProperty,Pe=e=>{throw TypeError(e)},Te=(e,t,n)=>((e,t,n)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),Re=(e,t,n)=>t.has(e)||Pe("Cannot "+n),Ie=(e,t,n)=>(Re(e,t,"read from private field"),n?n.call(e):t.get(e)),Me=(e,t,n)=>t.has(e)?Pe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),De=(e,t,n,r)=>(Re(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ae=(e,t,n)=>(Re(e,t,"access private method"),n),Le=(e,t,n,r)=>({set _(r){De(e,t,r,n)},get _(){return Ie(e,t,r)}});function Oe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var We={exports:{}},Ue={},$e={exports:{}},qe={},Ve=Symbol.for("react.element"),Be=Symbol.for("react.portal"),He=Symbol.for("react.fragment"),Qe=Symbol.for("react.strict_mode"),Ke=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),Ye=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Ze=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),tt=Symbol.iterator;var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,st={};function at(e,t,n){this.props=e,this.context=t,this.refs=st,this.updater=n||nt}function it(){}function ot(e,t,n){this.props=e,this.context=t,this.refs=st,this.updater=n||nt}at.prototype.isReactComponent={},at.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},at.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},it.prototype=at.prototype;var lt=ot.prototype=new it;lt.constructor=ot,rt(lt,at.prototype),lt.isPureReactComponent=!0;var ct=Array.isArray,ut=Object.prototype.hasOwnProperty,dt={current:null},ht={key:!0,ref:!0,__self:!0,__source:!0};function pt(e,t,n){var r,s={},a=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)ut.call(t,r)&&!ht.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===s[r]&&(s[r]=o[r]);return{$$typeof:Ve,type:e,key:a,ref:i,props:s,_owner:dt.current}}function ft(e){return"object"==typeof e&&null!==e&&e.$$typeof===Ve}var mt=/\/+/g;function gt(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function xt(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var i=!1;if(null===e)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ve:case Be:i=!0}}if(i)return s=s(i=e),e=""===r?"."+gt(i,0):r,ct(s)?(n="",null!=e&&(n=e.replace(mt,"$&/")+"/"),xt(s,t,n,"",function(e){return e})):null!=s&&(ft(s)&&(s=function(e,t){return{$$typeof:Ve,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(mt,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=""===r?".":r+":",ct(e))for(var o=0;o<e.length;o++){var l=r+gt(a=e[o],o);i+=xt(a,t,n,l,s)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=tt&&e[tt]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),o=0;!(a=e.next()).done;)i+=xt(a=a.value,t,n,l=r+gt(a,o++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vt(e,t,n){if(null==e)return e;var r=[],s=0;return xt(e,r,"","",function(e){return t.call(n,e,s++)}),r}function yt(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var bt={current:null},wt={transition:null},jt={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:wt,ReactCurrentOwner:dt};function kt(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:vt,forEach:function(e,t,n){vt(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vt(e,function(){t++}),t},toArray:function(e){return vt(e,function(e){return e})||[]},only:function(e){if(!ft(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},qe.Component=at,qe.Fragment=He,qe.Profiler=Ke,qe.PureComponent=ot,qe.StrictMode=Qe,qe.Suspense=Xe,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jt,qe.act=kt,qe.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rt({},e.props),s=e.key,a=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,i=dt.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ut.call(t,l)&&!ht.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ve,type:e.type,key:s,ref:a,props:r,_owner:i}},qe.createContext=function(e){return(e={$$typeof:Ye,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:Ge,_context:e},e.Consumer=e},qe.createElement=pt,qe.createFactory=function(e){var t=pt.bind(null,e);return t.type=e,t},qe.createRef=function(){return{current:null}},qe.forwardRef=function(e){return{$$typeof:Je,render:e}},qe.isValidElement=ft,qe.lazy=function(e){return{$$typeof:et,_payload:{_status:-1,_result:e},_init:yt}},qe.memo=function(e,t){return{$$typeof:Ze,type:e,compare:void 0===t?null:t}},qe.startTransition=function(e){var t=wt.transition;wt.transition={};try{e()}finally{wt.transition=t}},qe.unstable_act=kt,qe.useCallback=function(e,t){return bt.current.useCallback(e,t)},qe.useContext=function(e){return bt.current.useContext(e)},qe.useDebugValue=function(){},qe.useDeferredValue=function(e){return bt.current.useDeferredValue(e)},qe.useEffect=function(e,t){return bt.current.useEffect(e,t)},qe.useId=function(){return bt.current.useId()},qe.useImperativeHandle=function(e,t,n){return bt.current.useImperativeHandle(e,t,n)},qe.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)},qe.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)},qe.useMemo=function(e,t){return bt.current.useMemo(e,t)},qe.useReducer=function(e,t,n){return bt.current.useReducer(e,t,n)},qe.useRef=function(e){return bt.current.useRef(e)},qe.useState=function(e){return bt.current.useState(e)},qe.useSyncExternalStore=function(e,t,n){return bt.current.useSyncExternalStore(e,t,n)},qe.useTransition=function(){return bt.current.useTransition()},qe.version="18.3.1",$e.exports=qe;var Nt=$e.exports;const St=ze(Nt),_t=Oe({__proto__:null,default:St},[Nt]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Ct=Nt,Et=Symbol.for("react.element"),Pt=Symbol.for("react.fragment"),Tt=Object.prototype.hasOwnProperty,Rt=Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,It={key:!0,ref:!0,__self:!0,__source:!0};function Mt(e,t,n){var r,s={},a=null,i=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(i=t.ref),t)Tt.call(t,r)&&!It.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:Et,type:e,key:a,ref:i,props:s,_owner:Rt.current}}Ue.Fragment=Pt,Ue.jsx=Mt,Ue.jsxs=Mt,We.exports=Ue;var Dt=We.exports,At={},Lt={exports:{}},Ot={},Ft={exports:{}},zt={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(l,s)}s=n(c)}}function b(e){if(m=!1,y(e),!f)if(null!==n(l))f=!0,I(w);else{var t=n(c);null!==t&&M(b,t.startTime-e)}}function w(t,s){f=!1,m&&(m=!1,x(S),S=-1),p=!0;var a=h;try{for(y(s),d=n(l);null!==d&&(!(d.expirationTime>s)||t&&!E());){var i=d.callback;if("function"==typeof i){d.callback=null,h=d.priorityLevel;var o=i(d.expirationTime<=s);s=e.unstable_now(),"function"==typeof o?d.callback=o:d===n(l)&&r(l),y(s)}else r(l);d=n(l)}if(null!==d)var u=!0;else{var g=n(c);null!==g&&M(b,g.startTime-s),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,N=null,S=-1,_=5,C=-1;function E(){return!(e.unstable_now()-C<_)}function P(){if(null!==N){var t=e.unstable_now();C=t;var n=!0;try{n=N(!0,t)}finally{n?j():(k=!1,N=null)}}else k=!1}if("function"==typeof v)j=function(){v(P)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=P,j=function(){R.postMessage(null)}}else j=function(){g(P,0)};function I(e){N=e,k||(k=!0,j())}function M(t,n){S=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,I(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,s,a){var i=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(x(S),S=-1):m=!0,M(b,a-i))):(r.sortIndex=o,t(l,r),f||p||(f=!0,I(w))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(zt),Ft.exports=zt;var Wt=Ft.exports,Ut=Nt,$t=Wt;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function qt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vt=new Set,Bt={};function Ht(e,t){Qt(e,t),Qt(e+"Capture",t)}function Qt(e,t){for(Bt[e]=t,e=0;e<t.length;e++)Vt.add(t[e])}var Kt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Gt=Object.prototype.hasOwnProperty,Yt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jt={},Xt={};function Zt(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new Zt(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new Zt(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new Zt(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new Zt(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new Zt(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){en[e]=new Zt(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){en[e]=new Zt(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){en[e]=new Zt(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){en[e]=new Zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var tn=/[\-:]([a-z])/g;function nn(e){return e[1].toUpperCase()}function rn(e,t,n,r){var s=en.hasOwnProperty(t)?en[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!Gt.call(Xt,e)||!Gt.call(Jt,e)&&(Yt.test(e)?Xt[e]=!0:(Jt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tn,nn);en[t]=new Zt(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tn,nn);en[t]=new Zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tn,nn);en[t]=new Zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){en[e]=new Zt(e,1,!1,e.toLowerCase(),null,!1,!1)}),en.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){en[e]=new Zt(e,1,!1,e.toLowerCase(),null,!0,!0)});var sn=Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,an=Symbol.for("react.element"),on=Symbol.for("react.portal"),ln=Symbol.for("react.fragment"),cn=Symbol.for("react.strict_mode"),un=Symbol.for("react.profiler"),dn=Symbol.for("react.provider"),hn=Symbol.for("react.context"),pn=Symbol.for("react.forward_ref"),fn=Symbol.for("react.suspense"),mn=Symbol.for("react.suspense_list"),gn=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),vn=Symbol.for("react.offscreen"),yn=Symbol.iterator;function bn(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=yn&&e[yn]||e["@@iterator"])?e:null}var wn,jn=Object.assign;function kn(e){if(void 0===wn)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wn=t&&t[1]||""}return"\n"+wn+e}var Nn=!1;function Sn(e,t){if(!e||Nn)return"";Nn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{Nn=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kn(e):""}function _n(e){switch(e.tag){case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 2:case 15:return e=Sn(e.type,!1);case 11:return e=Sn(e.type.render,!1);case 1:return e=Sn(e.type,!0);default:return""}}function Cn(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ln:return"Fragment";case on:return"Portal";case un:return"Profiler";case cn:return"StrictMode";case fn:return"Suspense";case mn:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case hn:return(e.displayName||"Context")+".Consumer";case dn:return(e._context.displayName||"Context")+".Provider";case pn:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case gn:return null!==(t=e.displayName||null)?t:Cn(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Cn(e(t))}catch(n){}}return null}function En(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cn(t);case 8:return t===cn?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Tn(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Rn(e){e._valueTracker||(e._valueTracker=function(e){var t=Tn(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function In(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tn(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Mn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Dn(e,t){var n=t.checked;return jn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function An(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Pn(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ln(e,t){null!=(t=t.checked)&&rn(e,"checked",t,!1)}function On(e,t){Ln(e,t);var n=Pn(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?zn(e,t.type,n):t.hasOwnProperty("defaultValue")&&zn(e,t.type,Pn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Fn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function zn(e,t,n){"number"===t&&Mn(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wn=Array.isArray;function Un(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function $n(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(qt(91));return jn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qn(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(qt(92));if(Wn(n)){if(1<n.length)throw Error(qt(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Pn(n)}}function Vn(e,t){var n=Pn(t.value),r=Pn(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Bn(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Hn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qn(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Hn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Kn,Gn,Yn=(Gn=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Kn=Kn||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Gn(e,t)})}:Gn);function Jn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zn=["Webkit","ms","Moz","O"];function er(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Xn.hasOwnProperty(e)&&Xn[e]?(""+t).trim():t+"px"}function tr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=er(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(Xn).forEach(function(e){Zn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xn[t]=Xn[e]})});var nr=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(qt(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(qt(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(qt(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(qt(62))}}function sr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=null;function ir(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var or=null,lr=null,cr=null;function ur(e){if(e=ro(e)){if("function"!=typeof or)throw Error(qt(280));var t=e.stateNode;t&&(t=ao(t),or(e.stateNode,e.type,t))}}function dr(e){lr?cr?cr.push(e):cr=[e]:lr=e}function hr(){if(lr){var e=lr,t=cr;if(cr=lr=null,ur(e),t)for(e=0;e<t.length;e++)ur(t[e])}}function pr(e,t){return e(t)}function fr(){}var mr=!1;function gr(e,t,n){if(mr)return e(t,n);mr=!0;try{return pr(e,t,n)}finally{mr=!1,(null!==lr||null!==cr)&&(fr(),hr())}}function xr(e,t){var n=e.stateNode;if(null===n)return null;var r=ao(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(qt(231,t,typeof n));return n}var vr=!1;if(Kt)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){vr=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch(Gn){vr=!1}function br(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var wr=!1,jr=null,kr=!1,Nr=null,Sr={onError:function(e){wr=!0,jr=e}};function _r(e,t,n,r,s,a,i,o,l){wr=!1,jr=null,br.apply(Sr,arguments)}function Cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Er(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Pr(e){if(Cr(e)!==e)throw Error(qt(188))}function Tr(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Cr(e)))throw Error(qt(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Pr(s),e;if(a===r)return Pr(s),t;a=a.sibling}throw Error(qt(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i)throw Error(qt(189))}}if(n.alternate!==r)throw Error(qt(190))}if(3!==n.tag)throw Error(qt(188));return n.stateNode.current===n?e:t}(e))?Rr(e):null}function Rr(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Rr(e);if(null!==t)return t;e=e.sibling}return null}var Ir=$t.unstable_scheduleCallback,Mr=$t.unstable_cancelCallback,Dr=$t.unstable_shouldYield,Ar=$t.unstable_requestPaint,Lr=$t.unstable_now,Or=$t.unstable_getCurrentPriorityLevel,Fr=$t.unstable_ImmediatePriority,zr=$t.unstable_UserBlockingPriority,Wr=$t.unstable_NormalPriority,Ur=$t.unstable_LowPriority,$r=$t.unstable_IdlePriority,qr=null,Vr=null;var Br=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Hr(e)/Qr|0)|0},Hr=Math.log,Qr=Math.LN2;var Kr=64,Gr=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jr(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=Yr(o):0!==(a&=i)&&(r=Yr(a))}else 0!==(i=n&~s)?r=Yr(i):0!==a&&(r=Yr(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-Br(t)),r|=e[n],t&=~s;return r}function Xr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Zr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function es(){var e=Kr;return!(4194240&(Kr<<=1))&&(Kr=64),e}function ts(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ns(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Br(t)]=n}function rs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Br(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ss=0;function as(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var is,os,ls,cs,us,ds=!1,hs=[],ps=null,fs=null,ms=null,gs=new Map,xs=new Map,vs=[],ys="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bs(e,t){switch(e){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function ws(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=ro(t))&&os(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function js(e){var t=no(e.target);if(null!==t){var n=Cr(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Er(n)))return e.blockedOn=t,void us(e.priority,function(){ls(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ks(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ds(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ro(n))&&os(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ar=r,n.target.dispatchEvent(r),ar=null,t.shift()}return!0}function Ns(e,t,n){ks(e)&&n.delete(t)}function Ss(){ds=!1,null!==ps&&ks(ps)&&(ps=null),null!==fs&&ks(fs)&&(fs=null),null!==ms&&ks(ms)&&(ms=null),gs.forEach(Ns),xs.forEach(Ns)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,ds||(ds=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,Ss)))}function Cs(e){function t(t){return _s(t,e)}if(0<hs.length){_s(hs[0],e);for(var n=1;n<hs.length;n++){var r=hs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ps&&_s(ps,e),null!==fs&&_s(fs,e),null!==ms&&_s(ms,e),gs.forEach(t),xs.forEach(t),n=0;n<vs.length;n++)(r=vs[n]).blockedOn===e&&(r.blockedOn=null);for(;0<vs.length&&null===(n=vs[0]).blockedOn;)js(n),null===n.blockedOn&&vs.shift()}var Es=sn.ReactCurrentBatchConfig,Ps=!0;function Ts(e,t,n,r){var s=ss,a=Es.transition;Es.transition=null;try{ss=1,Is(e,t,n,r)}finally{ss=s,Es.transition=a}}function Rs(e,t,n,r){var s=ss,a=Es.transition;Es.transition=null;try{ss=4,Is(e,t,n,r)}finally{ss=s,Es.transition=a}}function Is(e,t,n,r){if(Ps){var s=Ds(e,t,n,r);if(null===s)Ei(e,t,r,Ms,n),bs(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return ps=ws(ps,e,t,n,r,s),!0;case"dragenter":return fs=ws(fs,e,t,n,r,s),!0;case"mouseover":return ms=ws(ms,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return gs.set(a,ws(gs.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xs.set(a,ws(xs.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(bs(e,r),4&t&&-1<ys.indexOf(e)){for(;null!==s;){var a=ro(s);if(null!==a&&is(a),null===(a=Ds(e,t,n,r))&&Ei(e,t,r,Ms,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Ei(e,t,r,null,n)}}var Ms=null;function Ds(e,t,n,r){if(Ms=null,null!==(e=no(e=ir(r))))if(null===(t=Cr(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Er(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function As(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Or()){case Fr:return 1;case zr:return 4;case Wr:case Ur:return 16;case $r:return 536870912;default:return 16}default:return 16}}var Ls=null,Os=null,Fs=null;function zs(){if(Fs)return Fs;var e,t,n=Os,r=n.length,s="value"in Ls?Ls.value:Ls.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Fs=s.slice(e,1<t?1-t:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Us(){return!0}function $s(){return!1}function qs(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Us:$s,this.isPropagationStopped=$s,this}return jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),t}var Vs,Bs,Hs,Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=qs(Qs),Gs=jn({},Qs,{view:0,detail:0}),Ys=qs(Gs),Js=jn({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&"mousemove"===e.type?(Vs=e.screenX-Hs.screenX,Bs=e.screenY-Hs.screenY):Bs=Vs=0,Hs=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),Xs=qs(Js),Zs=qs(jn({},Js,{dataTransfer:0})),ea=qs(jn({},Gs,{relatedTarget:0})),ta=qs(jn({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0})),na=jn({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ra=qs(na),sa=qs(jn({},Qs,{data:0})),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ia={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function la(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=oa[e])&&!!t[e]}function ca(){return la}var ua=jn({},Gs,{key:function(e){if(e.key){var t=aa[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ws(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ia[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(e){return"keypress"===e.type?Ws(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ws(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),da=qs(ua),ha=qs(jn({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),pa=qs(jn({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca})),fa=qs(jn({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0})),ma=jn({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=qs(ma),xa=[9,13,27,32],va=Kt&&"CompositionEvent"in window,ya=null;Kt&&"documentMode"in document&&(ya=document.documentMode);var ba=Kt&&"TextEvent"in window&&!ya,wa=Kt&&(!va||ya&&8<ya&&11>=ya),ja=String.fromCharCode(32),ka=!1;function Na(e,t){switch(e){case"keyup":return-1!==xa.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var _a=!1;var Ca={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ca[e.type]:"textarea"===t}function Pa(e,t,n,r){dr(r),0<(t=Ti(t,"onChange")).length&&(n=new Ks("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ta=null,Ra=null;function Ia(e){ji(e,0)}function Ma(e){if(In(so(e)))return e}function Da(e,t){if("change"===e)return t}var Aa=!1;if(Kt){var La;if(Kt){var Oa="oninput"in document;if(!Oa){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),Oa="function"==typeof Fa.oninput}La=Oa}else La=!1;Aa=La&&(!document.documentMode||9<document.documentMode)}function za(){Ta&&(Ta.detachEvent("onpropertychange",Wa),Ra=Ta=null)}function Wa(e){if("value"===e.propertyName&&Ma(Ra)){var t=[];Pa(t,Ra,e,ir(e)),gr(Ia,t)}}function Ua(e,t,n){"focusin"===e?(za(),Ra=n,(Ta=t).attachEvent("onpropertychange",Wa)):"focusout"===e&&za()}function $a(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ma(Ra)}function qa(e,t){if("click"===e)return Ma(t)}function Va(e,t){if("input"===e||"change"===e)return Ma(t)}var Ba="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Ha(e,t){if(Ba(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gt.call(t,s)||!Ba(e[s],t[s]))return!1}return!0}function Qa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ka(e,t){var n,r=Qa(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qa(r)}}function Ga(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ga(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ya(){for(var e=window,t=Mn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Mn((e=t.contentWindow).document)}return t}function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Xa(e){var t=Ya(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ga(n.ownerDocument.documentElement,n)){if(null!==r&&Ja(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Ka(n,a);var i=Ka(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Za=Kt&&"documentMode"in document&&11>=document.documentMode,ei=null,ti=null,ni=null,ri=!1;function si(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ri||null==ei||ei!==Mn(r)||("selectionStart"in(r=ei)&&Ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ni&&Ha(ni,r)||(ni=r,0<(r=Ti(ti,"onSelect")).length&&(t=new Ks("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ei)))}function ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ii={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},oi={},li={};function ci(e){if(oi[e])return oi[e];if(!ii[e])return e;var t,n=ii[e];for(t in n)if(n.hasOwnProperty(t)&&t in li)return oi[e]=n[t];return e}Kt&&(li=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);var ui=ci("animationend"),di=ci("animationiteration"),hi=ci("animationstart"),pi=ci("transitionend"),fi=new Map,mi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){fi.set(e,t),Ht(t,[e])}for(var xi=0;xi<mi.length;xi++){var vi=mi[xi];gi(vi.toLowerCase(),"on"+(vi[0].toUpperCase()+vi.slice(1)))}gi(ui,"onAnimationEnd"),gi(di,"onAnimationIteration"),gi(hi,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(pi,"onTransitionEnd"),Qt("onMouseEnter",["mouseout","mouseover"]),Qt("onMouseLeave",["mouseout","mouseover"]),Qt("onPointerEnter",["pointerout","pointerover"]),Qt("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bi=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function wi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,i,o,l){if(_r.apply(this,arguments),wr){if(!wr)throw Error(qt(198));var c=jr;wr=!1,jr=null,kr||(kr=!0,Nr=c)}}(r,t,void 0,e),e.currentTarget=null}function ji(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;wi(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;wi(s,o,c),a=l}}}if(kr)throw e=Nr,kr=!1,Nr=null,e}function ki(e,t){var n=t[Zi];void 0===n&&(n=t[Zi]=new Set);var r=e+"__bubble";n.has(r)||(Ci(t,e,2,!1),n.add(r))}function Ni(e,t,n){var r=0;t&&(r|=4),Ci(n,e,r,t)}var Si="_reactListening"+Math.random().toString(36).slice(2);function _i(e){if(!e[Si]){e[Si]=!0,Vt.forEach(function(t){"selectionchange"!==t&&(bi.has(t)||Ni(t,!1,e),Ni(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Si]||(t[Si]=!0,Ni("selectionchange",!1,t))}}function Ci(e,t,n,r){switch(As(t)){case 1:var s=Ts;break;case 4:s=Rs;break;default:s=Is}n=s.bind(null,t,n,e),s=void 0,!vr||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ei(e,t,n,r,s){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=no(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}gr(function(){var r=a,s=ir(n),i=[];e:{var o=fi.get(e);if(void 0!==o){var l=Ks,c=e;switch(e){case"keypress":if(0===Ws(n))break e;case"keydown":case"keyup":l=da;break;case"focusin":c="focus",l=ea;break;case"focusout":c="blur",l=ea;break;case"beforeblur":case"afterblur":l=ea;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Zs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=pa;break;case ui:case di:case hi:l=ta;break;case pi:l=fa;break;case"scroll":l=Ys;break;case"wheel":l=ga;break;case"copy":case"cut":case"paste":l=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ha}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=xr(f,h))&&u.push(Pi(f,m,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ar||!(c=n.relatedTarget||n.fromElement)||!no(c)&&!c[Xi])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?no(c):null)&&(c!==(d=Cr(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Xs,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=ha,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:so(l),p=null==c?o:so(c),(o=new u(m,f+"leave",l,n,s)).target=d,o.relatedTarget=p,m=null,no(s)===r&&((u=new u(h,f+"enter",c,n,s)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Ri(p))f++;for(p=0,m=h;m;m=Ri(m))p++;for(;0<f-p;)u=Ri(u),f--;for(;0<p-f;)h=Ri(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Ri(u),h=Ri(h)}u=null}else u=null;null!==l&&Ii(i,o,l,u,!1),null!==c&&null!==d&&Ii(i,d,c,u,!0)}if("select"===(l=(o=r?so(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Da;else if(Ea(o))if(Aa)g=Va;else{g=$a;var x=Ua}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=qa);switch(g&&(g=g(e,r))?Pa(i,g,n,s):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&zn(o,"number",o.value)),x=r?so(r):window,e){case"focusin":(Ea(x)||"true"===x.contentEditable)&&(ei=x,ti=r,ni=null);break;case"focusout":ni=ti=ei=null;break;case"mousedown":ri=!0;break;case"contextmenu":case"mouseup":case"dragend":ri=!1,si(i,n,s);break;case"selectionchange":if(Za)break;case"keydown":case"keyup":si(i,n,s)}var v;if(va)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else _a?Na(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(wa&&"ko"!==n.locale&&(_a||"onCompositionStart"!==y?"onCompositionEnd"===y&&_a&&(v=zs()):(Os="value"in(Ls=s)?Ls.value:Ls.textContent,_a=!0)),0<(x=Ti(r,y)).length&&(y=new sa(y,e,null,n,s),i.push({event:y,listeners:x}),v?y.data=v:null!==(v=Sa(n))&&(y.data=v))),(v=ba?function(e,t){switch(e){case"compositionend":return Sa(t);case"keypress":return 32!==t.which?null:(ka=!0,ja);case"textInput":return(e=t.data)===ja&&ka?null:e;default:return null}}(e,n):function(e,t){if(_a)return"compositionend"===e||!va&&Na(e,t)?(e=zs(),Fs=Os=Ls=null,_a=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wa&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ti(r,"onBeforeInput")).length&&(s=new sa("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=v))}ji(i,t)})}function Pi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=xr(e,n))&&r.unshift(Pi(e,a,s)),null!=(a=xr(e,t))&&r.push(Pi(e,a,s))),e=e.return}return r}function Ri(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ii(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=xr(n,a))&&i.unshift(Pi(n,l,o)):s||null!=(l=xr(n,a))&&i.push(Pi(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Mi=/\r\n?/g,Di=/\u0000|\uFFFD/g;function Ai(e){return("string"==typeof e?e:""+e).replace(Mi,"\n").replace(Di,"")}function Li(e,t,n){if(t=Ai(t),Ai(e)!==t&&n)throw Error(qt(425))}function Oi(){}var Fi=null,zi=null;function Wi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ui="function"==typeof setTimeout?setTimeout:void 0,$i="function"==typeof clearTimeout?clearTimeout:void 0,qi="function"==typeof Promise?Promise:void 0,Vi="function"==typeof queueMicrotask?queueMicrotask:void 0!==qi?function(e){return qi.resolve(null).then(e).catch(Bi)}:Ui;function Bi(e){setTimeout(function(){throw e})}function Hi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Cs(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Cs(t)}function Qi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Ki(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Gi,Ji="__reactProps$"+Gi,Xi="__reactContainer$"+Gi,Zi="__reactEvents$"+Gi,eo="__reactListeners$"+Gi,to="__reactHandles$"+Gi;function no(e){var t=e[Yi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xi]||n[Yi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ki(e);null!==e;){if(n=e[Yi])return n;e=Ki(e)}return t}n=(e=n).parentNode}return null}function ro(e){return!(e=e[Yi]||e[Xi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function so(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(qt(33))}function ao(e){return e[Ji]||null}var io=[],oo=-1;function lo(e){return{current:e}}function co(e){0>oo||(e.current=io[oo],io[oo]=null,oo--)}function uo(e,t){oo++,io[oo]=e.current,e.current=t}var ho={},po=lo(ho),fo=lo(!1),mo=ho;function go(e,t){var n=e.type.contextTypes;if(!n)return ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xo(e){return null!=(e=e.childContextTypes)}function vo(){co(fo),co(po)}function yo(e,t,n){if(po.current!==ho)throw Error(qt(168));uo(po,t),uo(fo,n)}function bo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(qt(108,En(e)||"Unknown",s));return jn({},n,r)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ho,mo=po.current,uo(po,e),uo(fo,fo.current),!0}function jo(e,t,n){var r=e.stateNode;if(!r)throw Error(qt(169));n?(e=bo(e,t,mo),r.__reactInternalMemoizedMergedChildContext=e,co(fo),co(po),uo(po,e)):co(fo),uo(fo,n)}var ko=null,No=!1,So=!1;function _o(e){null===ko?ko=[e]:ko.push(e)}function Co(){if(!So&&null!==ko){So=!0;var e=0,t=ss;try{var n=ko;for(ss=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ko=null,No=!1}catch(s){throw null!==ko&&(ko=ko.slice(e+1)),Ir(Fr,Co),s}finally{ss=t,So=!1}}return null}var Eo=[],Po=0,To=null,Ro=0,Io=[],Mo=0,Do=null,Ao=1,Lo="";function Oo(e,t){Eo[Po++]=Ro,Eo[Po++]=To,To=e,Ro=t}function Fo(e,t,n){Io[Mo++]=Ao,Io[Mo++]=Lo,Io[Mo++]=Do,Do=e;var r=Ao;e=Lo;var s=32-Br(r)-1;r&=~(1<<s),n+=1;var a=32-Br(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Ao=1<<32-Br(t)+s|n<<s|r,Lo=a+e}else Ao=1<<a|n<<s|r,Lo=e}function zo(e){null!==e.return&&(Oo(e,1),Fo(e,1,0))}function Wo(e){for(;e===To;)To=Eo[--Po],Eo[Po]=null,Ro=Eo[--Po],Eo[Po]=null;for(;e===Do;)Do=Io[--Mo],Io[Mo]=null,Lo=Io[--Mo],Io[Mo]=null,Ao=Io[--Mo],Io[Mo]=null}var Uo=null,$o=null,qo=!1,Vo=null;function Bo(e,t){var n=mh(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Uo=e,$o=Qi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Uo=e,$o=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Do?{id:Ao,overflow:Lo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=mh(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Uo=e,$o=null,!0);default:return!1}}function Qo(e){return!(!(1&e.mode)||128&e.flags)}function Ko(e){if(qo){var t=$o;if(t){var n=t;if(!Ho(e,t)){if(Qo(e))throw Error(qt(418));t=Qi(n.nextSibling);var r=Uo;t&&Ho(e,t)?Bo(r,n):(e.flags=-4097&e.flags|2,qo=!1,Uo=e)}}else{if(Qo(e))throw Error(qt(418));e.flags=-4097&e.flags|2,qo=!1,Uo=e}}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Yo(e){if(e!==Uo)return!1;if(!qo)return Go(e),qo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Wi(e.type,e.memoizedProps)),t&&(t=$o)){if(Qo(e))throw Jo(),Error(qt(418));for(;t;)Bo(e,t),t=Qi(t.nextSibling)}if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(qt(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$o=Qi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$o=null}}else $o=Uo?Qi(e.stateNode.nextSibling):null;return!0}function Jo(){for(var e=$o;e;)e=Qi(e.nextSibling)}function Xo(){$o=Uo=null,qo=!1}function Zo(e){null===Vo?Vo=[e]:Vo.push(e)}var el=sn.ReactCurrentBatchConfig;function tl(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(qt(309));var r=n.stateNode}if(!r)throw Error(qt(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(qt(284));if(!n._owner)throw Error(qt(290,e))}return e}function nl(e,t){throw e=Object.prototype.toString.call(t),Error(qt(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rl(e){return(0,e._init)(e._payload)}function sl(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=xh(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=wh(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===ln?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===xn&&rl(a)===t.type)?((r=s(t,n.props)).ref=tl(e,t,n),r.return=e,r):((r=vh(n.type,n.key,n.props,null,e.mode,r)).ref=tl(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jh(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=yh(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=wh(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case an:return(n=vh(t.type,t.key,t.props,null,e.mode,n)).ref=tl(e,null,t),n.return=e,n;case on:return(t=jh(t,e.mode,n)).return=e,t;case xn:return d(e,(0,t._init)(t._payload),n)}if(Wn(t)||bn(t))return(t=yh(t,e.mode,n,null)).return=e,t;nl(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==s?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case an:return n.key===s?l(e,t,n,r):null;case on:return n.key===s?c(e,t,n,r):null;case xn:return h(e,t,(s=n._init)(n._payload),r)}if(Wn(n)||bn(n))return null!==s?null:u(e,t,n,r,null);nl(e,n)}return null}function p(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case an:return l(t,e=e.get(null===r.key?n:r.key)||null,r,s);case on:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case xn:return p(e,t,n,(0,r._init)(r._payload),s)}if(Wn(r)||bn(r))return u(t,e=e.get(n)||null,r,s,null);nl(t,r)}return null}return function o(l,c,u,f){if("object"==typeof u&&null!==u&&u.type===ln&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case an:e:{for(var m=u.key,g=c;null!==g;){if(g.key===m){if((m=u.type)===ln){if(7===g.tag){n(l,g.sibling),(c=s(g,u.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===xn&&rl(m)===g.type){n(l,g.sibling),(c=s(g,u.props)).ref=tl(l,g,u),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}u.type===ln?((c=yh(u.props.children,l.mode,f,u.key)).return=l,l=c):((f=vh(u.type,u.key,u.props,null,l.mode,f)).ref=tl(l,c,u),f.return=l,l=f)}return i(l);case on:e:{for(g=u.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=s(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=jh(u,l.mode,f)).return=l,l=c}return i(l);case xn:return o(l,c,(g=u._init)(u._payload),f)}if(Wn(u))return function(s,i,o,l){for(var c=null,u=null,f=i,m=i=0,g=null;null!==f&&m<o.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var x=h(s,f,o[m],l);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(s,f),i=a(x,i,m),null===u?c=x:u.sibling=x,u=x,f=g}if(m===o.length)return n(s,f),qo&&Oo(s,m),c;if(null===f){for(;m<o.length;m++)null!==(f=d(s,o[m],l))&&(i=a(f,i,m),null===u?c=f:u.sibling=f,u=f);return qo&&Oo(s,m),c}for(f=r(s,f);m<o.length;m++)null!==(g=p(f,s,m,o[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&f.forEach(function(e){return t(s,e)}),qo&&Oo(s,m),c}(l,c,u,f);if(bn(u))return function(s,i,o,l){var c=bn(o);if("function"!=typeof c)throw Error(qt(150));if(null==(o=c.call(o)))throw Error(qt(151));for(var u=c=null,f=i,m=i=0,g=null,x=o.next();null!==f&&!x.done;m++,x=o.next()){f.index>m?(g=f,f=null):g=f.sibling;var v=h(s,f,x.value,l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(s,f),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,f=g}if(x.done)return n(s,f),qo&&Oo(s,m),c;if(null===f){for(;!x.done;m++,x=o.next())null!==(x=d(s,x.value,l))&&(i=a(x,i,m),null===u?c=x:u.sibling=x,u=x);return qo&&Oo(s,m),c}for(f=r(s,f);!x.done;m++,x=o.next())null!==(x=p(f,s,m,x.value,l))&&(e&&null!==x.alternate&&f.delete(null===x.key?m:x.key),i=a(x,i,m),null===u?c=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(s,e)}),qo&&Oo(s,m),c}(l,c,u,f);nl(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=s(c,u)).return=l,l=c):(n(l,c),(c=wh(u,l.mode,f)).return=l,l=c),i(l)):n(l,c)}}var al=sl(!0),il=sl(!1),ol=lo(null),ll=null,cl=null,ul=null;function dl(){ul=cl=ll=null}function hl(e){var t=ol.current;co(ol),e._currentValue=t}function pl(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fl(e,t){ll=e,ul=cl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ru=!0),e.firstContext=null)}function ml(e){var t=e._currentValue;if(ul!==e)if(e={context:e,memoizedValue:t,next:null},null===cl){if(null===ll)throw Error(qt(308));cl=e,ll.dependencies={lanes:0,firstContext:e}}else cl=cl.next=e;return t}var gl=null;function xl(e){null===gl?gl=[e]:gl.push(e)}function vl(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,xl(t)):(n.next=s.next,s.next=n),t.interleaved=n,yl(e,r)}function yl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var bl=!1;function wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&hd){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yl(e,n)}return null===(s=r.interleaved)?(t.next=t,xl(r)):(t.next=s.next,s.next=t),r.interleaved=t,yl(e,n)}function Sl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,rs(e,n)}}function _l(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var s=e.updateQueue;bl=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(i=0,u=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,d,h):f))break e;d=jn({},d,h);break e;case 2:bl=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);bd|=i,e.lanes=i,e.memoizedState=d}}function El(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!=typeof s)throw Error(qt(191,s));s.call(r)}}}var Pl={},Tl=lo(Pl),Rl=lo(Pl),Il=lo(Pl);function Ml(e){if(e===Pl)throw Error(qt(174));return e}function Dl(e,t){switch(uo(Il,t),uo(Rl,e),uo(Tl,Pl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qn(null,"");break;default:t=Qn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}co(Tl),uo(Tl,t)}function Al(){co(Tl),co(Rl),co(Il)}function Ll(e){Ml(Il.current);var t=Ml(Tl.current),n=Qn(t,e.type);t!==n&&(uo(Rl,e),uo(Tl,n))}function Ol(e){Rl.current===e&&(co(Tl),co(Rl))}var Fl=lo(0);function zl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wl=[];function Ul(){for(var e=0;e<Wl.length;e++)Wl[e]._workInProgressVersionPrimary=null;Wl.length=0}var $l=sn.ReactCurrentDispatcher,ql=sn.ReactCurrentBatchConfig,Vl=0,Bl=null,Hl=null,Ql=null,Kl=!1,Gl=!1,Yl=0,Jl=0;function Xl(){throw Error(qt(321))}function Zl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ba(e[n],t[n]))return!1;return!0}function ec(e,t,n,r,s,a){if(Vl=a,Bl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=null===e||null===e.memoizedState?Oc:Fc,e=n(r,s),Gl){a=0;do{if(Gl=!1,Yl=0,25<=a)throw Error(qt(301));a+=1,Ql=Hl=null,t.updateQueue=null,$l.current=zc,e=n(r,s)}while(Gl)}if($l.current=Lc,t=null!==Hl&&null!==Hl.next,Vl=0,Ql=Hl=Bl=null,Kl=!1,t)throw Error(qt(300));return e}function tc(){var e=0!==Yl;return Yl=0,e}function nc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ql?Bl.memoizedState=Ql=e:Ql=Ql.next=e,Ql}function rc(){if(null===Hl){var e=Bl.alternate;e=null!==e?e.memoizedState:null}else e=Hl.next;var t=null===Ql?Bl.memoizedState:Ql.next;if(null!==t)Ql=t,Hl=e;else{if(null===e)throw Error(qt(310));e={memoizedState:(Hl=e).memoizedState,baseState:Hl.baseState,baseQueue:Hl.baseQueue,queue:Hl.queue,next:null},null===Ql?Bl.memoizedState=Ql=e:Ql=Ql.next=e}return Ql}function sc(e,t){return"function"==typeof t?t(e):t}function ac(e){var t=rc(),n=t.queue;if(null===n)throw Error(qt(311));n.lastRenderedReducer=e;var r=Hl,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var o=i=null,l=null,c=a;do{var u=c.lane;if((Vl&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=d,i=r):l=l.next=d,Bl.lanes|=u,bd|=u}c=c.next}while(null!==c&&c!==a);null===l?i=r:l.next=o,Ba(r,t.memoizedState)||(ru=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,Bl.lanes|=a,bd|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ic(e){var t=rc(),n=t.queue;if(null===n)throw Error(qt(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{a=e(a,i.action),i=i.next}while(i!==s);Ba(a,t.memoizedState)||(ru=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function oc(){}function lc(e,t){var n=Bl,r=rc(),s=t(),a=!Ba(r.memoizedState,s);if(a&&(r.memoizedState=s,ru=!0),r=r.queue,bc(dc.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Ql&&1&Ql.memoizedState.tag){if(n.flags|=2048,mc(9,uc.bind(null,n,r,s,t),void 0,null),null===pd)throw Error(qt(349));30&Vl||cc(n,t,s)}return s}function cc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bl.updateQueue)?(t={lastEffect:null,stores:null},Bl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function uc(e,t,n,r){t.value=n,t.getSnapshot=r,hc(t)&&pc(e)}function dc(e,t,n){return n(function(){hc(t)&&pc(e)})}function hc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ba(e,n)}catch(r){return!0}}function pc(e){var t=yl(e,1);null!==t&&Wd(t,e,1,-1)}function fc(e){var t=nc();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:e},t.queue=e,e=e.dispatch=Ic.bind(null,Bl,e),[t.memoizedState,e]}function mc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Bl.updateQueue)?(t={lastEffect:null,stores:null},Bl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gc(){return rc().memoizedState}function xc(e,t,n,r){var s=nc();Bl.flags|=e,s.memoizedState=mc(1|t,n,void 0,void 0===r?null:r)}function vc(e,t,n,r){var s=rc();r=void 0===r?null:r;var a=void 0;if(null!==Hl){var i=Hl.memoizedState;if(a=i.destroy,null!==r&&Zl(r,i.deps))return void(s.memoizedState=mc(t,n,a,r))}Bl.flags|=e,s.memoizedState=mc(1|t,n,a,r)}function yc(e,t){return xc(8390656,8,e,t)}function bc(e,t){return vc(2048,8,e,t)}function wc(e,t){return vc(4,2,e,t)}function jc(e,t){return vc(4,4,e,t)}function kc(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Nc(e,t,n){return n=null!=n?n.concat([e]):null,vc(4,4,kc.bind(null,t,e),n)}function Sc(){}function _c(e,t){var n=rc();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cc(e,t){var n=rc();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ec(e,t,n){return 21&Vl?(Ba(n,t)||(n=es(),Bl.lanes|=n,bd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ru=!0),e.memoizedState=n)}function Pc(e,t){var n=ss;ss=0!==n&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{ss=n,ql.transition=r}}function Tc(){return rc().memoizedState}function Rc(e,t,n){var r=zd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mc(e))Dc(t,n);else if(null!==(n=vl(e,t,n,r))){Wd(n,e,r,Fd()),Ac(n,t,r)}}function Ic(e,t,n){var r=zd(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))Dc(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,Ba(o,i)){var l=t.interleaved;return null===l?(s.next=s,xl(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=vl(e,t,s,r))&&(Wd(n,e,r,s=Fd()),Ac(n,t,r))}}function Mc(e){var t=e.alternate;return e===Bl||null!==t&&t===Bl}function Dc(e,t){Gl=Kl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ac(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,rs(e,n)}}var Lc={readContext:ml,useCallback:Xl,useContext:Xl,useEffect:Xl,useImperativeHandle:Xl,useInsertionEffect:Xl,useLayoutEffect:Xl,useMemo:Xl,useReducer:Xl,useRef:Xl,useState:Xl,useDebugValue:Xl,useDeferredValue:Xl,useTransition:Xl,useMutableSource:Xl,useSyncExternalStore:Xl,useId:Xl,unstable_isNewReconciler:!1},Oc={readContext:ml,useCallback:function(e,t){return nc().memoizedState=[e,void 0===t?null:t],e},useContext:ml,useEffect:yc,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,xc(4194308,4,kc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xc(4194308,4,e,t)},useInsertionEffect:function(e,t){return xc(4,2,e,t)},useMemo:function(e,t){var n=nc();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=nc();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rc.bind(null,Bl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},nc().memoizedState=e},useState:fc,useDebugValue:Sc,useDeferredValue:function(e){return nc().memoizedState=e},useTransition:function(){var e=fc(!1),t=e[0];return e=Pc.bind(null,e[1]),nc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Bl,s=nc();if(qo){if(void 0===n)throw Error(qt(407));n=n()}else{if(n=t(),null===pd)throw Error(qt(349));30&Vl||cc(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,yc(dc.bind(null,r,a,e),[e]),r.flags|=2048,mc(9,uc.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=nc(),t=pd.identifierPrefix;if(qo){var n=Lo;t=":"+t+"R"+(n=(Ao&~(1<<32-Br(Ao)-1)).toString(32)+n),0<(n=Yl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Jl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fc={readContext:ml,useCallback:_c,useContext:ml,useEffect:bc,useImperativeHandle:Nc,useInsertionEffect:wc,useLayoutEffect:jc,useMemo:Cc,useReducer:ac,useRef:gc,useState:function(){return ac(sc)},useDebugValue:Sc,useDeferredValue:function(e){return Ec(rc(),Hl.memoizedState,e)},useTransition:function(){return[ac(sc)[0],rc().memoizedState]},useMutableSource:oc,useSyncExternalStore:lc,useId:Tc,unstable_isNewReconciler:!1},zc={readContext:ml,useCallback:_c,useContext:ml,useEffect:bc,useImperativeHandle:Nc,useInsertionEffect:wc,useLayoutEffect:jc,useMemo:Cc,useReducer:ic,useRef:gc,useState:function(){return ic(sc)},useDebugValue:Sc,useDeferredValue:function(e){var t=rc();return null===Hl?t.memoizedState=e:Ec(t,Hl.memoizedState,e)},useTransition:function(){return[ic(sc)[0],rc().memoizedState]},useMutableSource:oc,useSyncExternalStore:lc,useId:Tc,unstable_isNewReconciler:!1};function Wc(e,t){if(e&&e.defaultProps){for(var n in t=jn({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Uc(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:jn({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var $c={isMounted:function(e){return!!(e=e._reactInternals)&&Cr(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fd(),s=zd(e),a=kl(r,s);a.payload=t,null!=n&&(a.callback=n),null!==(t=Nl(e,a,s))&&(Wd(t,e,s,r),Sl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fd(),s=zd(e),a=kl(r,s);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Nl(e,a,s))&&(Wd(t,e,s,r),Sl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fd(),r=zd(e),s=kl(n,r);s.tag=2,null!=t&&(s.callback=t),null!==(t=Nl(e,s,r))&&(Wd(t,e,r,n),Sl(t,e,r))}};function qc(e,t,n,r,s,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Ha(n,r)||!Ha(s,a))}function Vc(e,t,n){var r=!1,s=ho,a=t.contextType;return"object"==typeof a&&null!==a?a=ml(a):(s=xo(t)?mo:po.current,a=(r=null!=(r=t.contextTypes))?go(e,s):ho),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=$c,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bc(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$c.enqueueReplaceState(t,t.state,null)}function Hc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wl(e);var a=t.contextType;"object"==typeof a&&null!==a?s.context=ml(a):(a=xo(t)?mo:po.current,s.context=go(e,a)),s.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Uc(e,t,a,n),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&$c.enqueueReplaceState(s,s.state,null),Cl(e,n,s,r),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}function Qc(e,t){try{var n="",r=t;do{n+=_n(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function Kc(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Gc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yc="function"==typeof WeakMap?WeakMap:Map;function Jc(e,t,n){(n=kl(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ed||(Ed=!0,Pd=r),Gc(0,t)},n}function Xc(e,t,n){(n=kl(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Gc(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){Gc(0,t),"function"!=typeof r&&(null===Td?Td=new Set([this]):Td.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Zc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Yc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ch.bind(null,e,t,n),t.then(e,e))}function eu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function tu(e,t,n,r,s){return 1&e.mode?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=kl(-1,1)).tag=2,Nl(n,t,1))),n.lanes|=1),e)}var nu=sn.ReactCurrentOwner,ru=!1;function su(e,t,n,r){t.child=null===e?il(t,null,n,r):al(t,e.child,n,r)}function au(e,t,n,r,s){n=n.render;var a=t.ref;return fl(t,s),r=ec(e,t,n,r,a,s),n=tc(),null===e||ru?(qo&&n&&zo(t),t.flags|=1,su(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Eu(e,t,s))}function iu(e,t,n,r,s){if(null===e){var a=n.type;return"function"!=typeof a||gh(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=vh(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ou(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:Ha)(i,r)&&e.ref===t.ref)return Eu(e,t,s)}return t.flags|=1,(e=xh(a,r)).ref=t.ref,e.return=t,t.child=e}function ou(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(Ha(a,r)&&e.ref===t.ref){if(ru=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Eu(e,t,s);131072&e.flags&&(ru=!0)}}return uu(e,t,n,r,s)}function lu(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,uo(xd,gd),gd|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,uo(xd,gd),gd|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},uo(xd,gd),gd|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,uo(xd,gd),gd|=r;return su(e,t,s,n),t.child}function cu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,n,r,s){var a=xo(n)?mo:po.current;return a=go(t,a),fl(t,s),n=ec(e,t,n,r,a,s),r=tc(),null===e||ru?(qo&&r&&zo(t),t.flags|=1,su(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Eu(e,t,s))}function du(e,t,n,r,s){if(xo(n)){var a=!0;wo(t)}else a=!1;if(fl(t,s),null===t.stateNode)Cu(e,t),Vc(t,n,r),Hc(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=ml(c):c=go(t,c=xo(n)?mo:po.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==r||l!==c)&&Bc(t,i,r,c),bl=!1;var h=t.memoizedState;i.state=h,Cl(t,r,i,s),l=t.memoizedState,o!==r||h!==l||fo.current||bl?("function"==typeof u&&(Uc(t,n,u,r),l=t.memoizedState),(o=bl||qc(t,n,o,r,h,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,jl(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Wc(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=ml(l):l=go(t,l=xo(n)?mo:po.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==d||h!==l)&&Bc(t,i,r,l),bl=!1,h=t.memoizedState,i.state=h,Cl(t,r,i,s);var f=t.memoizedState;o!==d||h!==f||fo.current||bl?("function"==typeof p&&(Uc(t,n,p,r),f=t.memoizedState),(c=bl||qc(t,n,c,r,h,f,l)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return hu(e,t,n,r,a,s)}function hu(e,t,n,r,s,a){cu(e,t);var i=!!(128&t.flags);if(!r&&!i)return s&&jo(t,n,!1),Eu(e,t,a);r=t.stateNode,nu.current=t;var o=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=al(t,e.child,null,a),t.child=al(t,null,o,a)):su(e,t,o,a),t.memoizedState=r.state,s&&jo(t,n,!0),t.child}function pu(e){var t=e.stateNode;t.pendingContext?yo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yo(0,t.context,!1),Dl(e,t.containerInfo)}function fu(e,t,n,r,s){return Xo(),Zo(s),t.flags|=256,su(e,t,n,r),t.child}var mu,gu,xu,vu,yu={dehydrated:null,treeContext:null,retryLane:0};function bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function wu(e,t,n){var r,s=t.pendingProps,a=Fl.current,i=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),uo(Fl,1&a),null===e)return Ko(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},1&s||null===i?i=bh(o,s,0,null):(i.childLanes=0,i.pendingProps=o),e=yh(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bu(n),t.memoizedState=yu,e):ju(t,o));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,i){if(n)return 256&t.flags?(t.flags&=-257,ku(e,t,i,r=Kc(Error(qt(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=bh({mode:"visible",children:r.children},s,0,null),(a=yh(a,s,i,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&al(t,e.child,null,i),t.child.memoizedState=bu(i),t.memoizedState=yu,a);if(!(1&t.mode))return ku(e,t,i,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var o=r.dgst;return r=o,ku(e,t,i,r=Kc(a=Error(qt(419)),r,void 0))}if(o=0!==(i&e.childLanes),ru||o){if(null!==(r=pd)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|i))?0:s)&&s!==a.retryLane&&(a.retryLane=s,yl(e,s),Wd(r,e,s,-1))}return Zd(),ku(e,t,i,r=Kc(Error(qt(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=dh.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,$o=Qi(s.nextSibling),Uo=t,qo=!0,Vo=null,null!==e&&(Io[Mo++]=Ao,Io[Mo++]=Lo,Io[Mo++]=Do,Ao=e.id,Lo=e.overflow,Do=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,o,s,r,a,n);if(i){i=s.fallback,o=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:s.children};return 1&o||t.child===a?(s=xh(a,l)).subtreeFlags=14680064&a.subtreeFlags:((s=t.child).childLanes=0,s.pendingProps=l,t.deletions=null),null!==r?i=xh(r,i):(i=yh(i,o,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?bu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=yu,s}return e=(i=e.child).sibling,s=xh(i,{mode:"visible",children:s.children}),!(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ju(e,t){return(t=bh({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ku(e,t,n,r){return null!==r&&Zo(r),al(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Nu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),pl(e.return,t,n)}function Su(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function _u(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(su(e,t,r.children,n),2&(r=Fl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Nu(e,n,t);else if(19===e.tag)Nu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(Fl,r),1&t.mode)switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===zl(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Su(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===zl(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Su(t,!0,n,null,a);break;case"together":Su(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Cu(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Eu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),bd|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(qt(153));if(null!==t.child){for(n=xh(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xh(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Pu(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ru(e,t,n){var r=t.pendingProps;switch(Wo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tu(t),null;case 1:case 17:return xo(t.type)&&vo(),Tu(t),null;case 3:return r=t.stateNode,Al(),co(fo),co(po),Ul(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Yo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Vo&&(Vd(Vo),Vo=null))),gu(e,t),Tu(t),null;case 5:Ol(t);var s=Ml(Il.current);if(n=t.type,null!==e&&null!=t.stateNode)xu(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(qt(166));return Tu(t),null}if(e=Ml(Tl.current),Yo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yi]=t,r[Ji]=a,e=!!(1&t.mode),n){case"dialog":ki("cancel",r),ki("close",r);break;case"iframe":case"object":case"embed":ki("load",r);break;case"video":case"audio":for(s=0;s<yi.length;s++)ki(yi[s],r);break;case"source":ki("error",r);break;case"img":case"image":case"link":ki("error",r),ki("load",r);break;case"details":ki("toggle",r);break;case"input":An(r,a),ki("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ki("invalid",r);break;case"textarea":qn(r,a),ki("invalid",r)}for(var i in rr(n,a),s=null,a)if(a.hasOwnProperty(i)){var o=a[i];"children"===i?"string"==typeof o?r.textContent!==o&&(!0!==a.suppressHydrationWarning&&Li(r.textContent,o,e),s=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==a.suppressHydrationWarning&&Li(r.textContent,o,e),s=["children",""+o]):Bt.hasOwnProperty(i)&&null!=o&&"onScroll"===i&&ki("scroll",r)}switch(n){case"input":Rn(r),Fn(r,a,!0);break;case"textarea":Rn(r),Bn(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Oi)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Hn(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Yi]=t,e[Ji]=r,mu(e,t,!1,!1),t.stateNode=e;e:{switch(i=sr(n,r),n){case"dialog":ki("cancel",e),ki("close",e),s=r;break;case"iframe":case"object":case"embed":ki("load",e),s=r;break;case"video":case"audio":for(s=0;s<yi.length;s++)ki(yi[s],e);s=r;break;case"source":ki("error",e),s=r;break;case"img":case"image":case"link":ki("error",e),ki("load",e),s=r;break;case"details":ki("toggle",e),s=r;break;case"input":An(e,r),s=Dn(e,r),ki("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=jn({},r,{value:void 0}),ki("invalid",e);break;case"textarea":qn(e,r),s=$n(e,r),ki("invalid",e)}for(a in rr(n,s),o=s)if(o.hasOwnProperty(a)){var l=o[a];"style"===a?tr(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&Yn(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&Jn(e,l):"number"==typeof l&&Jn(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Bt.hasOwnProperty(a)?null!=l&&"onScroll"===a&&ki("scroll",e):null!=l&&rn(e,a,l,i))}switch(n){case"input":Rn(e),Fn(e,r,!1);break;case"textarea":Rn(e),Bn(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Pn(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?Un(e,!!r.multiple,a,!1):null!=r.defaultValue&&Un(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Tu(t),null;case 6:if(e&&null!=t.stateNode)vu(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(qt(166));if(n=Ml(Il.current),Ml(Tl.current),Yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yi]=t,(a=r.nodeValue!==n)&&null!==(e=Uo))switch(e.tag){case 3:Li(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Li(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yi]=t,t.stateNode=r}return Tu(t),null;case 13:if(co(Fl),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(qo&&null!==$o&&1&t.mode&&!(128&t.flags))Jo(),Xo(),t.flags|=98560,a=!1;else if(a=Yo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(qt(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(qt(317));a[Yi]=t}else Xo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Tu(t),a=!1}else null!==Vo&&(Vd(Vo),Vo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Fl.current?0===vd&&(vd=3):Zd())),null!==t.updateQueue&&(t.flags|=4),Tu(t),null);case 4:return Al(),gu(e,t),null===e&&_i(t.stateNode.containerInfo),Tu(t),null;case 10:return hl(t.type._context),Tu(t),null;case 19:if(co(Fl),null===(a=t.memoizedState))return Tu(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)Pu(a,!1);else{if(0!==vd||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=zl(e))){for(t.flags|=128,Pu(a,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(i=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return uo(Fl,1&Fl.current|2),t.child}e=e.sibling}null!==a.tail&&Lr()>_d&&(t.flags|=128,r=!0,Pu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=zl(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Pu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!qo)return Tu(t),null}else 2*Lr()-a.renderingStartTime>_d&&1073741824!==n&&(t.flags|=128,r=!0,Pu(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=a.last)?n.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Lr(),t.sibling=null,n=Fl.current,uo(Fl,r?1&n|2:1&n),t):(Tu(t),null);case 22:case 23:return Gd(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&gd)&&(Tu(t),6&t.subtreeFlags&&(t.flags|=8192)):Tu(t),null;case 24:case 25:return null}throw Error(qt(156,t.tag))}function Iu(e,t){switch(Wo(t),t.tag){case 1:return xo(t.type)&&vo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Al(),co(fo),co(po),Ul(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ol(t),null;case 13:if(co(Fl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(qt(340));Xo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return co(Fl),null;case 4:return Al(),null;case 10:return hl(t.type._context),null;case 22:case 23:return Gd(),null;default:return null}}mu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gu=function(){},xu=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ml(Tl.current);var a,i=null;switch(n){case"input":s=Dn(e,s),r=Dn(e,r),i=[];break;case"select":s=jn({},s,{value:void 0}),r=jn({},r,{value:void 0}),i=[];break;case"textarea":s=$n(e,s),r=$n(e,r),i=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Oi)}for(c in rr(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Bt.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(Bt.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&ki("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},vu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Mu=!1,Du=!1,Au="function"==typeof WeakSet?WeakSet:Set,Lu=null;function Ou(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){lh(e,t,r)}else n.current=null}function Fu(e,t,n){try{n()}catch(r){lh(e,t,r)}}var zu=!1;function Wu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Fu(t,n,a)}s=s.next}while(s!==r)}}function Uu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function qu(e){var t=e.alternate;null!==t&&(e.alternate=null,qu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Yi],delete t[Ji],delete t[Zi],delete t[eo],delete t[to])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vu(e){return 5===e.tag||3===e.tag||4===e.tag}function Bu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Vu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Hu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Oi));else if(4!==r&&null!==(e=e.child))for(Hu(e,t,n),e=e.sibling;null!==e;)Hu(e,t,n),e=e.sibling}function Qu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Qu(e,t,n),e=e.sibling;null!==e;)Qu(e,t,n),e=e.sibling}var Ku=null,Gu=!1;function Yu(e,t,n){for(n=n.child;null!==n;)Ju(e,t,n),n=n.sibling}function Ju(e,t,n){if(Vr&&"function"==typeof Vr.onCommitFiberUnmount)try{Vr.onCommitFiberUnmount(qr,n)}catch(o){}switch(n.tag){case 5:Du||Ou(n,t);case 6:var r=Ku,s=Gu;Ku=null,Yu(e,t,n),Gu=s,null!==(Ku=r)&&(Gu?(e=Ku,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Ku.removeChild(n.stateNode));break;case 18:null!==Ku&&(Gu?(e=Ku,n=n.stateNode,8===e.nodeType?Hi(e.parentNode,n):1===e.nodeType&&Hi(e,n),Cs(e)):Hi(Ku,n.stateNode));break;case 4:r=Ku,s=Gu,Ku=n.stateNode.containerInfo,Gu=!0,Yu(e,t,n),Ku=r,Gu=s;break;case 0:case 11:case 14:case 15:if(!Du&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&Fu(n,t,i),s=s.next}while(s!==r)}Yu(e,t,n);break;case 1:if(!Du&&(Ou(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){lh(n,t,o)}Yu(e,t,n);break;case 21:Yu(e,t,n);break;case 22:1&n.mode?(Du=(r=Du)||null!==n.memoizedState,Yu(e,t,n),Du=r):Yu(e,t,n);break;default:Yu(e,t,n)}}function Xu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Au),t.forEach(function(t){var r=hh.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Zu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:Ku=o.stateNode,Gu=!1;break e;case 3:case 4:Ku=o.stateNode.containerInfo,Gu=!0;break e}o=o.return}if(null===Ku)throw Error(qt(160));Ju(a,i,s),Ku=null,Gu=!1;var l=s.alternate;null!==l&&(l.return=null),s.return=null}catch(c){lh(s,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ed(t,e),t=t.sibling}function ed(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zu(t,e),td(e),4&r){try{Wu(3,e,e.return),Uu(3,e)}catch(m){lh(e,e.return,m)}try{Wu(5,e,e.return)}catch(m){lh(e,e.return,m)}}break;case 1:Zu(t,e),td(e),512&r&&null!==n&&Ou(n,n.return);break;case 5:if(Zu(t,e),td(e),512&r&&null!==n&&Ou(n,n.return),32&e.flags){var s=e.stateNode;try{Jn(s,"")}catch(m){lh(e,e.return,m)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,i=null!==n?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===a.type&&null!=a.name&&Ln(s,a),sr(o,i);var c=sr(o,a);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];"style"===u?tr(s,d):"dangerouslySetInnerHTML"===u?Yn(s,d):"children"===u?Jn(s,d):rn(s,u,d,c)}switch(o){case"input":On(s,a);break;case"textarea":Vn(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?Un(s,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?Un(s,!!a.multiple,a.defaultValue,!0):Un(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ji]=a}catch(m){lh(e,e.return,m)}}break;case 6:if(Zu(t,e),td(e),4&r){if(null===e.stateNode)throw Error(qt(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){lh(e,e.return,m)}}break;case 3:if(Zu(t,e),td(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(m){lh(e,e.return,m)}break;case 4:default:Zu(t,e),td(e);break;case 13:Zu(t,e),td(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Sd=Lr())),4&r&&Xu(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Du=(c=Du)||u,Zu(t,e),Du=c):Zu(t,e),td(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(Lu=e,u=e.child;null!==u;){for(d=Lu=u;null!==Lu;){switch(p=(h=Lu).child,h.tag){case 0:case 11:case 14:case 15:Wu(4,h,h.return);break;case 1:Ou(h,h.return);var f=h.stateNode;if("function"==typeof f.componentWillUnmount){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){lh(r,n,m)}}break;case 5:Ou(h,h.return);break;case 22:if(null!==h.memoizedState){ad(d);continue}}null!==p?(p.return=h,Lu=p):ad(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{s=d.stateNode,c?"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(o=d.stateNode,i=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=er("display",i))}catch(m){lh(e,e.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){lh(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zu(t,e),td(e),4&r&&Xu(e);case 21:}}function td(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Vu(n)){var r=n;break e}n=n.return}throw Error(qt(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(Jn(s,""),r.flags&=-33),Qu(e,Bu(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;Hu(e,Bu(e),a);break;default:throw Error(qt(161))}}catch(i){lh(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function nd(e,t,n){Lu=e,rd(e)}function rd(e,t,n){for(var r=!!(1&e.mode);null!==Lu;){var s=Lu,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Mu;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Du;o=Mu;var c=Du;if(Mu=i,(Du=l)&&!c)for(Lu=s;null!==Lu;)l=(i=Lu).child,22===i.tag&&null!==i.memoizedState?id(s):null!==l?(l.return=i,Lu=l):id(s);for(;null!==a;)Lu=a,rd(a),a=a.sibling;Lu=s,Mu=o,Du=c}sd(e)}else 8772&s.subtreeFlags&&null!==a?(a.return=s,Lu=a):sd(e)}}function sd(e){for(;null!==Lu;){var t=Lu;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Du||Uu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Du)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Wc(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&El(t,a,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}El(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Cs(d)}}}break;default:throw Error(qt(163))}Du||512&t.flags&&$u(t)}catch(h){lh(t,t.return,h)}}if(t===e){Lu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Lu=n;break}Lu=t.return}}function ad(e){for(;null!==Lu;){var t=Lu;if(t===e){Lu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Lu=n;break}Lu=t.return}}function id(e){for(;null!==Lu;){var t=Lu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uu(4,t)}catch(l){lh(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){lh(t,s,l)}}var a=t.return;try{$u(t)}catch(l){lh(t,a,l)}break;case 5:var i=t.return;try{$u(t)}catch(l){lh(t,i,l)}}}catch(l){lh(t,t.return,l)}if(t===e){Lu=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Lu=o;break}Lu=t.return}}var od,ld=Math.ceil,cd=sn.ReactCurrentDispatcher,ud=sn.ReactCurrentOwner,dd=sn.ReactCurrentBatchConfig,hd=0,pd=null,fd=null,md=0,gd=0,xd=lo(0),vd=0,yd=null,bd=0,wd=0,jd=0,kd=null,Nd=null,Sd=0,_d=1/0,Cd=null,Ed=!1,Pd=null,Td=null,Rd=!1,Id=null,Md=0,Dd=0,Ad=null,Ld=-1,Od=0;function Fd(){return 6&hd?Lr():-1!==Ld?Ld:Ld=Lr()}function zd(e){return 1&e.mode?2&hd&&0!==md?md&-md:null!==el.transition?(0===Od&&(Od=es()),Od):0!==(e=ss)?e:e=void 0===(e=window.event)?16:As(e.type):1}function Wd(e,t,n,r){if(50<Dd)throw Dd=0,Ad=null,Error(qt(185));ns(e,n,r),2&hd&&e===pd||(e===pd&&(!(2&hd)&&(wd|=n),4===vd&&Bd(e,md)),Ud(e,r),1===n&&0===hd&&!(1&t.mode)&&(_d=Lr()+500,No&&Co()))}function Ud(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Br(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=Xr(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=Jr(e,e===pd?md:0);if(0===r)null!==n&&Mr(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Mr(n),1===t)0===e.tag?function(e){No=!0,_o(e)}(Hd.bind(null,e)):_o(Hd.bind(null,e)),Vi(function(){!(6&hd)&&Co()}),n=null;else{switch(as(r)){case 1:n=Fr;break;case 4:n=zr;break;case 16:default:n=Wr;break;case 536870912:n=$r}n=ph(n,$d.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $d(e,t){if(Ld=-1,Od=0,6&hd)throw Error(qt(327));var n=e.callbackNode;if(ih()&&e.callbackNode!==n)return null;var r=Jr(e,e===pd?md:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=eh(e,r);else{t=r;var s=hd;hd|=2;var a=Xd();for(pd===e&&md===t||(Cd=null,_d=Lr()+500,Yd(e,t));;)try{nh();break}catch(o){Jd(e,o)}dl(),cd.current=a,hd=s,null!==fd?t=0:(pd=null,md=0,t=vd)}if(0!==t){if(2===t&&(0!==(s=Zr(e))&&(r=s,t=qd(e,s))),1===t)throw n=yd,Yd(e,0),Bd(e,r),Ud(e,Lr()),n;if(6===t)Bd(e,r);else{if(s=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Ba(a(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)||(t=eh(e,r),2===t&&(a=Zr(e),0!==a&&(r=a,t=qd(e,a))),1!==t)))throw n=yd,Yd(e,0),Bd(e,r),Ud(e,Lr()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(qt(345));case 2:case 5:ah(e,Nd,Cd);break;case 3:if(Bd(e,r),(130023424&r)===r&&10<(t=Sd+500-Lr())){if(0!==Jr(e,0))break;if(((s=e.suspendedLanes)&r)!==r){Fd(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ui(ah.bind(null,e,Nd,Cd),t);break}ah(e,Nd,Cd);break;case 4:if(Bd(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Br(r);a=1<<i,(i=t[i])>s&&(s=i),r&=~a}if(r=s,10<(r=(120>(r=Lr()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ld(r/1960))-r)){e.timeoutHandle=Ui(ah.bind(null,e,Nd,Cd),r);break}ah(e,Nd,Cd);break;default:throw Error(qt(329))}}}return Ud(e,Lr()),e.callbackNode===n?$d.bind(null,e):null}function qd(e,t){var n=kd;return e.current.memoizedState.isDehydrated&&(Yd(e,t).flags|=256),2!==(e=eh(e,t))&&(t=Nd,Nd=n,null!==t&&Vd(t)),e}function Vd(e){null===Nd?Nd=e:Nd.push.apply(Nd,e)}function Bd(e,t){for(t&=~jd,t&=~wd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Br(t),r=1<<n;e[n]=-1,t&=~r}}function Hd(e){if(6&hd)throw Error(qt(327));ih();var t=Jr(e,0);if(!(1&t))return Ud(e,Lr()),null;var n=eh(e,t);if(0!==e.tag&&2===n){var r=Zr(e);0!==r&&(t=r,n=qd(e,r))}if(1===n)throw n=yd,Yd(e,0),Bd(e,t),Ud(e,Lr()),n;if(6===n)throw Error(qt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ah(e,Nd,Cd),Ud(e,Lr()),null}function Qd(e,t){var n=hd;hd|=1;try{return e(t)}finally{0===(hd=n)&&(_d=Lr()+500,No&&Co())}}function Kd(e){null!==Id&&0===Id.tag&&!(6&hd)&&ih();var t=hd;hd|=1;var n=dd.transition,r=ss;try{if(dd.transition=null,ss=1,e)return e()}finally{ss=r,dd.transition=n,!(6&(hd=t))&&Co()}}function Gd(){gd=xd.current,co(xd)}function Yd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,$i(n)),null!==fd)for(n=fd.return;null!==n;){var r=n;switch(Wo(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&vo();break;case 3:Al(),co(fo),co(po),Ul();break;case 5:Ol(r);break;case 4:Al();break;case 13:case 19:co(Fl);break;case 10:hl(r.type._context);break;case 22:case 23:Gd()}n=n.return}if(pd=e,fd=e=xh(e.current,null),md=gd=t,vd=0,yd=null,jd=wd=bd=0,Nd=kd=null,null!==gl){for(t=0;t<gl.length;t++)if(null!==(r=(n=gl[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}gl=null}return e}function Jd(e,t){for(;;){var n=fd;try{if(dl(),$l.current=Lc,Kl){for(var r=Bl.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}Kl=!1}if(Vl=0,Ql=Hl=Bl=null,Gl=!1,Yl=0,ud.current=null,null===n||null===n.return){vd=1,yd=t,fd=null;break}e:{var a=e,i=n.return,o=n,l=t;if(t=md,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=o,d=u.tag;if(!(1&u.mode||0!==d&&11!==d&&15!==d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=eu(i);if(null!==p){p.flags&=-257,tu(p,i,o,0,t),1&p.mode&&Zc(a,c,t),l=c;var f=(t=p).updateQueue;if(null===f){var m=new Set;m.add(l),t.updateQueue=m}else f.add(l);break e}if(!(1&t)){Zc(a,c,t),Zd();break e}l=Error(qt(426))}else if(qo&&1&o.mode){var g=eu(i);if(null!==g){!(65536&g.flags)&&(g.flags|=256),tu(g,i,o,0,t),Zo(Qc(l,o));break e}}a=l=Qc(l,o),4!==vd&&(vd=2),null===kd?kd=[a]:kd.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,_l(a,Jc(0,l,t));break e;case 1:o=l;var x=a.type,v=a.stateNode;if(!(128&a.flags||"function"!=typeof x.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Td&&Td.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,_l(a,Xc(a,o,t));break e}}a=a.return}while(null!==a)}sh(n)}catch(y){t=y,fd===n&&null!==n&&(fd=n=n.return);continue}break}}function Xd(){var e=cd.current;return cd.current=Lc,null===e?Lc:e}function Zd(){0!==vd&&3!==vd&&2!==vd||(vd=4),null===pd||!(268435455&bd)&&!(268435455&wd)||Bd(pd,md)}function eh(e,t){var n=hd;hd|=2;var r=Xd();for(pd===e&&md===t||(Cd=null,Yd(e,t));;)try{th();break}catch(s){Jd(e,s)}if(dl(),hd=n,cd.current=r,null!==fd)throw Error(qt(261));return pd=null,md=0,vd}function th(){for(;null!==fd;)rh(fd)}function nh(){for(;null!==fd&&!Dr();)rh(fd)}function rh(e){var t=od(e.alternate,e,gd);e.memoizedProps=e.pendingProps,null===t?sh(e):fd=t,ud.current=null}function sh(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Iu(n,t)))return n.flags&=32767,void(fd=n);if(null===e)return vd=6,void(fd=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ru(n,t,gd)))return void(fd=n);if(null!==(t=t.sibling))return void(fd=t);fd=t=e}while(null!==t);0===vd&&(vd=5)}function ah(e,t,n){var r=ss,s=dd.transition;try{dd.transition=null,ss=1,function(e,t,n,r){do{ih()}while(null!==Id);if(6&hd)throw Error(qt(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(qt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Br(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,a),e===pd&&(fd=pd=null,md=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Rd||(Rd=!0,ph(Wr,function(){return ih(),null})),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=dd.transition,dd.transition=null;var i=ss;ss=1;var o=hd;hd|=4,ud.current=null,function(e,t){if(Fi=Ps,Ja(e=Ya())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var i=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(o=i+s),d!==a||0!==r&&3!==d.nodeType||(l=i+r),3===d.nodeType&&(i+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===s&&(o=i),h===a&&++u===r&&(l=i),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zi={focusedElem:e,selectionRange:n},Ps=!1,Lu=t;null!==Lu;)if(e=(t=Lu).child,1028&t.subtreeFlags&&null!==e)e.return=t,Lu=e;else for(;null!==Lu;){t=Lu;try{var f=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,g=f.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wc(t.type,m),g);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(qt(163))}}catch(b){lh(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Lu=e;break}Lu=t.return}f=zu,zu=!1}(e,n),ed(n,e),Xa(zi),Ps=!!Fi,zi=Fi=null,e.current=n,nd(n),Ar(),hd=o,ss=i,dd.transition=a}else e.current=n;if(Rd&&(Rd=!1,Id=e,Md=s),a=e.pendingLanes,0===a&&(Td=null),function(e){if(Vr&&"function"==typeof Vr.onCommitFiberRoot)try{Vr.onCommitFiberRoot(qr,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),Ud(e,Lr()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ed)throw Ed=!1,e=Pd,Pd=null,e;!!(1&Md)&&0!==e.tag&&ih(),a=e.pendingLanes,1&a?e===Ad?Dd++:(Dd=0,Ad=e):Dd=0,Co()}(e,t,n,r)}finally{dd.transition=s,ss=r}return null}function ih(){if(null!==Id){var e=as(Md),t=dd.transition,n=ss;try{if(dd.transition=null,ss=16>e?16:e,null===Id)var r=!1;else{if(e=Id,Id=null,Md=0,6&hd)throw Error(qt(331));var s=hd;for(hd|=4,Lu=e.current;null!==Lu;){var a=Lu,i=a.child;if(16&Lu.flags){var o=a.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(Lu=c;null!==Lu;){var u=Lu;switch(u.tag){case 0:case 11:case 15:Wu(8,u,a)}var d=u.child;if(null!==d)d.return=u,Lu=d;else for(;null!==Lu;){var h=(u=Lu).sibling,p=u.return;if(qu(u),u===c){Lu=null;break}if(null!==h){h.return=p,Lu=h;break}Lu=p}}}var f=a.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Lu=a}}if(2064&a.subtreeFlags&&null!==i)i.return=a,Lu=i;else e:for(;null!==Lu;){if(2048&(a=Lu).flags)switch(a.tag){case 0:case 11:case 15:Wu(9,a,a.return)}var x=a.sibling;if(null!==x){x.return=a.return,Lu=x;break e}Lu=a.return}}var v=e.current;for(Lu=v;null!==Lu;){var y=(i=Lu).child;if(2064&i.subtreeFlags&&null!==y)y.return=i,Lu=y;else e:for(i=v;null!==Lu;){if(2048&(o=Lu).flags)try{switch(o.tag){case 0:case 11:case 15:Uu(9,o)}}catch(w){lh(o,o.return,w)}if(o===i){Lu=null;break e}var b=o.sibling;if(null!==b){b.return=o.return,Lu=b;break e}Lu=o.return}}if(hd=s,Co(),Vr&&"function"==typeof Vr.onPostCommitFiberRoot)try{Vr.onPostCommitFiberRoot(qr,e)}catch(w){}r=!0}return r}finally{ss=n,dd.transition=t}}return!1}function oh(e,t,n){e=Nl(e,t=Jc(0,t=Qc(n,t),1),1),t=Fd(),null!==e&&(ns(e,1,t),Ud(e,t))}function lh(e,t,n){if(3===e.tag)oh(e,e,n);else for(;null!==t;){if(3===t.tag){oh(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Td||!Td.has(r))){t=Nl(t,e=Xc(t,e=Qc(n,e),1),1),e=Fd(),null!==t&&(ns(t,1,e),Ud(t,e));break}}t=t.return}}function ch(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Fd(),e.pingedLanes|=e.suspendedLanes&n,pd===e&&(md&n)===n&&(4===vd||3===vd&&(130023424&md)===md&&500>Lr()-Sd?Yd(e,0):jd|=n),Ud(e,t)}function uh(e,t){0===t&&(1&e.mode?(t=Gr,!(130023424&(Gr<<=1))&&(Gr=4194304)):t=1);var n=Fd();null!==(e=yl(e,t))&&(ns(e,t,n),Ud(e,n))}function dh(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),uh(e,n)}function hh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(qt(314))}null!==r&&r.delete(t),uh(e,n)}function ph(e,t){return Ir(e,t)}function fh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mh(e,t,n,r){return new fh(e,t,n,r)}function gh(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xh(e,t){var n=e.alternate;return null===n?((n=mh(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vh(e,t,n,r,s,a){var i=2;if(r=e,"function"==typeof e)gh(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case ln:return yh(n.children,s,a,t);case cn:i=8,s|=8;break;case un:return(e=mh(12,n,t,2|s)).elementType=un,e.lanes=a,e;case fn:return(e=mh(13,n,t,s)).elementType=fn,e.lanes=a,e;case mn:return(e=mh(19,n,t,s)).elementType=mn,e.lanes=a,e;case vn:return bh(n,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case dn:i=10;break e;case hn:i=9;break e;case pn:i=11;break e;case gn:i=14;break e;case xn:i=16,r=null;break e}throw Error(qt(130,null==e?e:typeof e,""))}return(t=mh(i,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function yh(e,t,n,r){return(e=mh(7,e,r,t)).lanes=n,e}function bh(e,t,n,r){return(e=mh(22,e,r,t)).elementType=vn,e.lanes=n,e.stateNode={isHidden:!1},e}function wh(e,t,n){return(e=mh(6,e,null,t)).lanes=n,e}function jh(e,t,n){return(t=mh(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ts(0),this.expirationTimes=ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nh(e,t,n,r,s,a,i,o,l){return e=new kh(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=mh(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wl(a),e}function Sh(e){if(!e)return ho;e:{if(Cr(e=e._reactInternals)!==e||1!==e.tag)throw Error(qt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(qt(171))}if(1===e.tag){var n=e.type;if(xo(n))return bo(e,n,t)}return t}function _h(e,t,n,r,s,a,i,o,l){return(e=Nh(n,r,!0,e,0,a,0,o,l)).context=Sh(null),n=e.current,(a=kl(r=Fd(),s=zd(n))).callback=null!=t?t:null,Nl(n,a,s),e.current.lanes=s,ns(e,s,r),Ud(e,r),e}function Ch(e,t,n,r){var s=t.current,a=Fd(),i=zd(s);return n=Sh(n),null===t.context?t.context=n:t.pendingContext=n,(t=kl(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Nl(s,t,i))&&(Wd(e,s,i,a),Sl(e,s,i)),i}function Eh(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ph(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Th(e,t){Ph(e,t),(e=e.alternate)&&Ph(e,t)}od=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||fo.current)ru=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return ru=!1,function(e,t,n){switch(t.tag){case 3:pu(t),Xo();break;case 5:Ll(t);break;case 1:xo(t.type)&&wo(t);break;case 4:Dl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;uo(ol,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(uo(Fl,1&Fl.current),t.flags|=128,null):0!==(n&t.child.childLanes)?wu(e,t,n):(uo(Fl,1&Fl.current),null!==(e=Eu(e,t,n))?e.sibling:null);uo(Fl,1&Fl.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return _u(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),uo(Fl,Fl.current),r)break;return null;case 22:case 23:return t.lanes=0,lu(e,t,n)}return Eu(e,t,n)}(e,t,n);ru=!!(131072&e.flags)}else ru=!1,qo&&1048576&t.flags&&Fo(t,Ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cu(e,t),e=t.pendingProps;var s=go(t,po.current);fl(t,n),s=ec(null,t,r,e,s,n);var a=tc();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xo(r)?(a=!0,wo(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,wl(t),s.updater=$c,t.stateNode=s,s._reactInternals=t,Hc(t,r,e,n),t=hu(null,t,r,!0,a,n)):(t.tag=0,qo&&a&&zo(t),su(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cu(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"==typeof e)return gh(e)?1:0;if(null!=e){if((e=e.$$typeof)===pn)return 11;if(e===gn)return 14}return 2}(r),e=Wc(r,e),s){case 0:t=uu(null,t,r,e,n);break e;case 1:t=du(null,t,r,e,n);break e;case 11:t=au(null,t,r,e,n);break e;case 14:t=iu(null,t,r,Wc(r.type,e),n);break e}throw Error(qt(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,uu(e,t,r,s=t.elementType===r?s:Wc(r,s),n);case 1:return r=t.type,s=t.pendingProps,du(e,t,r,s=t.elementType===r?s:Wc(r,s),n);case 3:e:{if(pu(t),null===e)throw Error(qt(387));r=t.pendingProps,s=(a=t.memoizedState).element,jl(e,t),Cl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=fu(e,t,r,n,s=Qc(Error(qt(423)),t));break e}if(r!==s){t=fu(e,t,r,n,s=Qc(Error(qt(424)),t));break e}for($o=Qi(t.stateNode.containerInfo.firstChild),Uo=t,qo=!0,Vo=null,n=il(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Xo(),r===s){t=Eu(e,t,n);break e}su(e,t,r,n)}t=t.child}return t;case 5:return Ll(t),null===e&&Ko(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,Wi(r,s)?i=null:null!==a&&Wi(r,a)&&(t.flags|=32),cu(e,t),su(e,t,i,n),t.child;case 6:return null===e&&Ko(t),null;case 13:return wu(e,t,n);case 4:return Dl(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=al(t,null,r,n):su(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,au(e,t,r,s=t.elementType===r?s:Wc(r,s),n);case 7:return su(e,t,t.pendingProps,n),t.child;case 8:case 12:return su(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,uo(ol,r._currentValue),r._currentValue=i,null!==a)if(Ba(a.value,i)){if(a.children===s.children&&!fo.current){t=Eu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var o=a.dependencies;if(null!==o){i=a.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=kl(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),pl(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===a.tag)i=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(i=a.return))throw Error(qt(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),pl(i,n,t),i=a.sibling}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===t){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}su(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fl(t,n),r=r(s=ml(s)),t.flags|=1,su(e,t,r,n),t.child;case 14:return s=Wc(r=t.type,t.pendingProps),iu(e,t,r,s=Wc(r.type,s),n);case 15:return ou(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wc(r,s),Cu(e,t),t.tag=1,xo(r)?(e=!0,wo(t)):e=!1,fl(t,n),Vc(t,r,s),Hc(t,r,s,n),hu(null,t,r,!0,e,n);case 19:return _u(e,t,n);case 22:return lu(e,t,n)}throw Error(qt(156,t.tag))};var Rh="function"==typeof reportError?reportError:function(e){console.error(e)};function Ih(e){this._internalRoot=e}function Mh(e){this._internalRoot=e}function Dh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ah(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Lh(){}function Oh(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof s){var o=s;s=function(){var e=Eh(i);o.call(e)}}Ch(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"==typeof r){var a=r;r=function(){var e=Eh(i);a.call(e)}}var i=_h(t,r,e,0,null,!1,0,"",Lh);return e._reactRootContainer=i,e[Xi]=i.current,_i(8===e.nodeType?e.parentNode:e),Kd(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof r){var o=r;r=function(){var e=Eh(l);o.call(e)}}var l=Nh(e,0,!1,null,0,!1,0,"",Lh);return e._reactRootContainer=l,e[Xi]=l.current,_i(8===e.nodeType?e.parentNode:e),Kd(function(){Ch(t,l,n,r)}),l}(n,t,e,s,r);return Eh(i)}Mh.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(qt(409));Ch(e,t,null,null)},Mh.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Kd(function(){Ch(null,e,null,null)}),t[Xi]=null}},Mh.prototype.unstable_scheduleHydration=function(e){if(e){var t=cs();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vs.length&&0!==t&&t<vs[n].priority;n++);vs.splice(n,0,e),0===n&&js(e)}},is=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yr(t.pendingLanes);0!==n&&(rs(t,1|n),Ud(t,Lr()),!(6&hd)&&(_d=Lr()+500,Co()))}break;case 13:Kd(function(){var t=yl(e,1);if(null!==t){var n=Fd();Wd(t,e,1,n)}}),Th(e,1)}},os=function(e){if(13===e.tag){var t=yl(e,134217728);if(null!==t)Wd(t,e,134217728,Fd());Th(e,134217728)}},ls=function(e){if(13===e.tag){var t=zd(e),n=yl(e,t);if(null!==n)Wd(n,e,t,Fd());Th(e,t)}},cs=function(){return ss},us=function(e,t){var n=ss;try{return ss=e,t()}finally{ss=n}},or=function(e,t,n){switch(t){case"input":if(On(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ao(r);if(!s)throw Error(qt(90));In(r),On(r,s)}}}break;case"textarea":Vn(e,n);break;case"select":null!=(t=n.value)&&Un(e,!!n.multiple,t,!1)}},pr=Qd,fr=Kd;var Fh={usingClientEntryPoint:!1,Events:[ro,so,ao,dr,hr,Qd]},zh={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wh={bundleType:zh.bundleType,version:zh.version,rendererPackageName:zh.rendererPackageName,rendererConfig:zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Tr(e))?null:e.stateNode},findFiberByHostInstance:zh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{qr=Uh.inject(Wh),Vr=Uh}catch(Gn){}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fh,Ot.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Dh(t))throw Error(qt(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:on,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Ot.createRoot=function(e,t){if(!Dh(e))throw Error(qt(299));var n=!1,r="",s=Rh;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Nh(e,1,!1,null,0,n,0,r,s),e[Xi]=t.current,_i(8===e.nodeType?e.parentNode:e),new Ih(t)},Ot.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(qt(188));throw e=Object.keys(e).join(","),Error(qt(268,e))}return e=null===(e=Tr(t))?null:e.stateNode},Ot.flushSync=function(e){return Kd(e)},Ot.hydrate=function(e,t,n){if(!Ah(t))throw Error(qt(200));return Oh(null,e,t,!0,n)},Ot.hydrateRoot=function(e,t,n){if(!Dh(e))throw Error(qt(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",i=Rh;if(null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=_h(t,null,e,1,null!=n?n:null,s,0,a,i),e[Xi]=t.current,_i(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Mh(t)},Ot.render=function(e,t,n){if(!Ah(t))throw Error(qt(200));return Oh(null,e,t,!1,n)},Ot.unmountComponentAtNode=function(e){if(!Ah(e))throw Error(qt(40));return!!e._reactRootContainer&&(Kd(function(){Oh(null,null,e,!1,function(){e._reactRootContainer=null,e[Xi]=null})}),!0)},Ot.unstable_batchedUpdates=Qd,Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ah(n))throw Error(qt(200));if(null==e||void 0===e._reactInternals)throw Error(qt(38));return Oh(e,t,n,!1,r)},Ot.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),Lt.exports=Ot;var $h=Lt.exports;const qh=ze($h);var Vh=$h;At.createRoot=Vh.createRoot,At.hydrateRoot=Vh.hydrateRoot;var Bh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hh="undefined"==typeof window||"Deno"in globalThis;function Qh(){}function Kh(e){return"number"==typeof e&&e>=0&&e!==1/0}function Gh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yh(e,t){return"function"==typeof e?e(t):e}function Jh(e,t){return"function"==typeof e?e(t):e}function Xh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==ep(i,t.options))return!1}else if(!np(t.queryKey,i))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!s||s===t.state.fetchStatus)&&!(a&&!a(t)))}function Zh(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(tp(t.options.mutationKey)!==tp(a))return!1}else if(!np(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function ep(e,t){return((null==t?void 0:t.queryKeyHashFn)||tp)(e)}function tp(e){return JSON.stringify(e,(e,t)=>ip(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function np(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>np(e[n],t[n])))}function rp(e,t){if(e===t)return e;const n=ap(e)&&ap(t);if(n||ip(e)&&ip(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,o=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<i;u++){const r=n?u:a[u];(!n&&l.has(r)||n)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,c++):(o[r]=rp(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&c++)}return s===i&&c===s?e:o}return t}function sp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ap(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ip(e){if(!op(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!op(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function op(e){return"[object Object]"===Object.prototype.toString.call(e)}function lp(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?rp(e,t):t}function cp(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function up(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var dp=Symbol();function hp(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==dp?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function pp(e,t){return"function"==typeof e?e(...t):!!e}var fp=new(r=class extends Bh{constructor(){super(),Me(this,e),Me(this,t),Me(this,n),De(this,n,e=>{if(!Hh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Ie(this,t)||this.setEventListener(Ie(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Ie(this,t))||e.call(this),De(this,t,void 0))}setEventListener(e){var r;De(this,n,e),null==(r=Ie(this,t))||r.call(this),De(this,t,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(t){Ie(this,e)!==t&&(De(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var t;return"boolean"==typeof Ie(this,e)?Ie(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r),mp=new(o=class extends Bh{constructor(){super(),Me(this,s,!0),Me(this,a),Me(this,i),De(this,i,e=>{if(!Hh&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){Ie(this,a)||this.setEventListener(Ie(this,i))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Ie(this,a))||e.call(this),De(this,a,void 0))}setEventListener(e){var t;De(this,i,e),null==(t=Ie(this,a))||t.call(this),De(this,a,e(this.setOnline.bind(this)))}setOnline(e){Ie(this,s)!==e&&(De(this,s,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return Ie(this,s)}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o);function gp(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function xp(e){return Math.min(1e3*2**e,3e4)}function vp(e){return"online"!==(e??"online")||mp.isOnline()}var yp=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function bp(e){return e instanceof yp}function wp(e){let t,n=!1,r=0,s=!1;const a=gp(),i=()=>fp.isFocused()&&("always"===e.networkMode||mp.isOnline())&&e.canRun(),o=()=>vp(e.networkMode)&&e.canRun(),l=n=>{var r;s||(s=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),a.resolve(n))},c=n=>{var r;s||(s=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),a.reject(n))},u=()=>new Promise(n=>{var r;t=e=>{(s||i())&&n(e)},null==(r=e.onPause)||r.call(e)}).then(()=>{var n;t=void 0,s||null==(n=e.onContinue)||n.call(e)}),d=()=>{if(s)return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var a;if(s)return;const o=e.retry??(Hh?0:3),l=e.retryDelay??xp,h="function"==typeof l?l(r,t):l,p=!0===o||"number"==typeof o&&r<o||"function"==typeof o&&o(r,t);var f;!n&&p?(r++,null==(a=e.onFail)||a.call(e,r,t),(f=h,new Promise(e=>{setTimeout(e,f)})).then(()=>i()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:a,cancel:t=>{var n;s||(c(new yp(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),a),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():u().then(d),a)}}var jp=e=>setTimeout(e,0);var kp=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=jp;const a=r=>{t?e.push(r):s(()=>{n(r)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return i},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),Np=(c=class{constructor(){Me(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kh(this.gcTime)&&De(this,l,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hh?1/0:3e5))}clearGcTimeout(){Ie(this,l)&&(clearTimeout(Ie(this,l)),De(this,l,void 0))}},l=new WeakMap,c),Sp=(y=class extends Np{constructor(e){super(),Me(this,x),Me(this,u),Me(this,d),Me(this,h),Me(this,p),Me(this,f),Me(this,m),Me(this,g),De(this,g,!1),De(this,m,e.defaultOptions),this.setOptions(e.options),this.observers=[],De(this,p,e.client),De(this,h,Ie(this,p).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,De(this,u,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??Ie(this,u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=Ie(this,f))?void 0:e.promise}setOptions(e){this.options={...Ie(this,m),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Ie(this,h).remove(this)}setData(e,t){const n=lp(this.state.data,e,this.options);return Ae(this,x,v).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){Ae(this,x,v).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=Ie(this,f))?void 0:t.promise;return null==(n=Ie(this,f))||n.cancel(e),r?r.then(Qh).catch(Qh):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ie(this,u))}isActive(){return this.observers.some(e=>!1!==Jh(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Yh(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Gh(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=Ie(this,f))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=Ie(this,f))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ie(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Ie(this,f)&&(Ie(this,g)?Ie(this,f).cancel({revert:!0}):Ie(this,f).cancelRetry()),this.scheduleGc()),Ie(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,x,v).call(this,{type:"invalidate"})}fetch(e,t){var n,r,s;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(Ie(this,f))return Ie(this,f).continueRetry(),Ie(this,f).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(De(this,g,!0),a.signal)})},o=()=>{const e=hp(this.options,t),n=(()=>{const e={client:Ie(this,p),queryKey:this.queryKey,meta:this.meta};return i(e),e})();return De(this,g,!1),this.options.persister?this.options.persister(e,n,this):e(n)},l=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Ie(this,p),state:this.state,fetchFn:o};return i(e),e})();null==(n=this.options.behavior)||n.onFetch(l,this),De(this,d,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=l.fetchOptions)?void 0:r.meta)||Ae(this,x,v).call(this,{type:"fetch",meta:null==(s=l.fetchOptions)?void 0:s.meta});const c=e=>{var t,n,r,s;bp(e)&&e.silent||Ae(this,x,v).call(this,{type:"error",error:e}),bp(e)||(null==(n=(t=Ie(this,h).config).onError)||n.call(t,e,this),null==(s=(r=Ie(this,h).config).onSettled)||s.call(r,this.state.data,e,this)),this.scheduleGc()};return De(this,f,wp({initialPromise:null==t?void 0:t.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:e=>{var t,n,r,s;if(void 0!==e){try{this.setData(e)}catch(a){return void c(a)}null==(n=(t=Ie(this,h).config).onSuccess)||n.call(t,e,this),null==(s=(r=Ie(this,h).config).onSettled)||s.call(r,e,this.state.error,this),this.scheduleGc()}else c(new Error(`${this.queryHash} data is undefined`))},onError:c,onFail:(e,t)=>{Ae(this,x,v).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Ae(this,x,v).call(this,{type:"pause"})},onContinue:()=>{Ae(this,x,v).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Ie(this,f).start()}},u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,x=new WeakSet,v=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,..._p(t.data,this.options),fetchMeta:e.meta??null};case"success":return De(this,d,void 0),{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return bp(n)&&n.revert&&Ie(this,d)?{...Ie(this,d),fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),kp.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),Ie(this,h).notify({query:this,type:"updated",action:e})})},y);function _p(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vp(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Cp=(w=class extends Bh{constructor(e={}){super(),Me(this,b),this.config=e,De(this,b,new Map)}build(e,t,n){const r=t.queryKey,s=t.queryHash??ep(r,t);let a=this.get(s);return a||(a=new Sp({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){Ie(this,b).has(e.queryHash)||(Ie(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Ie(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&Ie(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kp.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ie(this,b).get(e)}getAll(){return[...Ie(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Xh(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Xh(e,t)):t}notify(e){kp.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){kp.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kp.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},b=new WeakMap,w),Ep=(C=class extends Np{constructor(e){super(),Me(this,S),Me(this,j),Me(this,k),Me(this,N),this.mutationId=e.mutationId,De(this,k,e.mutationCache),De(this,j,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ie(this,j).includes(e)||(Ie(this,j).push(e),this.clearGcTimeout(),Ie(this,k).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){De(this,j,Ie(this,j).filter(t=>t!==e)),this.scheduleGc(),Ie(this,k).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ie(this,j).length||("pending"===this.state.status?this.scheduleGc():Ie(this,k).remove(this))}continue(){var e;return(null==(e=Ie(this,N))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,s,a,i,o,l,c,u,d,h,p,f,m,g,x,v,y,b;const w=()=>{Ae(this,S,_).call(this,{type:"continue"})};De(this,N,wp({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Ae(this,S,_).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Ae(this,S,_).call(this,{type:"pause"})},onContinue:w,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ie(this,k).canRun(this)}));const j="pending"===this.state.status,C=!Ie(this,N).canStart();try{if(j)w();else{Ae(this,S,_).call(this,{type:"pending",variables:e,isPaused:C}),await(null==(n=(t=Ie(this,k).config).onMutate)?void 0:n.call(t,e,this));const a=await(null==(s=(r=this.options).onMutate)?void 0:s.call(r,e));a!==this.state.context&&Ae(this,S,_).call(this,{type:"pending",context:a,variables:e,isPaused:C})}const p=await Ie(this,N).start();return await(null==(i=(a=Ie(this,k).config).onSuccess)?void 0:i.call(a,p,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,p,e,this.state.context)),await(null==(u=(c=Ie(this,k).config).onSettled)?void 0:u.call(c,p,null,this.state.variables,this.state.context,this)),await(null==(h=(d=this.options).onSettled)?void 0:h.call(d,p,null,e,this.state.context)),Ae(this,S,_).call(this,{type:"success",data:p}),p}catch(E){try{throw await(null==(f=(p=Ie(this,k).config).onError)?void 0:f.call(p,E,e,this.state.context,this)),await(null==(g=(m=this.options).onError)?void 0:g.call(m,E,e,this.state.context)),await(null==(v=(x=Ie(this,k).config).onSettled)?void 0:v.call(x,void 0,E,this.state.variables,this.state.context,this)),await(null==(b=(y=this.options).onSettled)?void 0:b.call(y,void 0,E,e,this.state.context)),E}finally{Ae(this,S,_).call(this,{type:"error",error:E})}}finally{Ie(this,k).runNext(this)}}},j=new WeakMap,k=new WeakMap,N=new WeakMap,S=new WeakSet,_=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),kp.batch(()=>{Ie(this,j).forEach(t=>{t.onMutationUpdate(e)}),Ie(this,k).notify({mutation:this,type:"updated",action:e})})},C);var Pp=(R=class extends Bh{constructor(e={}){super(),Me(this,E),Me(this,P),Me(this,T),this.config=e,De(this,E,new Set),De(this,P,new Map),De(this,T,0)}build(e,t,n){const r=new Ep({mutationCache:this,mutationId:++Le(this,T)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){Ie(this,E).add(e);const t=Tp(e);if("string"==typeof t){const n=Ie(this,P).get(t);n?n.push(e):Ie(this,P).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ie(this,E).delete(e)){const t=Tp(e);if("string"==typeof t){const n=Ie(this,P).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&Ie(this,P).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Tp(e);if("string"==typeof t){const n=Ie(this,P).get(t),r=null==n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){var t;const n=Tp(e);if("string"==typeof n){const r=null==(t=Ie(this,P).get(n))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==r?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){kp.batch(()=>{Ie(this,E).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ie(this,E).clear(),Ie(this,P).clear()})}getAll(){return Array.from(Ie(this,E))}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Zh(t,e))}findAll(e={}){return this.getAll().filter(t=>Zh(e,t))}notify(e){kp.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return kp.batch(()=>Promise.all(e.map(e=>e.continue().catch(Qh))))}},E=new WeakMap,P=new WeakMap,T=new WeakMap,R);function Tp(e){var t;return null==(t=e.options.scope)?void 0:t.id}function Rp(e){return{onFetch:(t,n)=>{var r,s,a,i,o;const l=t.options,c=null==(a=null==(s=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:s.fetchMore)?void 0:a.direction,u=(null==(i=t.state.data)?void 0:i.pages)||[],d=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const f=async()=>{let n=!1;const r=hp(t.options,t.fetchOptions),s=async(e,s,a)=>{if(n)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:s,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),o=await r(i),{maxPages:l}=t.options,c=a?up:cp;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,s,l)}};if(c&&u.length){const e="backward"===c,t={pages:u,pageParams:d},n=(e?Mp:Ip)(l,t);h=await s(t,n,e)}else{const t=e??u.length;do{const e=0===p?d[0]??l.initialPageParam:Ip(l,h);if(p>0&&null==e)break;h=await s(h,e),p++}while(p<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function Ip(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Mp(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var Dp=(W=class{constructor(e={}){Me(this,I),Me(this,M),Me(this,D),Me(this,A),Me(this,L),Me(this,O),Me(this,F),Me(this,z),De(this,I,e.queryCache||new Cp),De(this,M,e.mutationCache||new Pp),De(this,D,e.defaultOptions||{}),De(this,A,new Map),De(this,L,new Map),De(this,O,0)}mount(){Le(this,O)._++,1===Ie(this,O)&&(De(this,F,fp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ie(this,I).onFocus())})),De(this,z,mp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ie(this,I).onOnline())})))}unmount(){var e,t;Le(this,O)._--,0===Ie(this,O)&&(null==(e=Ie(this,F))||e.call(this),De(this,F,void 0),null==(t=Ie(this,z))||t.call(this),De(this,z,void 0))}isFetching(e){return Ie(this,I).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ie(this,M).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=Ie(this,I).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ie(this,I).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yh(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Ie(this,I).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Ie(this,I).get(r.queryHash),a=function(e,t){return"function"==typeof e?e(t):e}(t,null==s?void 0:s.state.data);if(void 0!==a)return Ie(this,I).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return kp.batch(()=>Ie(this,I).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=Ie(this,I).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=Ie(this,I);kp.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=Ie(this,I);return kp.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=kp.batch(()=>Ie(this,I).findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(Qh).catch(Qh)}invalidateQueries(e,t={}){return kp.batch(()=>(Ie(this,I).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=kp.batch(()=>Ie(this,I).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Qh)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(Qh)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=Ie(this,I).build(this,t);return n.isStaleByTime(Yh(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qh).catch(Qh)}fetchInfiniteQuery(e){return e.behavior=Rp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qh).catch(Qh)}ensureInfiniteQueryData(e){return e.behavior=Rp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mp.isOnline()?Ie(this,M).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ie(this,I)}getMutationCache(){return Ie(this,M)}getDefaultOptions(){return Ie(this,D)}setDefaultOptions(e){De(this,D,e)}setQueryDefaults(e,t){Ie(this,A).set(tp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ie(this,A).values()],n={};return t.forEach(t=>{np(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){Ie(this,L).set(tp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ie(this,L).values()],n={};return t.forEach(t=>{np(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ie(this,D).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ep(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dp&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...Ie(this,D).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ie(this,I).clear(),Ie(this,M).clear()}},I=new WeakMap,M=new WeakMap,D=new WeakMap,A=new WeakMap,L=new WeakMap,O=new WeakMap,F=new WeakMap,z=new WeakMap,W),Ap=(he=class extends Bh{constructor(e,t){super(),Me(this,ne),Me(this,U),Me(this,$),Me(this,q),Me(this,V),Me(this,B),Me(this,H),Me(this,Q),Me(this,K),Me(this,G),Me(this,Y),Me(this,J),Me(this,X),Me(this,Z),Me(this,ee),Me(this,te,new Set),this.options=t,De(this,U,e),De(this,K,null),De(this,Q,gp()),this.options.experimental_prefetchInRender||Ie(this,Q).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Ie(this,$).addObserver(this),Lp(Ie(this,$),this.options)?Ae(this,ne,re).call(this):this.updateResult(),Ae(this,ne,oe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Op(Ie(this,$),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Op(Ie(this,$),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,ne,le).call(this),Ae(this,ne,ce).call(this),Ie(this,$).removeObserver(this)}setOptions(e){const t=this.options,n=Ie(this,$);if(this.options=Ie(this,U).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Jh(this.options.enabled,Ie(this,$)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,ne,ue).call(this),Ie(this,$).setOptions(this.options),t._defaulted&&!sp(this.options,t)&&Ie(this,U).getQueryCache().notify({type:"observerOptionsUpdated",query:Ie(this,$),observer:this});const r=this.hasListeners();r&&Fp(Ie(this,$),n,this.options,t)&&Ae(this,ne,re).call(this),this.updateResult(),!r||Ie(this,$)===n&&Jh(this.options.enabled,Ie(this,$))===Jh(t.enabled,Ie(this,$))&&Yh(this.options.staleTime,Ie(this,$))===Yh(t.staleTime,Ie(this,$))||Ae(this,ne,se).call(this);const s=Ae(this,ne,ae).call(this);!r||Ie(this,$)===n&&Jh(this.options.enabled,Ie(this,$))===Jh(t.enabled,Ie(this,$))&&s===Ie(this,ee)||Ae(this,ne,ie).call(this,s)}getOptimisticResult(e){const t=Ie(this,U).getQueryCache().build(Ie(this,U),e),n=this.createResult(t,e);return function(e,t){if(!sp(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(De(this,V,n),De(this,H,this.options),De(this,B,Ie(this,$).state)),n}getCurrentResult(){return Ie(this,V)}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),null==t||t(n),Reflect.get(e,n))})}trackProp(e){Ie(this,te).add(e)}getCurrentQuery(){return Ie(this,$)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Ie(this,U).defaultQueryOptions(e),n=Ie(this,U).getQueryCache().build(Ie(this,U),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return Ae(this,ne,re).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Ie(this,V)))}createResult(e,t){var n;const r=Ie(this,$),s=this.options,a=Ie(this,V),i=Ie(this,B),o=Ie(this,H),l=e!==r?e.state:Ie(this,q),{state:c}=e;let u,d={...c},h=!1;if(t._optimisticResults){const n=this.hasListeners(),a=!n&&Lp(e,t),i=n&&Fp(e,r,t,s);(a||i)&&(d={...d,..._p(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:f,status:m}=d;u=d.data;let g=!1;if(void 0!==t.placeholderData&&void 0===u&&"pending"===m){let e;(null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData)?(e=a.data,g=!0):e="function"==typeof t.placeholderData?t.placeholderData(null==(n=Ie(this,J))?void 0:n.state.data,Ie(this,J)):t.placeholderData,void 0!==e&&(m="success",u=lp(null==a?void 0:a.data,e,t),h=!0)}if(t.select&&void 0!==u&&!g)if(a&&u===(null==i?void 0:i.data)&&t.select===Ie(this,G))u=Ie(this,Y);else try{De(this,G,t.select),u=t.select(u),u=lp(null==a?void 0:a.data,u,t),De(this,Y,u),De(this,K,null)}catch(k){De(this,K,k)}Ie(this,K)&&(p=Ie(this,K),u=Ie(this,Y),f=Date.now(),m="error");const x="fetching"===d.fetchStatus,v="pending"===m,y="error"===m,b=v&&x,w=void 0!==u,j={status:m,fetchStatus:d.fetchStatus,isPending:v,isSuccess:"success"===m,isError:y,isInitialLoading:b,isLoading:b,data:u,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:f,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:y&&!w,isPaused:"paused"===d.fetchStatus,isPlaceholderData:h,isRefetchError:y&&w,isStale:zp(e,t),refetch:this.refetch,promise:Ie(this,Q)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},n=()=>{const e=De(this,Q,j.promise=gp());t(e)},s=Ie(this,Q);switch(s.status){case"pending":e.queryHash===r.queryHash&&t(s);break;case"fulfilled":"error"!==j.status&&j.data===s.value||n();break;case"rejected":"error"===j.status&&j.error===s.reason||n()}}return j}updateResult(){const e=Ie(this,V),t=this.createResult(Ie(this,$),this.options);if(De(this,B,Ie(this,$).state),De(this,H,this.options),void 0!==Ie(this,B).data&&De(this,J,Ie(this,$)),sp(t,e))return;De(this,V,t);Ae(this,ne,de).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!Ie(this,te).size)return!0;const r=new Set(n??Ie(this,te));return this.options.throwOnError&&r.add("error"),Object.keys(Ie(this,V)).some(t=>{const n=t;return Ie(this,V)[n]!==e[n]&&r.has(n)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,ne,oe).call(this)}},U=new WeakMap,$=new WeakMap,q=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakMap,Q=new WeakMap,K=new WeakMap,G=new WeakMap,Y=new WeakMap,J=new WeakMap,X=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakSet,re=function(e){Ae(this,ne,ue).call(this);let t=Ie(this,$).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Qh)),t},se=function(){Ae(this,ne,le).call(this);const e=Yh(this.options.staleTime,Ie(this,$));if(Hh||Ie(this,V).isStale||!Kh(e))return;const t=Gh(Ie(this,V).dataUpdatedAt,e);De(this,X,setTimeout(()=>{Ie(this,V).isStale||this.updateResult()},t+1))},ae=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(Ie(this,$)):this.options.refetchInterval)??!1},ie=function(e){Ae(this,ne,ce).call(this),De(this,ee,e),!Hh&&!1!==Jh(this.options.enabled,Ie(this,$))&&Kh(Ie(this,ee))&&0!==Ie(this,ee)&&De(this,Z,setInterval(()=>{(this.options.refetchIntervalInBackground||fp.isFocused())&&Ae(this,ne,re).call(this)},Ie(this,ee)))},oe=function(){Ae(this,ne,se).call(this),Ae(this,ne,ie).call(this,Ae(this,ne,ae).call(this))},le=function(){Ie(this,X)&&(clearTimeout(Ie(this,X)),De(this,X,void 0))},ce=function(){Ie(this,Z)&&(clearInterval(Ie(this,Z)),De(this,Z,void 0))},ue=function(){const e=Ie(this,U).getQueryCache().build(Ie(this,U),this.options);if(e===Ie(this,$))return;const t=Ie(this,$);De(this,$,e),De(this,q,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},de=function(e){kp.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(Ie(this,V))}),Ie(this,U).getQueryCache().notify({query:Ie(this,$),type:"observerResultsUpdated"})})},he);function Lp(e,t){return function(e,t){return!1!==Jh(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Op(e,t,t.refetchOnMount)}function Op(e,t,n){if(!1!==Jh(t.enabled,e)&&"static"!==Yh(t.staleTime,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&zp(e,t)}return!1}function Fp(e,t,n,r){return(e!==t||!1===Jh(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&zp(e,n)}function zp(e,t){return!1!==Jh(t.enabled,e)&&e.isStaleByTime(Yh(t.staleTime,e))}var Wp=(be=class extends Bh{constructor(e,t){super(),Me(this,xe),Me(this,pe),Me(this,fe),Me(this,me),Me(this,ge),De(this,pe,e),this.setOptions(t),this.bindMethods(),Ae(this,xe,ve).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=Ie(this,pe).defaultMutationOptions(e),sp(this.options,n)||Ie(this,pe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ie(this,me),observer:this}),(null==n?void 0:n.mutationKey)&&this.options.mutationKey&&tp(n.mutationKey)!==tp(this.options.mutationKey)?this.reset():"pending"===(null==(t=Ie(this,me))?void 0:t.state.status)&&Ie(this,me).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||null==(e=Ie(this,me))||e.removeObserver(this)}onMutationUpdate(e){Ae(this,xe,ve).call(this),Ae(this,xe,ye).call(this,e)}getCurrentResult(){return Ie(this,fe)}reset(){var e;null==(e=Ie(this,me))||e.removeObserver(this),De(this,me,void 0),Ae(this,xe,ve).call(this),Ae(this,xe,ye).call(this)}mutate(e,t){var n;return De(this,ge,t),null==(n=Ie(this,me))||n.removeObserver(this),De(this,me,Ie(this,pe).getMutationCache().build(Ie(this,pe),this.options)),Ie(this,me).addObserver(this),Ie(this,me).execute(e)}},pe=new WeakMap,fe=new WeakMap,me=new WeakMap,ge=new WeakMap,xe=new WeakSet,ve=function(){var e;const t=(null==(e=Ie(this,me))?void 0:e.state)??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};De(this,fe,{...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},ye=function(e){kp.batch(()=>{var t,n,r,s,a,i,o,l;if(Ie(this,ge)&&this.hasListeners()){const c=Ie(this,fe).variables,u=Ie(this,fe).context;"success"===(null==e?void 0:e.type)?(null==(n=(t=Ie(this,ge)).onSuccess)||n.call(t,e.data,c,u),null==(s=(r=Ie(this,ge)).onSettled)||s.call(r,e.data,null,c,u)):"error"===(null==e?void 0:e.type)&&(null==(i=(a=Ie(this,ge)).onError)||i.call(a,e.error,c,u),null==(l=(o=Ie(this,ge)).onSettled)||l.call(o,void 0,e.error,c,u))}this.listeners.forEach(e=>{e(Ie(this,fe))})})},be),Up=Nt.createContext(void 0),$p=e=>{const t=Nt.useContext(Up);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qp=({client:e,children:t})=>(Nt.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Dt.jsx(Up.Provider,{value:e,children:t})),Vp=Nt.createContext(!1);Vp.Provider;var Bp=Nt.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Hp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Qp(e,t,n){var r,s,a,i,o;const l=Nt.useContext(Vp),c=Nt.useContext(Bp),u=$p(),d=u.defaultQueryOptions(e);null==(s=null==(r=u.getDefaultOptions().queries)?void 0:r._experimental_beforeQuery)||s.call(r,d),d._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(e??1e3,1e3),n=e.staleTime;e.staleTime="function"==typeof n?(...e)=>t(n(...e)):t(n),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(d),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(d,c),(e=>{Nt.useEffect(()=>{e.clearReset()},[e])})(c);const h=!u.getQueryCache().get(d.queryHash),[p]=Nt.useState(()=>new t(u,d)),f=p.getOptimisticResult(d),m=!l&&!1!==e.subscribed;if(Nt.useSyncExternalStore(Nt.useCallback(e=>{const t=m?p.subscribe(kp.batchCalls(e)):Qh;return p.updateResult(),t},[p,m]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Nt.useEffect(()=>{p.setOptions(d)},[d,p]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(d,f))throw Hp(d,p,c);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&void 0===e.data||pp(n,[e.error,r])))({result:f,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw f.error;if(null==(i=null==(a=u.getDefaultOptions().queries)?void 0:a._experimental_afterQuery)||i.call(a,d,f),d.experimental_prefetchInRender&&!Hh&&((e,t)=>e.isLoading&&e.isFetching&&!t)(f,l)){const e=h?Hp(d,p,c):null==(o=u.getQueryCache().get(d.queryHash))?void 0:o.promise;null==e||e.catch(Qh).finally(()=>{p.updateResult()})}return d.notifyOnChangeProps?f:p.trackResult(f)}function Kp(e,t){return Qp(e,Ap)}function Gp(e,t){const n=$p(),[r]=Nt.useState(()=>new Wp(n,e));Nt.useEffect(()=>{r.setOptions(e)},[r,e]);const s=Nt.useSyncExternalStore(Nt.useCallback(e=>r.subscribe(kp.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=Nt.useCallback((e,t)=>{r.mutate(e,t).catch(Qh)},[r]);if(s.error&&pp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}
/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yp="popstate";function Jp(e={}){return function(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o="POP",l=null,c=u();null==c&&(c=0,i.replaceState({...i.state,idx:c},""));function u(){return(i.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function h(e,t){o="PUSH";let n=tf(m.location,e,t);c=u()+1;let r=ef(n,c),d=m.createHref(n);try{i.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(d)}a&&l&&l({action:o,location:m.location,delta:1})}function p(e,t){o="REPLACE";let n=tf(m.location,e,t);c=u();let r=ef(n,c),s=m.createHref(n);i.replaceState(r,"",s),a&&l&&l({action:o,location:m.location,delta:0})}function f(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);Xp(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:nf(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let m={get action(){return o},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Yp,d),l=e,()=>{s.removeEventListener(Yp,d),l=null}},createHref:e=>t(s,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>i.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return tf("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:nf(t)},0,e)}function Xp(e,t){if(!1===e||null==e)throw new Error(t)}function Zp(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ef(e,t){return{usr:e.state,key:e.key,idx:t}}function tf(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?rf(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function nf({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function rf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function sf(e,t,n="/"){return function(e,t,n,r){let s="string"==typeof t?rf(t):t,a=yf(s.pathname||"/",n);if(null==a)return null;let i=af(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let l=0;null==o&&l<i.length;++l){let e=vf(a);o=gf(i[l],e,r)}return o}(e,t,n,!1)}function af(e,t=[],n=[],r="",s=!1){let a=(e,a,i=s,o)=>{let l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;Xp(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=kf([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(Xp(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),af(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:mf(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of of(e.path))a(e,t,!0,r);else a(e,t)}),t}function of(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=of(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var lf=/^:[\w-]+$/,cf=3,uf=2,df=1,hf=10,pf=-2,ff=e=>"*"===e;function mf(e,t){let n=e.split("/"),r=n.length;return n.some(ff)&&(r+=pf),t&&(r+=uf),n.filter(e=>!ff(e)).reduce((e,t)=>e+(lf.test(t)?cf:""===t?df:hf),r)}function gf(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=xf({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=xf({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:kf([a,u.pathname]),pathnameBase:Nf(kf([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=kf([a,u.pathnameBase]))}return i}function xf(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){Zp("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=o[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const s=o[r];return e[t]=n&&!s?void 0:(s||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function vf(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Zp(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yf(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function bf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wf(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function jf(e,t,n,r=!1){let s;"string"==typeof e?s=rf(e):(s={...e},Xp(!s.pathname||!s.pathname.includes("?"),bf("?","pathname","search",s)),Xp(!s.pathname||!s.pathname.includes("#"),bf("#","pathname","hash",s)),Xp(!s.search||!s.search.includes("#"),bf("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:r="",hash:s=""}="string"==typeof e?rf(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Sf(r),hash:_f(s)}}(s,a),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var kf=e=>e.join("/").replace(/\/\/+/g,"/"),Nf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sf=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",_f=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Cf=["POST","PUT","PATCH","DELETE"];new Set(Cf);var Ef=["GET",...Cf];new Set(Ef);var Pf=Nt.createContext(null);Pf.displayName="DataRouter";var Tf=Nt.createContext(null);Tf.displayName="DataRouterState",Nt.createContext(!1);var Rf=Nt.createContext({isTransitioning:!1});Rf.displayName="ViewTransition",Nt.createContext(new Map).displayName="Fetchers",Nt.createContext(null).displayName="Await";var If=Nt.createContext(null);If.displayName="Navigation";var Mf=Nt.createContext(null);Mf.displayName="Location";var Df=Nt.createContext({outlet:null,matches:[],isDataRoute:!1});Df.displayName="Route";var Af=Nt.createContext(null);function Lf(){return null!=Nt.useContext(Mf)}function Of(){return Xp(Lf(),"useLocation() may be used only in the context of a <Router> component."),Nt.useContext(Mf).location}Af.displayName="RouteError";var Ff="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zf(e){Nt.useContext(If).static||Nt.useLayoutEffect(e)}function Wf(){let{isDataRoute:e}=Nt.useContext(Df);return e?function(){let{router:e}=function(e){let t=Nt.useContext(Pf);return Xp(t,Qf(e)),t}("useNavigate"),t=Kf("useNavigate"),n=Nt.useRef(!1);zf(()=>{n.current=!0});let r=Nt.useCallback(async(r,s={})=>{Zp(n.current,Ff),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t]);return r}():function(){Xp(Lf(),"useNavigate() may be used only in the context of a <Router> component.");let e=Nt.useContext(Pf),{basename:t,navigator:n}=Nt.useContext(If),{matches:r}=Nt.useContext(Df),{pathname:s}=Of(),a=JSON.stringify(wf(r)),i=Nt.useRef(!1);zf(()=>{i.current=!0});let o=Nt.useCallback((r,o={})=>{if(Zp(i.current,Ff),!i.current)return;if("number"==typeof r)return void n.go(r);let l=jf(r,JSON.parse(a),s,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:kf([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,a,s,e]);return o}()}function Uf(e,{relative:t}={}){let{matches:n}=Nt.useContext(Df),{pathname:r}=Of(),s=JSON.stringify(wf(n));return Nt.useMemo(()=>jf(e,JSON.parse(s),r,"path"===t),[e,s,r,t])}function $f(e,t,n,r){var s;Xp(Lf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Nt.useContext(If),{matches:i}=Nt.useContext(Df),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let e=d&&d.path||"";Yf(c,!d||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let h,p=Of();if(t){let e="string"==typeof t?rf(t):t;Xp("/"===u||(null==(s=e.pathname)?void 0:s.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),h=e}else h=p;let f=h.pathname||"/",m=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=sf(e,{pathname:m});Zp(d||null!=g,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Zp(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=function(e,t=[],n=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,s=null==n?void 0:n.errors;if(null!=s){let e=r.findIndex(e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id]));Xp(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,i=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(i=o),e.route.id){let{loaderData:t,errors:s}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!s||void 0===s[e.route.id]);if(e.route.lazy||o){a=!0,r=i>=0?r.slice(0,i+1):[r[0]];break}}}return r.reduceRight((e,o,l)=>{let c,u=!1,d=null,h=null;n&&(c=s&&o.route.id?s[o.route.id]:void 0,d=o.route.errorElement||Vf,a&&(i<0&&0===l?(Yf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,h=null):i===l&&(u=!0,h=o.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,l+1)),f=()=>{let t;return t=c?d:u?h:o.route.Component?Nt.createElement(o.route.Component,null):o.route.element?o.route.element:e,Nt.createElement(Hf,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===l)?Nt.createElement(Bf,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:kf([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:kf([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,r);return t&&x?Nt.createElement(Mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},x):x}function qf(){let e=function(){var e;let t=Nt.useContext(Af),n=function(e){let t=Nt.useContext(Tf);return Xp(t,Qf(e)),t}("useRouteError"),r=Kf("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=Nt.createElement(Nt.Fragment,null,Nt.createElement("p",null," Hey developer "),Nt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Nt.createElement("code",{style:a},"ErrorBoundary")," or"," ",Nt.createElement("code",{style:a},"errorElement")," prop on your route.")),Nt.createElement(Nt.Fragment,null,Nt.createElement("h2",null,"Unexpected Application Error!"),Nt.createElement("h3",{style:{fontStyle:"italic"}},t),n?Nt.createElement("pre",{style:s},n):null,i)}Nt.createContext(null);var Vf=Nt.createElement(qf,null),Bf=class extends Nt.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Nt.createElement(Df.Provider,{value:this.props.routeContext},Nt.createElement(Af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hf({routeContext:e,match:t,children:n}){let r=Nt.useContext(Pf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Nt.createElement(Df.Provider,{value:e},n)}function Qf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kf(e){let t=function(e){let t=Nt.useContext(Df);return Xp(t,Qf(e)),t}(e),n=t.matches[t.matches.length-1];return Xp(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var Gf={};function Yf(e,t,n){t||Gf[e]||(Gf[e]=!0,Zp(!1,n))}function Jf(e){Xp(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xf({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Xp(!Lf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=Nt.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);"string"==typeof n&&(n=rf(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,p=Nt.useMemo(()=>{let e=yf(l,i);return null==e?null:{location:{pathname:e,search:c,hash:u,state:d,key:h},navigationType:r}},[i,l,c,u,d,h,r]);return Zp(null!=p,`<Router basename="${i}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:Nt.createElement(If.Provider,{value:o},Nt.createElement(Mf.Provider,{children:t,value:p}))}function Zf({children:e,location:t}){return $f(em(e),t)}function em(e,t=[]){let n=[];return Nt.Children.forEach(e,(e,r)=>{if(!Nt.isValidElement(e))return;let s=[...t,r];if(e.type===Nt.Fragment)return void n.push.apply(n,em(e.props.children,s));Xp(e.type===Jf,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xp(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=em(e.props.children,s)),n.push(a)}),n}Nt.memo(function({routes:e,future:t,state:n}){return $f(e,void 0,n,t)});var tm="get",nm="application/x-www-form-urlencoded";function rm(e){return null!=e&&"string"==typeof e.tagName}var sm=null;var am=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(e){return null==e||am.has(e)?e:(Zp(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nm}"`),null)}function om(e,t){let n,r,s,a,i;if(rm(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?yf(i,t):null,n=e.getAttribute("method")||tm,s=im(e.getAttribute("enctype"))||nm,a=new FormData(e)}else if(function(e){return rm(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return rm(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?yf(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||tm,s=im(e.getAttribute("formenctype"))||im(i.getAttribute("enctype"))||nm,a=new FormData(i,e),!function(){if(null===sm)try{new FormData(document.createElement("form"),0),sm=!1}catch(e){sm=!0}return sm}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(rm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tm,r=null,s=nm,i=e}var o;return a&&"text/plain"===s&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}function lm(e,t){if(!1===e||null==e)throw new Error(t)}function cm(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function um(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(cm).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function dm(e,t,n,r,s,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{var l;let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(i(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function hm(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function pm(){let e=Nt.useContext(Pf);return lm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fm=Nt.createContext(void 0);function mm(){let e=Nt.useContext(fm);return lm(e,"You must render this element inside a <HydratedRouter> element"),e}function gm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xm({page:e,...t}){let{router:n}=pm(),r=Nt.useMemo(()=>sf(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?Nt.createElement(vm,{page:e,matches:r,...t}):null}function vm({page:e,matches:t,...n}){let r=Of(),{manifest:s,routeModules:a}=mm(),{basename:i}=pm(),{loaderData:o,matches:l}=function(){let e=Nt.useContext(Tf);return lm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=Nt.useMemo(()=>dm(e,t,l,s,r,"data"),[e,t,l,s,r]),u=Nt.useMemo(()=>dm(e,t,l,s,r,"assets"),[e,t,l,s,r]),d=Nt.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let r=s.routes[e.route.id];r&&r.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in o&&(null==(t=a[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let u=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===yf(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,i,"data");return l&&n.size>0&&u.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[u.pathname+u.search]},[i,o,r,s,c,t,e,a]),h=Nt.useMemo(()=>hm(u,s),[u,s]),p=function(e){let{manifest:t,routeModules:n}=mm(),[r,s]=Nt.useState([]);return Nt.useEffect(()=>{let r=!1;return um(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),r}(u);return Nt.createElement(Nt.Fragment,null,d.map(e=>Nt.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>Nt.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),p.map(({key:e,link:t})=>Nt.createElement("link",{key:e,nonce:n.nonce,...t})))}function ym(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}fm.displayName="FrameworkContext";var bm="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{bm&&(window.__reactRouterVersion="7.8.1")}catch(NF){}function wm({basename:e,children:t,window:n}){let r=Nt.useRef();null==r.current&&(r.current=Jp({window:n,v5Compat:!0}));let s=r.current,[a,i]=Nt.useState({action:s.action,location:s.location}),o=Nt.useCallback(e=>{Nt.startTransition(()=>i(e))},[i]);return Nt.useLayoutEffect(()=>s.listen(o),[s,o]),Nt.createElement(Xf,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var jm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,km=Nt.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:a,state:i,target:o,to:l,preventScrollReset:c,viewTransition:u,...d},h){let p,{basename:f}=Nt.useContext(If),m="string"==typeof l&&jm.test(l),g=!1;if("string"==typeof l&&m&&(p=l,bm))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=yf(t.pathname,f);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:g=!0}catch(NF){Zp(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=function(e,{relative:t}={}){Xp(Lf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Nt.useContext(If),{hash:s,pathname:a,search:i}=Uf(e,{relative:t}),o=a;return"/"!==n&&(o="/"===a?n:kf([n,a])),r.createHref({pathname:o,search:i,hash:s})}(l,{relative:r}),[v,y,b]=function(e,t){let n=Nt.useContext(fm),[r,s]=Nt.useState(!1),[a,i]=Nt.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=Nt.useRef(null);Nt.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),Nt.useEffect(()=>{if(r){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{s(!0)},f=()=>{s(!1),i(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:gm(o,p),onBlur:gm(l,f),onMouseEnter:gm(c,p),onMouseLeave:gm(u,f),onTouchStart:gm(d,p)}]:[!1,h,{}]}(n,d),w=function(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let o=Wf(),l=Of(),c=Uf(e,{relative:a});return Nt.useCallback(u=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(u,t)){u.preventDefault();let t=void 0!==n?n:nf(l)===nf(c);o(e,{replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[l,o,c,n,r,t,e,s,a,i])}(l,{replace:a,state:i,target:o,preventScrollReset:c,relative:r,viewTransition:u});let j=Nt.createElement("a",{...d,...b,href:p||x,onClick:g||s?e:function(t){e&&e(t),t.defaultPrevented||w(t)},ref:ym(h,y),target:o,"data-discover":m||"render"!==t?void 0:"true"});return v&&!m?Nt.createElement(Nt.Fragment,null,j,Nt.createElement(xm,{page:x})):j});km.displayName="Link",Nt.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:a,viewTransition:i,children:o,...l},c){let u=Uf(a,{relative:l.relative}),d=Of(),h=Nt.useContext(Tf),{navigator:p,basename:f}=Nt.useContext(If),m=null!=h&&function(e,{relative:t}={}){let n=Nt.useContext(Rf);Xp(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Sm("useViewTransitionState"),s=Uf(e,{relative:t});if(!n.isTransitioning)return!1;let a=yf(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=yf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=xf(s.pathname,i)||null!=xf(s.pathname,a)}(u)&&!0===i,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,x=d.pathname,v=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(x=x.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&f&&(v=yf(v,f)||v);const y="/"!==g&&g.endsWith("/")?g.length-1:g.length;let b,w=x===g||!r&&x.startsWith(g)&&"/"===x.charAt(y),j=null!=v&&(v===g||!r&&v.startsWith(g)&&"/"===v.charAt(g.length)),k={isActive:w,isPending:j,isTransitioning:m},N=w?e:void 0;b="function"==typeof n?n(k):[n,w?"active":null,j?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let S="function"==typeof s?s(k):s;return Nt.createElement(km,{...l,"aria-current":N,className:b,ref:c,style:S,to:a,viewTransition:i},"function"==typeof o?o(k):o)}).displayName="NavLink";var Nm=Nt.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=tm,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},p)=>{let f=function(){let{router:e}=Sm("useSubmit"),{basename:t}=Nt.useContext(If),n=Kf("useRouteId");return Nt.useCallback(async(r,s={})=>{let{action:a,method:i,encType:o,formData:l,body:c}=om(r,t);if(!1===s.navigate){let t=s.fetcherKey||Cm();await e.fetch(t,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}(),m=function(e,{relative:t}={}){let{basename:n}=Nt.useContext(If),r=Nt.useContext(Df);Xp(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Uf(e||".",{relative:t})},i=Of();if(null==e){a.search=i.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:kf([n,a.pathname]));return nf(a)}(o,{relative:c}),g="get"===i.toLowerCase()?"get":"post",x="string"==typeof o&&jm.test(o);return Nt.createElement("form",{ref:p,method:g,action:m,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,o=(null==r?void 0:r.getAttribute("formmethod"))||i;f(r||e.currentTarget,{fetcherKey:t,method:o,navigate:n,replace:s,state:a,relative:c,preventScrollReset:u,viewTransition:d})},...h,"data-discover":x||"render"!==e?void 0:"true"})});function Sm(e){let t=Nt.useContext(Pf);return Xp(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Nm.displayName="Form";var _m=0,Cm=()=>`__${String(++_m)}__`;class Em extends Error{constructor(e,t,n){super(n),Te(this,"url"),Te(this,"status"),Te(this,"statusText"),Te(this,"body"),Te(this,"request"),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}}class Pm extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}class Tm{constructor(e){Me(this,we),Me(this,je),Me(this,ke),Me(this,Ne),Me(this,Se),Me(this,_e),Me(this,Ce),De(this,we,!1),De(this,je,!1),De(this,ke,!1),De(this,Ne,[]),De(this,Se,new Promise((t,n)=>{De(this,_e,t),De(this,Ce,n);const r=e=>{Ie(this,we)||Ie(this,je)||Ie(this,ke)||Ie(this,Ne).push(e)};return Object.defineProperty(r,"isResolved",{get:()=>Ie(this,we)}),Object.defineProperty(r,"isRejected",{get:()=>Ie(this,je)}),Object.defineProperty(r,"isCancelled",{get:()=>Ie(this,ke)}),e(e=>{Ie(this,we)||Ie(this,je)||Ie(this,ke)||(De(this,we,!0),Ie(this,_e)&&Ie(this,_e).call(this,e))},e=>{Ie(this,we)||Ie(this,je)||Ie(this,ke)||(De(this,je,!0),Ie(this,Ce)&&Ie(this,Ce).call(this,e))},r)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(e,t){return Ie(this,Se).then(e,t)}catch(e){return Ie(this,Se).catch(e)}finally(e){return Ie(this,Se).finally(e)}cancel(){if(!(Ie(this,we)||Ie(this,je)||Ie(this,ke))){if(De(this,ke,!0),Ie(this,Ne).length)try{for(const e of Ie(this,Ne))e()}catch(e){return}Ie(this,Ne).length=0,Ie(this,Ce)&&Ie(this,Ce).call(this,new Pm("Request aborted"))}}get isCancelled(){return Ie(this,ke)}}we=new WeakMap,je=new WeakMap,ke=new WeakMap,Ne=new WeakMap,Se=new WeakMap,_e=new WeakMap,Ce=new WeakMap;const Rm={BASE:"",VERSION:"0.1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Im=e=>null!=e,Mm=e=>"string"==typeof e,Dm=e=>Mm(e)&&""!==e,Am=e=>"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),Lm=e=>e instanceof FormData,Om=e=>{const t=[],n=(e,r)=>{Im(r)&&(Array.isArray(r)?r.forEach(t=>{n(e,t)}):"object"==typeof r?Object.entries(r).forEach(([t,r])=>{n(`${e}[${t}]`,r)}):((e,n)=>{t.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`)})(e,r))};return Object.entries(e).forEach(([e,t])=>{n(e,t)}),t.length>0?`?${t.join("&")}`:""},Fm=async(e,t)=>t,zm=async(e,t)=>{const[n,r,s,a]=await Promise.all([Fm(0,e.TOKEN),Fm(0,e.USERNAME),Fm(0,e.PASSWORD),Fm(0,e.HEADERS)]),i=Object.entries({Accept:"application/json",...a,...t.headers}).filter(([e,t])=>Im(t)).reduce((e,[t,n])=>({...e,[t]:String(n)}),{});if(Dm(n)&&(i.Authorization=`Bearer ${n}`),Dm(r)&&Dm(s)){const e=(e=>{try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}})(`${r}:${s}`);i.Authorization=`Basic ${e}`}return void 0!==t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:Am(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":Mm(t.body)?i["Content-Type"]="text/plain":Lm(t.body)||(i["Content-Type"]="application/json")),new Headers(i)},Wm=(e,t)=>new Tm(async(n,r,s)=>{try{const r=((e,t)=>{const n=encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(e,r)=>{var s;return(null==(s=t.path)?void 0:s.hasOwnProperty(r))?n(String(t.path[r])):e}),s=`${e.BASE}${r}`;return t.query?`${s}${Om(t.query)}`:s})(e,t),a=(e=>{if(e.formData){const t=new FormData,n=(e,n)=>{Mm(n)||Am(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter(([e,t])=>Im(t)).forEach(([e,t])=>{Array.isArray(t)?t.forEach(t=>n(e,t)):n(e,t)}),t}})(t),i=(e=>{var t;if(void 0!==e.body)return(null==(t=e.mediaType)?void 0:t.includes("/json"))?JSON.stringify(e.body):Mm(e.body)||Am(e.body)||Lm(e.body)?e.body:JSON.stringify(e.body)})(t),o=await zm(e,t);if(!s.isCancelled){const e=await(async(e,t,n,r,s,a,i)=>{const o=new AbortController,l={headers:a,body:r??s,method:t.method,signal:o.signal};return i(()=>o.abort()),await fetch(n,l)})(0,t,r,i,a,o,s),l=await(async e=>{if(204!==e.status)try{const t=e.headers.get("Content-Type");if(t)return["application/json","application/problem+json"].some(e=>t.toLowerCase().startsWith(e))?await e.json():await e.text()}catch(t){}})(e),c=((e,t)=>{if(t){const n=e.headers.get(t);if(Mm(n))return n}})(e,t.responseHeader),u={url:r,ok:e.ok,status:e.status,statusText:e.statusText,body:c??l};((e,t)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(n)throw new Em(e,t,n);if(!t.ok){const n=t.status??"unknown",r=t.statusText??"unknown",s=(()=>{try{return JSON.stringify(t.body,null,2)}catch(NF){return}})();throw new Em(e,t,`Generic Error: status: ${n}; status text: ${r}; body: ${s}`)}})(t,u),n(u.body)}}catch(a){r(a)}});class Um{static loginUsersAuthLoginPost(e){return Wm(Rm,{method:"POST",url:"/users/auth/login",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static createUserUsersPost(e){return Wm(Rm,{method:"POST",url:"/users/",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static listUsersUsersGet(e,t){return Wm(Rm,{method:"GET",url:"/users/",query:{workshop_id:e,role:t},errors:{422:"Validation Error"}})}static listFacilitatorConfigsUsersAdminFacilitatorsGet(){return Wm(Rm,{method:"GET",url:"/users/admin/facilitators/"})}static createFacilitatorConfigUsersAdminFacilitatorsPost(e){return Wm(Rm,{method:"POST",url:"/users/admin/facilitators/",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static createInvitationUsersInvitationsPost(e){return Wm(Rm,{method:"POST",url:"/users/invitations/",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static listInvitationsUsersInvitationsGet(e,t){return Wm(Rm,{method:"GET",url:"/users/invitations/",query:{workshop_id:e,status:t},errors:{422:"Validation Error"}})}static addUserToWorkshopUsersWorkshopsWorkshopIdUsersPost(e,t){return Wm(Rm,{method:"POST",url:"/users/workshops/{workshop_id}/users/",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static listWorkshopUsersUsersWorkshopsWorkshopIdUsersGet(e){return Wm(Rm,{method:"GET",url:"/users/workshops/{workshop_id}/users/",path:{workshop_id:e},errors:{422:"Validation Error"}})}static getUserUsersUserIdGet(e){return Wm(Rm,{method:"GET",url:"/users/{user_id}",path:{user_id:e},errors:{422:"Validation Error"}})}static deleteUserUsersUserIdDelete(e){return Wm(Rm,{method:"DELETE",url:"/users/{user_id}",path:{user_id:e},errors:{422:"Validation Error"}})}static getUserPermissionsUsersUserIdPermissionsGet(e){return Wm(Rm,{method:"GET",url:"/users/{user_id}/permissions",path:{user_id:e},errors:{422:"Validation Error"}})}static updateUserStatusUsersUserIdStatusPut(e,t){return Wm(Rm,{method:"PUT",url:"/users/{user_id}/status",path:{user_id:e},query:{status:t},errors:{422:"Validation Error"}})}static updateLastActiveUsersUserIdLastActivePut(e){return Wm(Rm,{method:"PUT",url:"/users/{user_id}/last-active",path:{user_id:e},errors:{422:"Validation Error"}})}static getWorkshopParticipantsUsersWorkshopsWorkshopIdParticipantsGet(e){return Wm(Rm,{method:"GET",url:"/users/workshops/{workshop_id}/participants",path:{workshop_id:e},errors:{422:"Validation Error"}})}static assignTracesToUserUsersWorkshopsWorkshopIdParticipantsUserIdAssignTracesPost(e,t,n){return Wm(Rm,{method:"POST",url:"/users/workshops/{workshop_id}/participants/{user_id}/assign-traces",path:{workshop_id:e,user_id:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static getAssignedTracesUsersWorkshopsWorkshopIdParticipantsUserIdAssignedTracesGet(e,t){return Wm(Rm,{method:"GET",url:"/users/workshops/{workshop_id}/participants/{user_id}/assigned-traces",path:{workshop_id:e,user_id:t},errors:{422:"Validation Error"}})}static removeUserFromWorkshopUsersWorkshopsWorkshopIdUsersUserIdDelete(e,t){return Wm(Rm,{method:"DELETE",url:"/users/workshops/{workshop_id}/users/{user_id}",path:{workshop_id:e,user_id:t},errors:{422:"Validation Error"}})}static autoAssignAnnotationsUsersWorkshopsWorkshopIdAutoAssignAnnotationsPost(e){return Wm(Rm,{method:"POST",url:"/users/workshops/{workshop_id}/auto-assign-annotations",path:{workshop_id:e},errors:{422:"Validation Error"}})}}class $m{static createWorkshopWorkshopsPost(e){return Wm(Rm,{method:"POST",url:"/workshops/",body:e,mediaType:"application/json",errors:{422:"Validation Error"}})}static getWorkshopWorkshopsWorkshopIdGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}",path:{workshop_id:e},errors:{422:"Validation Error"}})}static uploadTracesWorkshopsWorkshopIdTracesPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/traces",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getTracesWorkshopsWorkshopIdTracesGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/traces",path:{workshop_id:e},query:{user_id:t},errors:{422:"Validation Error"}})}static getAllTracesWorkshopsWorkshopIdAllTracesGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/all-traces",path:{workshop_id:e},errors:{422:"Validation Error"}})}static getOriginalTracesWorkshopsWorkshopIdOriginalTracesGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/original-traces",path:{workshop_id:e},errors:{422:"Validation Error"}})}static submitFindingWorkshopsWorkshopIdFindingsPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/findings",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getFindingsWorkshopsWorkshopIdFindingsGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/findings",path:{workshop_id:e},query:{user_id:t},errors:{422:"Validation Error"}})}static clearFindingsWorkshopsWorkshopIdFindingsDelete(e){return Wm(Rm,{method:"DELETE",url:"/workshops/{workshop_id}/findings",path:{workshop_id:e},errors:{422:"Validation Error"}})}static getFindingsWithUserDetailsWorkshopsWorkshopIdFindingsWithUsersGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/findings-with-users",path:{workshop_id:e},query:{user_id:t},errors:{422:"Validation Error"}})}static createRubricWorkshopsWorkshopIdRubricPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/rubric",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static updateRubricWorkshopsWorkshopIdRubricPut(e,t){return Wm(Rm,{method:"PUT",url:"/workshops/{workshop_id}/rubric",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getRubricWorkshopsWorkshopIdRubricGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/rubric",path:{workshop_id:e},errors:{422:"Validation Error"}})}static clearRubricWorkshopsWorkshopIdRubricDelete(e){return Wm(Rm,{method:"DELETE",url:"/workshops/{workshop_id}/rubric",path:{workshop_id:e},errors:{422:"Validation Error"}})}static updateRubricQuestionWorkshopsWorkshopIdRubricQuestionsQuestionIdPut(e,t,n){return Wm(Rm,{method:"PUT",url:"/workshops/{workshop_id}/rubric/questions/{question_id}",path:{workshop_id:e,question_id:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteRubricQuestionWorkshopsWorkshopIdRubricQuestionsQuestionIdDelete(e,t){return Wm(Rm,{method:"DELETE",url:"/workshops/{workshop_id}/rubric/questions/{question_id}",path:{workshop_id:e,question_id:t},errors:{422:"Validation Error"}})}static submitAnnotationWorkshopsWorkshopIdAnnotationsPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/annotations",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getAnnotationsWorkshopsWorkshopIdAnnotationsGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/annotations",path:{workshop_id:e},query:{user_id:t},errors:{422:"Validation Error"}})}static clearAnnotationsWorkshopsWorkshopIdAnnotationsDelete(e){return Wm(Rm,{method:"DELETE",url:"/workshops/{workshop_id}/annotations",path:{workshop_id:e},errors:{422:"Validation Error"}})}static getAnnotationsWithUserDetailsWorkshopsWorkshopIdAnnotationsWithUsersGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/annotations-with-users",path:{workshop_id:e},query:{user_id:t},errors:{422:"Validation Error"}})}static getIrrWorkshopsWorkshopIdIrrGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/irr",path:{workshop_id:e},errors:{422:"Validation Error"}})}static beginDiscoveryPhaseWorkshopsWorkshopIdBeginDiscoveryPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/begin-discovery",path:{workshop_id:e},query:{trace_limit:t},errors:{422:"Validation Error"}})}static addTracesWorkshopsWorkshopIdAddTracesPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/add-traces",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static addDiscoveryTracesWorkshopsWorkshopIdAddDiscoveryTracesPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/add-discovery-traces",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static addAnnotationTracesWorkshopsWorkshopIdAddAnnotationTracesPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/add-annotation-traces",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static reorderAnnotationTracesWorkshopsWorkshopIdReorderAnnotationTracesPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/reorder-annotation-traces",path:{workshop_id:e},errors:{422:"Validation Error"}})}static beginAnnotationPhaseWorkshopsWorkshopIdBeginAnnotationPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/begin-annotation",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static advanceToDiscoveryWorkshopsWorkshopIdAdvanceToDiscoveryPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/advance-to-discovery",path:{workshop_id:e},errors:{422:"Validation Error"}})}static advanceToRubricWorkshopsWorkshopIdAdvanceToRubricPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/advance-to-rubric",path:{workshop_id:e},errors:{422:"Validation Error"}})}static advanceToAnnotationWorkshopsWorkshopIdAdvanceToAnnotationPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/advance-to-annotation",path:{workshop_id:e},errors:{422:"Validation Error"}})}static advanceToResultsWorkshopsWorkshopIdAdvanceToResultsPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/advance-to-results",path:{workshop_id:e},errors:{422:"Validation Error"}})}static advanceWorkshopPhaseWorkshopsWorkshopIdAdvancePhasePost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/advance-phase",path:{workshop_id:e},query:{target_phase:t},errors:{422:"Validation Error"}})}static getWorkshopParticipantsWorkshopsWorkshopIdParticipantsGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/participants",path:{workshop_id:e},errors:{422:"Validation Error"}})}static generateDiscoveryTestDataWorkshopsWorkshopIdGenerateDiscoveryDataPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/generate-discovery-data",path:{workshop_id:e},errors:{422:"Validation Error"}})}static generateRubricTestDataWorkshopsWorkshopIdGenerateRubricDataPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/generate-rubric-data",path:{workshop_id:e},errors:{422:"Validation Error"}})}static generateAnnotationTestDataWorkshopsWorkshopIdGenerateAnnotationDataPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/generate-annotation-data",path:{workshop_id:e},errors:{422:"Validation Error"}})}static generateTestDataWorkshopsWorkshopIdGenerateTestDataPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/generate-test-data",path:{workshop_id:e},errors:{422:"Validation Error"}})}static advanceToJudgeTuningWorkshopsWorkshopIdAdvanceToJudgeTuningPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/advance-to-judge-tuning",path:{workshop_id:e},errors:{422:"Validation Error"}})}static advanceToUnityVolumeWorkshopsWorkshopIdAdvanceToUnityVolumePost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/advance-to-unity-volume",path:{workshop_id:e},errors:{422:"Validation Error"}})}static uploadWorkshopToVolumeWorkshopsWorkshopIdUploadToVolumePost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/upload-to-volume",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static downloadWorkshopDatabaseWorkshopsWorkshopIdDownloadDatabaseGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/download-database",path:{workshop_id:e},errors:{422:"Validation Error"}})}static completePhaseWorkshopsWorkshopIdCompletePhasePhasePost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/complete-phase/{phase}",path:{workshop_id:e,phase:t},errors:{422:"Validation Error"}})}static resumePhaseWorkshopsWorkshopIdResumePhasePhasePost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/resume-phase/{phase}",path:{workshop_id:e,phase:t},errors:{422:"Validation Error"}})}static createJudgePromptWorkshopsWorkshopIdJudgePromptsPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/judge-prompts",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getJudgePromptsWorkshopsWorkshopIdJudgePromptsGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/judge-prompts",path:{workshop_id:e},errors:{422:"Validation Error"}})}static updateJudgePromptMetricsWorkshopsWorkshopIdJudgePromptsPromptIdMetricsPut(e,t,n){return Wm(Rm,{method:"PUT",url:"/workshops/{workshop_id}/judge-prompts/{prompt_id}/metrics",path:{workshop_id:e,prompt_id:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static evaluateJudgePromptWorkshopsWorkshopIdEvaluateJudgePost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/evaluate-judge",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static evaluateJudgePromptDirectWorkshopsWorkshopIdEvaluateJudgeDirectPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/evaluate-judge-direct",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getJudgeEvaluationsWorkshopsWorkshopIdJudgeEvaluationsPromptIdGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/judge-evaluations/{prompt_id}",path:{workshop_id:e,prompt_id:t},errors:{422:"Validation Error"}})}static saveJudgeEvaluationsWorkshopsWorkshopIdJudgeEvaluationsPromptIdPost(e,t,n){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/judge-evaluations/{prompt_id}",path:{workshop_id:e,prompt_id:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static exportJudgeWorkshopsWorkshopIdExportJudgePost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/export-judge",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static configureMlflowIntakeWorkshopsWorkshopIdMlflowConfigPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/mlflow-config",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getMlflowConfigWorkshopsWorkshopIdMlflowConfigGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/mlflow-config",path:{workshop_id:e},errors:{422:"Validation Error"}})}static getMlflowIntakeStatusWorkshopsWorkshopIdMlflowStatusGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/mlflow-status",path:{workshop_id:e},errors:{422:"Validation Error"}})}static testMlflowConnectionWorkshopsWorkshopIdMlflowTestConnectionPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/mlflow-test-connection",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static ingestMlflowTracesWorkshopsWorkshopIdMlflowIngestPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/mlflow-ingest",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getMlflowTracesWorkshopsWorkshopIdMlflowTracesGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/mlflow-traces",path:{workshop_id:e},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static markUserDiscoveryCompleteWorkshopsWorkshopIdUsersUserIdCompleteDiscoveryPost(e,t){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/users/{user_id}/complete-discovery",path:{workshop_id:e,user_id:t},errors:{422:"Validation Error"}})}static getDiscoveryCompletionStatusWorkshopsWorkshopIdDiscoveryCompletionStatusGet(e){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/discovery-completion-status",path:{workshop_id:e},errors:{422:"Validation Error"}})}static isUserDiscoveryCompleteWorkshopsWorkshopIdUsersUserIdDiscoveryCompleteGet(e,t){return Wm(Rm,{method:"GET",url:"/workshops/{workshop_id}/users/{user_id}/discovery-complete",path:{workshop_id:e,user_id:t},errors:{422:"Validation Error"}})}static migrateAnnotationsToMultiMetricWorkshopsWorkshopIdMigrateAnnotationsPost(e){return Wm(Rm,{method:"POST",url:"/workshops/{workshop_id}/migrate-annotations",path:{workshop_id:e},errors:{422:"Validation Error"}})}}const qm=Nt.createContext(void 0),Vm=()=>{const e=Nt.useContext(qm);if(void 0===e)throw new Error("useUser must be used within a UserProvider");return e},Bm=({children:e})=>{const t=$p(),[n,r]=Nt.useState(null),[s,a]=Nt.useState(null),[i,o]=Nt.useState(!0),[l,c]=Nt.useState(null);Nt.useEffect(()=>{(async()=>{var e;const t=localStorage.getItem("workshop_user");if(t)try{const i=JSON.parse(t);try{const e=await Um.getUserUsersUserIdGet(i.id);if(r(e),e.workshop_id){localStorage.getItem("workshop_id")||localStorage.setItem("workshop_id",e.workshop_id)}await u(e.id)}catch(n){if(404===n.status||(null==(e=n.message)?void 0:e.includes("404")))localStorage.removeItem("workshop_user"),r(null),a(null);else{r(i);try{await u(i.id)}catch(s){console.error("Failed to load permissions on cached user:",s),a({can_annotate:!0,can_view_rubric:!0,can_create_rubric:!1,can_manage_workshop:!1,can_assign_annotations:!1})}}}}catch(NF){console.error("Error initializing user:",NF),localStorage.removeItem("workshop_user"),r(null),a(null)}o(!1)})()},[]),Nt.useEffect(()=>{n?localStorage.setItem("workshop_user",JSON.stringify(n)):localStorage.removeItem("workshop_user")},[n]);const u=async e=>{var t,n,s;try{const t=await Um.getUserPermissionsUsersUserIdPermissionsGet(e);a(t),c(null)}catch(i){console.error("Error loading permissions:",i);404===i.status||(null==(t=i.message)?void 0:t.includes("404"))||(null==(s=null==(n=i.body)?void 0:n.detail)?void 0:s.includes("not found"))?(localStorage.removeItem("workshop_user"),r(null),a(null),c("Your session has expired. Please log in again.")):(console.warn("Failed to load permissions, using defaults"),a({can_annotate:!0,can_view_rubric:!0,can_create_rubric:!1,can_manage_workshop:!1,can_assign_annotations:!1}),c(null))}},d=async e=>{if(r(e),e)try{if(await u(e.id),t.invalidateQueries(),e.workshop_id){localStorage.getItem("workshop_id")!==e.workshop_id&&localStorage.setItem("workshop_id",e.workshop_id)}}catch(n){console.error("Error setting user with permissions:",n)}else a(null),c(null)};return Dt.jsx(qm.Provider,{value:{user:n,permissions:s,setUser:d,login:async(e,t)=>{try{c(null),o(!0);const n=await fetch("/users/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok){const e=await n.json();throw new Error(e.detail||"Login failed")}const r=await n.json();await d(r.user),c(null)}catch(n){throw c(n.message||"Login failed"),new Error(n.message||"Login failed")}finally{o(!1)}},logout:()=>{r(null),a(null),localStorage.removeItem("workshop_user")},updateLastActive:async()=>{if(n)try{await Um.updateLastActiveUsersUsersUserIdLastActivePut(n.id)}catch(e){}},isLoading:i,error:l},children:e})},Hm=()=>{const{user:e,permissions:t}=Vm();return{isFacilitator:"facilitator"===(null==e?void 0:e.role),isSME:"sme"===(null==e?void 0:e.role),isParticipant:"participant"===(null==e?void 0:e.role),canViewDiscovery:(null==t?void 0:t.can_view_discovery)??!1,canCreateFindings:(null==t?void 0:t.can_create_findings)??!1,canViewAllFindings:(null==t?void 0:t.can_view_all_findings)??!1,canCreateRubric:(null==t?void 0:t.can_create_rubric)??!1,canViewRubric:(null==t?void 0:t.can_view_rubric)??!1,canAnnotate:(null==t?void 0:t.can_annotate)??!1,canViewAllAnnotations:(null==t?void 0:t.can_view_all_annotations)??!1,canViewResults:(null==t?void 0:t.can_view_results)??!1,canManageWorkshop:(null==t?void 0:t.can_manage_workshop)??!1,canAssignAnnotations:(null==t?void 0:t.can_assign_annotations)??!1}},Qm=Nt.createContext(void 0),Km=()=>{const e=window.location.pathname,t=window.location.search;let n=e.match(/\/workshop\/([a-f0-9-]{36})/);if(n){const e=n[1],t=localStorage.getItem("workshop_id");return t&&t!==e&&localStorage.removeItem("workshop_id"),e}const r=new URLSearchParams(t).get("workshop");if(r&&r.match(/^[a-f0-9-]{36}$/)){const e=localStorage.getItem("workshop_id");return e&&e!==r&&localStorage.removeItem("workshop_id"),r}const s=localStorage.getItem("workshop_id");return s&&s.match(/^[a-f0-9-]{36}$/)?"569c0be9-3782-4587-a595-98033265c7dc"===s?(localStorage.removeItem("workshop_id"),null):s:null};function Gm({children:e,restoredWorkshopId:t}){const n=$p(),{user:r}=Vm(),[s,a]=Nt.useState(()=>{const e=Km();return e&&n.clear(),e}),[i,o]=Nt.useState(null),[l,c]=Nt.useState("filled"),u=e=>{e!==s&&(n.invalidateQueries(),n.clear(),a(e),o(null),e?localStorage.setItem("workshop_id",e):localStorage.removeItem("workshop_id"))};return St.useEffect(()=>{(null==r?void 0:r.workshop_id)&&r.workshop_id!==s&&u(r.workshop_id)},[r,s]),St.useEffect(()=>{t&&!s&&u(t)},[t,s]),St.useEffect(()=>{const e=()=>{const e=Km();e&&e!==s&&(n.clear(),n.removeQueries(),u(e))};return window.addEventListener("popstate",e),e(),()=>{window.removeEventListener("popstate",e)}},[s,n]),Dt.jsx(Qm.Provider,{value:{workshopId:s,workshop:i,setWorkshopId:u,setWorkshop:o,workflowMode:l,setWorkflowMode:c,clearInvalidWorkshopId:()=>{localStorage.removeItem("workshop_id"),n.invalidateQueries(),n.clear(),a(null),o(null)}},children:e})}function Ym(){const e=Nt.useContext(Qm);if(void 0===e)throw new Error("useWorkshopContext must be used within a WorkshopProvider");return e}const Jm=e=>["workshop",e],Xm=(e,t)=>["findings",e,t],Zm=e=>["rubric",e],eg=(e,t)=>["annotations",e,t],tg=e=>["irr",e],ng=e=>["mlflowConfig",e];function rg(e){return Kp({queryKey:Jm(e),queryFn:()=>$m.getWorkshopWorkshopsWorkshopIdGet(e),enabled:!!e,staleTime:1e4,refetchInterval:1e4,refetchOnMount:!0,refetchIntervalInBackground:!1,refetchOnWindowFocus:!0,retry:(e,t)=>(!t||"object"!=typeof t||!("status"in t)||404!==t.status)&&e<3,retryDelay:1e3})}function sg(){const e=$p();return Gp({mutationFn:e=>$m.createWorkshopWorkshopsPost(e),onSuccess:t=>{e.setQueryData(Jm(t.id),t)}})}function ag(e,t){return Kp({queryKey:["traces",e,t],queryFn:async()=>{if(!t)throw new Error("user_id is required for fetching traces");const n=`/workshops/${e}/traces?user_id=${encodeURIComponent(t)}`,r=await fetch(n);if(!r.ok){const e=await r.json().catch(()=>({detail:"Failed to fetch traces"}));throw new Error(e.detail||"Failed to fetch traces")}return r.json()},enabled:!!e&&!!t,staleTime:3e4,gcTime:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1})}function ig(e){return Kp({queryKey:["all-traces",e],queryFn:async()=>{const t=await fetch(`/workshops/${e}/all-traces`);if(!t.ok)throw new Error("Failed to fetch all traces");return t.json()},enabled:!!e,staleTime:3e4,gcTime:6e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnMount:!1})}function og(e,t){return Kp({queryKey:Xm(e,null==t?void 0:t.id),queryFn:()=>$m.getFindingsWorkshopsWorkshopIdFindingsGet(e,null==t?void 0:t.id),enabled:!!e&&!!(null==t?void 0:t.id),staleTime:3e4,refetchInterval:!1,refetchOnWindowFocus:!1})}function lg(e){const{isFacilitator:t}=Hm();return Kp({queryKey:[...Xm(e,"all_findings"),"with_user_details"],queryFn:()=>$m.getFindingsWithUserDetailsWorkshopsWorkshopIdFindingsWithUsersGet(e,void 0),enabled:!!e&&t})}function cg(e){return Kp({queryKey:Zm(e),queryFn:async()=>{try{return await $m.getRubricWorkshopsWorkshopIdRubricGet(e)}catch(t){if(404===t.status)return null;throw t}},enabled:!!e})}function ug(e){const{isFacilitator:t}=Hm();return Kp({queryKey:eg(e,"all_annotations"),queryFn:()=>$m.getAnnotationsWorkshopsWorkshopIdAnnotationsGet(e,void 0),enabled:!!e&&t})}function dg(e){const{isFacilitator:t}=Hm();return Kp({queryKey:[...eg(e,"all_annotations"),"with_user_details"],queryFn:async()=>{const t=await fetch(`/workshops/${e}/annotations-with-users`);if(!t.ok)throw new Error("Failed to fetch annotations with user details");return t.json()},enabled:!!e&&t})}function hg(e){return Kp({queryKey:eg(e),queryFn:()=>$m.getAnnotationsWorkshopsWorkshopIdAnnotationsGet(e),enabled:!!e})}function pg(e){return Kp({queryKey:ng(e),queryFn:async()=>{try{return await $m.getMlflowConfigWorkshopsWorkshopIdMlflowConfigGet(e)}catch(t){if(404===t.status)return null;throw t}},enabled:!!e})}const fg=Nt.createContext(void 0);function mg({children:e}){const{workshopId:t}=Ym(),{user:n}=Vm(),[r,s]=Nt.useState("intake"),[a,i]=Nt.useState([]),{data:o}=rg(t||""),{data:l}=Kp({queryKey:["workshop-participants",t],queryFn:async()=>{if(!t)return[];const e=await fetch(`/workshops/${t}/participants`);if(e.ok){return await e.json()}return[]},enabled:!!t}),{data:c}=ig(t||""),{data:u}=function(e,t){return Kp({queryKey:Xm(e,t),queryFn:()=>$m.getFindingsWorkshopsWorkshopIdFindingsGet(e,t),enabled:!!e})}(t||""),{data:d}=cg(t||""),{data:h}=hg(t||"");Nt.useEffect(()=>{(null==o?void 0:o.current_phase)&&s(o.current_phase)},[null==o?void 0:o.current_phase]),Nt.useEffect(()=>{(null==o?void 0:o.completed_phases)&&i(o.completed_phases)},[null==o?void 0:o.completed_phases]),Nt.useEffect(()=>{if(!c||!t||!o)return;const e=[...o.completed_phases||[]];d&&Array.isArray(d)&&d.length>0&&(null==o?void 0:o.current_phase)&&["annotation","results","judge_tuning","unity_volume"].includes(o.current_phase)&&e.push("rubric"),(h&&h.length>=2||"judge_tuning"===(null==o?void 0:o.current_phase)||"unity_volume"===(null==o?void 0:o.current_phase))&&e.push("results"),"judge_tuning"!==(null==o?void 0:o.current_phase)&&"unity_volume"!==(null==o?void 0:o.current_phase)||e.push("judge_tuning"),"unity_volume"===(null==o?void 0:o.current_phase)&&e.push("unity_volume");const n=["discovery","annotation"],r=(null==o?void 0:o.completed_phases)||[],s=[...r,...e.filter(e=>!n.includes(e)&&!r.includes(e))],l=new Set(a),u=new Set(s);l.size===u.size&&[...l].every(e=>u.has(e))||i(s)},[c,u,d,h,l,t,n,null==o?void 0:o.current_phase]);const p=e=>a.includes(e);return Dt.jsx(fg.Provider,{value:{currentPhase:r,completedPhases:a,setCurrentPhase:s,markPhaseComplete:e=>{i(t=>t.includes(e)?t:[...t,e])},isPhaseComplete:p,isPhaseEnabled:e=>{const t=["discovery","rubric","annotation","results","judge_tuning","unity_volume"],n=t.indexOf(e);if(0===n)return!0;const r=t[n-1];return p(r)},getPhaseProgress:()=>{const e=Math.min(a.length,6);return{completed:e,total:6,percentage:Math.round(e/6*100)}}},children:e})}function gg(){const e=Nt.useContext(fg);if(void 0===e)throw new Error("useWorkflowContext must be used within a WorkflowProvider");return e}function xg(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=xg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vg(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=xg(e))&&(r&&(r+=" "),r+=t);return r}const yg=e=>{const t=kg(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),bg(n,t)||jg(e)},getConflictingClassGroupIds:(e,t)=>{const s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}},bg=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?bg(e.slice(1),s):void 0;if(a)return a;if(0===t.validators.length)return;const i=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(i)))?void 0:n.classGroupId},wg=/^\[(.+)\]$/,jg=e=>{if(wg.test(e)){const t=wg.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},kg=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Cg(Object.entries(e.classGroups),n).forEach(([e,n])=>{Ng(n,r,e,t)}),r},Ng=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Sg(t,e)).classGroupId=n)}if("function"==typeof e)return _g(e)?void Ng(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,s])=>{Ng(s,Sg(t,e),n,r)})})},Sg=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},_g=e=>e.isThemeGetter,Cg=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,Eg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}},Pg=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,s=t[0],a=t.length,i=e=>{const n=[];let i,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===s&&(r||e.slice(d,d+a)===t)){n.push(e.slice(l,d)),l=d+a;continue}if("/"===c){i=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return n?e=>n({className:e,parseClassName:i}):i},Tg=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Rg=/\s+/;function Ig(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Mg(e))&&(r&&(r+=" "),r+=t);return r}const Mg=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Mg(e[r]))&&(n&&(n+=" "),n+=t);return n};function Dg(e,...t){let n,r,s,a=function(o){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:Eg(e.cacheSize),parseClassName:Pg(e),...yg(e)}))(l),r=n.cache.get,s=n.cache.set,a=i,i(o)};function i(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(Rg);let o="";for(let l=i.length-1;l>=0;l-=1){const e=i[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),p=r(h?u.substring(0,d):u);if(!p){if(!h){o=e+(o.length>0?" "+o:o);continue}if(p=r(u),!p){o=e+(o.length>0?" "+o:o);continue}h=!1}const f=Tg(t).join(":"),m=c?f+"!":f,g=m+p;if(a.includes(g))continue;a.push(g);const x=s(p,h);for(let n=0;n<x.length;++n){const e=x[n];a.push(m+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return s(e,a),a}return function(){return a(Ig.apply(null,arguments))}}const Ag=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Lg=/^\[(?:([a-z-]+):)?(.+)\]$/i,Og=/^\d+\/\d+$/,Fg=new Set(["px","full","screen"]),zg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ug=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$g=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vg=e=>Hg(e)||Fg.has(e)||Og.test(e),Bg=e=>ax(e,"length",ix),Hg=e=>Boolean(e)&&!Number.isNaN(Number(e)),Qg=e=>ax(e,"number",Hg),Kg=e=>Boolean(e)&&Number.isInteger(Number(e)),Gg=e=>e.endsWith("%")&&Hg(e.slice(0,-1)),Yg=e=>Lg.test(e),Jg=e=>zg.test(e),Xg=new Set(["length","size","percentage"]),Zg=e=>ax(e,Xg,ox),ex=e=>ax(e,"position",ox),tx=new Set(["image","url"]),nx=e=>ax(e,tx,cx),rx=e=>ax(e,"",lx),sx=()=>!0,ax=(e,t,n)=>{const r=Lg.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},ix=e=>Wg.test(e)&&!Ug.test(e),ox=()=>!1,lx=e=>$g.test(e),cx=e=>qg.test(e),ux=Dg(()=>{const e=Ag("colors"),t=Ag("spacing"),n=Ag("blur"),r=Ag("brightness"),s=Ag("borderColor"),a=Ag("borderRadius"),i=Ag("borderSpacing"),o=Ag("borderWidth"),l=Ag("contrast"),c=Ag("grayscale"),u=Ag("hueRotate"),d=Ag("invert"),h=Ag("gap"),p=Ag("gradientColorStops"),f=Ag("gradientColorStopPositions"),m=Ag("inset"),g=Ag("margin"),x=Ag("opacity"),v=Ag("padding"),y=Ag("saturate"),b=Ag("scale"),w=Ag("sepia"),j=Ag("skew"),k=Ag("space"),N=Ag("translate"),S=()=>["auto",Yg,t],_=()=>[Yg,t],C=()=>["",Vg,Bg],E=()=>["auto",Hg,Yg],P=()=>["","0",Yg],T=()=>[Hg,Yg];return{cacheSize:500,separator:":",theme:{colors:[sx],spacing:[Vg,Bg],blur:["none","",Jg,Yg],brightness:T(),borderColor:[e],borderRadius:["none","","full",Jg,Yg],borderSpacing:_(),borderWidth:C(),contrast:T(),grayscale:P(),hueRotate:T(),invert:P(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[Gg,Bg],inset:S(),margin:S(),opacity:T(),padding:_(),saturate:T(),scale:T(),sepia:P(),skew:T(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",Yg]}],container:["container"],columns:[{columns:[Jg]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Yg]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kg,Yg]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Yg]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Kg,Yg]}],"grid-cols":[{"grid-cols":[sx]}],"col-start-end":[{col:["auto",{span:["full",Kg,Yg]},Yg]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[sx]}],"row-start-end":[{row:["auto",{span:[Kg,Yg]},Yg]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Yg]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Yg]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Yg,t]}],"min-w":[{"min-w":[Yg,t,"min","max","fit"]}],"max-w":[{"max-w":[Yg,t,"none","full","min","max","fit","prose",{screen:[Jg]},Jg]}],h:[{h:[Yg,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Yg,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Yg,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Yg,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jg,Bg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qg]}],"font-family":[{font:[sx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Yg]}],"line-clamp":[{"line-clamp":["none",Hg,Qg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vg,Yg]}],"list-image":[{"list-image":["none",Yg]}],"list-style-type":[{list:["none","disc","decimal",Yg]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vg,Bg]}],"underline-offset":[{"underline-offset":["auto",Vg,Yg]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Yg]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Yg]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",ex]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nx]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Vg,Yg]}],"outline-w":[{outline:[Vg,Bg]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Vg,Bg]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jg,rx]}],"shadow-color":[{shadow:[sx]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jg,Yg]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Yg]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",Yg]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",Yg]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Kg,Yg]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Yg]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Yg]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Yg]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vg,Bg,Qg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function dx(...e){return ux(vg(e))}const hx=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("div",{ref:n,className:dx("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));hx.displayName="Card";const px=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("div",{ref:n,className:dx("flex flex-col space-y-1.5 p-6",e),...t}));px.displayName="CardHeader";const fx=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("h3",{ref:n,className:dx("text-2xl font-semibold leading-none tracking-tight",e),...t}));fx.displayName="CardTitle";const mx=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("p",{ref:n,className:dx("text-sm text-muted-foreground",e),...t}));mx.displayName="CardDescription";const gx=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("div",{ref:n,className:dx("p-6 pt-0",e),...t}));gx.displayName="CardContent";Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("div",{ref:n,className:dx("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";
/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const xx=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},vx=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),yx=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var bx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Nt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...o},l)=>Nt.createElement("svg",{ref:l,...bx,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:vx("lucide",s),...!a&&!yx(o)&&{"aria-hidden":"true"},...o},[...i.map(([e,t])=>Nt.createElement(e,t)),...Array.isArray(a)?a:[a]])),jx=(e,t)=>{const n=Nt.forwardRef(({className:n,...r},s)=>{return Nt.createElement(wx,{ref:s,iconNode:t,className:vx(`lucide-${a=xx(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var a});return n.displayName=xx(e),n},kx=jx("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Nx=jx("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Sx=jx("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),_x=jx("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Cx=jx("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),Ex=jx("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Px=jx("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Tx=jx("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Rx=jx("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ix=jx("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Mx=jx("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Dx=jx("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ax=jx("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Lx=jx("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Ox=jx("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Fx=jx("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),zx=jx("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Wx=jx("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ux=jx("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),$x=jx("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),qx=jx("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Vx=jx("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Bx=jx("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Hx=jx("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Qx=jx("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Kx=jx("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Gx=jx("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Yx=jx("focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Jx=jx("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Xx=jx("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Zx=jx("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),ev=jx("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),tv=jx("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),nv=jx("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),rv=jx("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),sv=jx("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),av=jx("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),iv=jx("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),ov=jx("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),lv=jx("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),cv=jx("notebook-pen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]),uv=jx("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),dv=jx("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]),hv=jx("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),pv=jx("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fv=jx("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),mv=jx("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),gv=jx("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),xv=jx("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vv=jx("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),yv=jx("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),bv=jx("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),wv=jx("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),jv=jx("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),kv=jx("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Nv=jx("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Sv=jx("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),_v=jx("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Cv=jx("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ev=jx("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pv=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Tv=vg,Rv=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Tv(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const i=Pv(t)||Pv(r);return s[e][i]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...o}[t]):{...a,...o}[t]===n})?[...e,n,r]:e},[]);return Tv(e,i,l,null==n?void 0:n.class,null==n?void 0:n.className)},Iv=Rv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});
/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Mv({className:e,variant:t,...n}){return Dt.jsx("div",{className:dx(Iv({variant:t}),e),...n})}const Dv=({showDescription:e=!0,showPhase:t=!0,showParticipantCount:n=!0,variant:r="default"})=>{var s,a;const{workshopId:i}=Ym(),{currentPhase:o}=gg(),{data:l}=rg(i);if(!l)return Dt.jsx("div",{className:"border-b bg-background p-6",children:Dt.jsxs("div",{className:"animate-pulse",children:[Dt.jsx("div",{className:"h-6 bg-muted rounded w-1/3 mb-2"}),Dt.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})});return Dt.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-6 py-4",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("h1",{className:"text-lg font-semibold text-foreground",children:l.name}),t&&Dt.jsx(Mv,{variant:"outline",className:`${(e=>{switch(e){case"intake":return"bg-blue-100 text-blue-700 border-blue-200";case"discovery":return"bg-green-100 text-green-700 border-green-200";case"rubric":return"bg-purple-100 text-purple-700 border-purple-200";case"annotation":return"bg-orange-100 text-orange-700 border-orange-200";case"results":return"bg-red-100 text-red-700 border-red-200";case"judge_tuning":return"bg-indigo-100 text-indigo-700 border-indigo-200";case"unity_volume":return"bg-teal-100 text-teal-700 border-teal-200";default:return"bg-muted text-muted-foreground border-border"}})(o)} border font-medium`,children:(e=>{switch(e){case"intake":return"Intake";case"discovery":return"Discovery";case"rubric":return"Rubric Creation";case"annotation":return"Annotation";case"results":return"Results";case"judge_tuning":return"Judge Tuning";case"unity_volume":return"Data Management";default:return e}})(o)})]}),e&&l.description&&Dt.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-2xl",children:l.description}),"detailed"===r&&Dt.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-2",children:[Dt.jsxs("span",{children:["ID: ",l.id.slice(0,8),"..."]}),Dt.jsxs("span",{children:["Created: ",new Date(l.created_at).toLocaleDateString()]}),n&&Dt.jsxs("span",{children:["Participants: ",(null==(s=l.users)?void 0:s.length)||0]})]})]}),"default"===r&&n&&Dt.jsxs("div",{className:"text-right",children:[Dt.jsx("div",{className:"text-xs text-muted-foreground",children:"Participants"}),Dt.jsx("div",{className:"text-2xl font-bold text-foreground",children:(null==(a=l.users)?void 0:a.length)||0})]})]})})};function Av(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Lv(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Av(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Av(e[t],null)}}}}function Ov(...e){return Nt.useCallback(Lv(...e),e)}function Fv(e){const t=Wv(e),n=Nt.forwardRef((e,n)=>{const{children:r,...s}=e,a=Nt.Children.toArray(r),i=a.find($v);if(i){const e=i.props.children,r=a.map(t=>t===i?Nt.Children.count(e)>1?Nt.Children.only(null):Nt.isValidElement(e)?e.props.children:null:t);return Dt.jsx(t,{...s,ref:n,children:Nt.isValidElement(e)?Nt.cloneElement(e,void 0,r):null})}return Dt.jsx(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var zv=Fv("Slot");function Wv(e){const t=Nt.forwardRef((e,t)=>{const{children:n,...r}=e;if(Nt.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...e)=>{const t=a(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]={...s,...a}:"className"===r&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==Nt.Fragment&&(s.ref=t?Lv(t,e):e),Nt.cloneElement(n,s)}return Nt.Children.count(n)>1?Nt.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Uv=Symbol("radix.slottable");function $v(e){return Nt.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Uv}const qv=Rv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Vv=Nt.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const i=r?zv:"button";return Dt.jsx(i,{className:dx(qv({variant:t,size:n,className:e})),ref:a,...s})});function Bv(){}function Hv(){}Vv.displayName="Button";const Qv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Gv={};function Yv(e,t){return(Gv.jsx?Kv:Qv).test(e)}const Jv=/[ \t\n\f\r]/g;function Xv(e){return""===e.replace(Jv,"")}class Zv{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function ey(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Zv(n,r,t)}function ty(e){return e.toLowerCase()}Zv.prototype.normal={},Zv.prototype.property={},Zv.prototype.space=void 0;class ny{constructor(e,t){this.attribute=t,this.property=e}}ny.prototype.attribute="",ny.prototype.booleanish=!1,ny.prototype.boolean=!1,ny.prototype.commaOrSpaceSeparated=!1,ny.prototype.commaSeparated=!1,ny.prototype.defined=!1,ny.prototype.mustUseProperty=!1,ny.prototype.number=!1,ny.prototype.overloadedBoolean=!1,ny.prototype.property="",ny.prototype.spaceSeparated=!1,ny.prototype.space=void 0;let ry=0;const sy=dy(),ay=dy(),iy=dy(),oy=dy(),ly=dy(),cy=dy(),uy=dy();function dy(){return 2**++ry}const hy=Object.freeze(Object.defineProperty({__proto__:null,boolean:sy,booleanish:ay,commaOrSpaceSeparated:uy,commaSeparated:cy,number:oy,overloadedBoolean:iy,spaceSeparated:ly},Symbol.toStringTag,{value:"Module"})),py=Object.keys(hy);class fy extends ny{constructor(e,t,n,r){let s=-1;if(super(e,t),my(this,"space",r),"number"==typeof n)for(;++s<py.length;){const e=py[s];my(this,py[s],(n&hy[e])===hy[e])}}}function my(e,t,n){n&&(e[t]=n)}function gy(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new fy(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ty(r)]=r,n[ty(a.attribute)]=r}return new Zv(t,n,e.space)}fy.prototype.defined=!0;const xy=gy({properties:{ariaActiveDescendant:null,ariaAtomic:ay,ariaAutoComplete:null,ariaBusy:ay,ariaChecked:ay,ariaColCount:oy,ariaColIndex:oy,ariaColSpan:oy,ariaControls:ly,ariaCurrent:null,ariaDescribedBy:ly,ariaDetails:null,ariaDisabled:ay,ariaDropEffect:ly,ariaErrorMessage:null,ariaExpanded:ay,ariaFlowTo:ly,ariaGrabbed:ay,ariaHasPopup:null,ariaHidden:ay,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ly,ariaLevel:oy,ariaLive:null,ariaModal:ay,ariaMultiLine:ay,ariaMultiSelectable:ay,ariaOrientation:null,ariaOwns:ly,ariaPlaceholder:null,ariaPosInSet:oy,ariaPressed:ay,ariaReadOnly:ay,ariaRelevant:null,ariaRequired:ay,ariaRoleDescription:ly,ariaRowCount:oy,ariaRowIndex:oy,ariaRowSpan:oy,ariaSelected:ay,ariaSetSize:oy,ariaSort:null,ariaValueMax:oy,ariaValueMin:oy,ariaValueNow:oy,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function vy(e,t){return t in e?e[t]:t}function yy(e,t){return vy(e,t.toLowerCase())}const by=gy({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cy,acceptCharset:ly,accessKey:ly,action:null,allow:null,allowFullScreen:sy,allowPaymentRequest:sy,allowUserMedia:sy,alt:null,as:null,async:sy,autoCapitalize:null,autoComplete:ly,autoFocus:sy,autoPlay:sy,blocking:ly,capture:null,charSet:null,checked:sy,cite:null,className:ly,cols:oy,colSpan:null,content:null,contentEditable:ay,controls:sy,controlsList:ly,coords:oy|cy,crossOrigin:null,data:null,dateTime:null,decoding:null,default:sy,defer:sy,dir:null,dirName:null,disabled:sy,download:iy,draggable:ay,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:sy,formTarget:null,headers:ly,height:oy,hidden:iy,high:oy,href:null,hrefLang:null,htmlFor:ly,httpEquiv:ly,id:null,imageSizes:null,imageSrcSet:null,inert:sy,inputMode:null,integrity:null,is:null,isMap:sy,itemId:null,itemProp:ly,itemRef:ly,itemScope:sy,itemType:ly,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:sy,low:oy,manifest:null,max:null,maxLength:oy,media:null,method:null,min:null,minLength:oy,multiple:sy,muted:sy,name:null,nonce:null,noModule:sy,noValidate:sy,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:sy,optimum:oy,pattern:null,ping:ly,placeholder:null,playsInline:sy,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:sy,referrerPolicy:null,rel:ly,required:sy,reversed:sy,rows:oy,rowSpan:oy,sandbox:ly,scope:null,scoped:sy,seamless:sy,selected:sy,shadowRootClonable:sy,shadowRootDelegatesFocus:sy,shadowRootMode:null,shape:null,size:oy,sizes:null,slot:null,span:oy,spellCheck:ay,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oy,step:null,style:null,tabIndex:oy,target:null,title:null,translate:null,type:null,typeMustMatch:sy,useMap:null,value:ay,width:oy,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ly,axis:null,background:null,bgColor:null,border:oy,borderColor:null,bottomMargin:oy,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:sy,declare:sy,event:null,face:null,frame:null,frameBorder:null,hSpace:oy,leftMargin:oy,link:null,longDesc:null,lowSrc:null,marginHeight:oy,marginWidth:oy,noResize:sy,noHref:sy,noShade:sy,noWrap:sy,object:null,profile:null,prompt:null,rev:null,rightMargin:oy,rules:null,scheme:null,scrolling:ay,standby:null,summary:null,text:null,topMargin:oy,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oy,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:sy,disableRemotePlayback:sy,prefix:null,property:null,results:oy,security:null,unselectable:null},space:"html",transform:yy}),wy=gy({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:uy,accentHeight:oy,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oy,amplitude:oy,arabicForm:null,ascent:oy,attributeName:null,attributeType:null,azimuth:oy,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oy,by:null,calcMode:null,capHeight:oy,className:ly,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oy,diffuseConstant:oy,direction:null,display:null,dur:null,divisor:oy,dominantBaseline:null,download:sy,dx:null,dy:null,edgeMode:null,editable:null,elevation:oy,enableBackground:null,end:null,event:null,exponent:oy,externalResourcesRequired:null,fill:null,fillOpacity:oy,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cy,g2:cy,glyphName:cy,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oy,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oy,horizOriginX:oy,horizOriginY:oy,id:null,ideographic:oy,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oy,k:oy,k1:oy,k2:oy,k3:oy,k4:oy,kernelMatrix:uy,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oy,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oy,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oy,overlineThickness:oy,paintOrder:null,panose1:null,path:null,pathLength:oy,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ly,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oy,pointsAtY:oy,pointsAtZ:oy,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:uy,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:uy,rev:uy,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:uy,requiredFeatures:uy,requiredFonts:uy,requiredFormats:uy,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oy,specularExponent:oy,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oy,strikethroughThickness:oy,string:null,stroke:null,strokeDashArray:uy,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oy,strokeOpacity:oy,strokeWidth:null,style:null,surfaceScale:oy,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:uy,tabIndex:oy,tableValues:null,target:null,targetX:oy,targetY:oy,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:uy,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oy,underlineThickness:oy,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oy,values:null,vAlphabetic:oy,vMathematical:oy,vectorEffect:null,vHanging:oy,vIdeographic:oy,version:null,vertAdvY:oy,vertOriginX:oy,vertOriginY:oy,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oy,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vy}),jy=gy({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),ky=gy({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yy}),Ny=gy({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Sy={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_y=/[A-Z]/g,Cy=/-[a-z]/g,Ey=/^data[-\w.:]+$/i;function Py(e){return"-"+e.toLowerCase()}function Ty(e){return e.charAt(1).toUpperCase()}const Ry=ey([xy,by,jy,ky,Ny],"html"),Iy=ey([xy,wy,jy,ky,Ny],"svg");var My={},Dy=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ay=/\n/g,Ly=/^\s*/,Oy=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Fy=/^:\s*/,zy=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Wy=/^[;\s]*/,Uy=/^\s+|\s+$/g,$y="";function qy(e){return e?e.replace(Uy,$y):$y}var Vy=Fe&&Fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(My,"__esModule",{value:!0}),My.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,By.default)(e),s="function"==typeof t;return r.forEach(function(e){if("declaration"===e.type){var r=e.property,a=e.value;s?t(r,a,e):a&&((n=n||{})[r]=a)}}),n};var By=Vy(function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(e){var t=e.match(Ay);t&&(n+=t.length);var s=e.lastIndexOf("\n");r=~s?e.length-s:r+e.length}function a(){var e={line:n,column:r};return function(t){return t.position=new i(e),c(),t}}function i(e){this.start=e,this.end={line:n,column:r},this.source=t.source}function o(s){var a=new Error(t.source+":"+n+":"+r+": "+s);if(a.reason=s,a.filename=t.source,a.line=n,a.column=r,a.source=e,!t.silent)throw a}function l(t){var n=t.exec(e);if(n){var r=n[0];return s(r),e=e.slice(r.length),n}}function c(){l(Ly)}function u(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=a();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;$y!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,$y===e.charAt(n-1))return o("End of comment missing");var i=e.slice(2,n-2);return r+=2,s(i),e=e.slice(n),r+=2,t({type:"comment",comment:i})}}function h(){var e=a(),t=l(Oy);if(t){if(d(),!l(Fy))return o("property missing ':'");var n=l(zy),r=e({type:"declaration",property:qy(t[0].replace(Dy,$y)),value:n?qy(n[0].replace(Dy,$y)):$y});return l(Wy),r}}return i.prototype.content=e,c(),function(){var e,t=[];for(u(t);e=h();)!1!==e&&(t.push(e),u(t));return t}()});var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.camelCase=void 0;var Qy=/^--[a-zA-Z0-9_-]+$/,Ky=/-([a-z])/g,Gy=/^[^-]+$/,Yy=/^-(webkit|moz|ms|o|khtml)-/,Jy=/^-(ms)-/,Xy=function(e,t){return t.toUpperCase()},Zy=function(e,t){return"".concat(t,"-")};Hy.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||Gy.test(e)||Qy.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(Jy,Zy):e.replace(Yy,Zy)).replace(Ky,Xy))};var eb=(Fe&&Fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(My),tb=Hy;function nb(e,t){var n={};return e&&"string"==typeof e?((0,eb.default)(e,function(e,r){e&&r&&(n[(0,tb.camelCase)(e,t)]=r)}),n):n}nb.default=nb;const rb=ze(nb),sb=ib("end"),ab=ib("start");function ib(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function ob(e){return e&&"object"==typeof e?"position"in e||"type"in e?cb(e.position):"start"in e||"end"in e?cb(e):"line"in e||"column"in e?lb(e):"":""}function lb(e){return ub(e&&e.line)+":"+ub(e&&e.column)}function cb(e){return lb(e&&e.start)+"-"+lb(e&&e.end)}function ub(e){return e&&"number"==typeof e?e:1}class db extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",s={},a=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!s.cause&&e&&(a=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const i=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=i?i.line:void 0,this.name=ob(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&"string"==typeof s.cause.stack?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}db.prototype.file="",db.prototype.name="",db.prototype.reason="",db.prototype.message="",db.prototype.stack="",db.prototype.column=void 0,db.prototype.line=void 0,db.prototype.ancestors=void 0,db.prototype.cause=void 0,db.prototype.fatal=void 0,db.prototype.place=void 0,db.prototype.ruleId=void 0,db.prototype.source=void 0;const hb={}.hasOwnProperty,pb=new Map,fb=/[A-Z]/g,mb=new Set(["table","tbody","thead","tfoot","tr"]),gb=new Set(["td","th"]),xb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vb(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,a){const i=Array.isArray(s.children),o=ab(n);return t(r,s,a,i,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,a){const i=Array.isArray(s.children)?n:t;return a?i(r,s,a):i(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Iy:Ry,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=yb(s,e,void 0);return a&&"string"!=typeof a?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function yb(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=Iy,e.schema=s);e.ancestors.push(t);const a=Nb(e,t.tagName,!1),i=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&hb.call(t.properties,s)){const a=kb(e,s,t.properties[s]);if(a){const[s,i]=a;e.tableCellAlignToStyle&&"align"===s&&"string"==typeof i&&gb.has(t.tagName)?r=i:n[s]=i}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=jb(e,t);mb.has(t.tagName)&&(o=o.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&Xv(t.value):Xv(t));var t}));return bb(e,i,a,t),wb(i,o),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Sb(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=Iy,e.schema=s);e.ancestors.push(t);const a=null===t.name?e.Fragment:Nb(e,t.name,!0),i=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];Bv(t.type);const s=t.expression;Bv(s.type);const a=s.properties[0];Bv(a.type),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Sb(e,t.position);else{const s=r.name;let a;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];Bv(t.type),a=e.evaluater.evaluateExpression(t.expression)}else Sb(e,t.position);else a=null===r.value||r.value;n[s]=a}return n}(e,t),o=jb(e,t);return bb(e,i,a,t),wb(i,o),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Sb(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return wb(r,jb(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function bb(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function wb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function jb(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:pb;for(;++r<t.children.length;){const a=t.children[r];let i;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=s.get(e)||0;i=e+"-"+t,s.set(e,t+1)}}const o=yb(e,a,i);void 0!==o&&n.push(o)}return n}function kb(e,t,n){const r=function(e,t){const n=ty(t);let r=t,s=ny;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Ey.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Cy,Ty);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Cy.test(e)){let n=e.replace(_y,Py);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=fy}return new s(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return rb(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new db("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=xb+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)hb.call(e,n)&&(t[_b(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Sy[r.property]||r.property:r.attribute,n]}}function Nb(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=Yv(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=Yv(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return hb.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Sb(e)}function Sb(e,t){const n=new db("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=xb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function _b(e){let t=e.replace(fb,Cb);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Cb(e){return"-"+e.toLowerCase()}const Eb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Pb={};function Tb(e,t){return Rb(e,"boolean"!=typeof Pb.includeImageAlt||Pb.includeImageAlt,"boolean"!=typeof Pb.includeHtml||Pb.includeHtml)}function Rb(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ib(e.children,t,n)}return Array.isArray(e)?Ib(e,t,n):""}function Ib(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Rb(e[s],t,n);return r.join("")}const Mb=document.createElement("i");function Db(e){const t="&"+e+";";Mb.innerHTML=t;const n=Mb.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function Ab(e,t,n,r){const s=e.length;let a,i=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function Lb(e,t){return e.length>0?(Ab(e,e.length,0,t),e):t}const Ob={}.hasOwnProperty;function Fb(e){const t={};let n=-1;for(;++n<e.length;)zb(t,e[n]);return t}function zb(e,t){let n;for(n in t){const r=(Ob.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){Ob.call(r,a)||(r[a]=[]);const e=s[a];Wb(r[a],Array.isArray(e)?e:e?[e]:[])}}}function Wb(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);Ab(e,0,0,r)}function Ub(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function $b(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qb=tw(/[A-Za-z]/),Vb=tw(/[\dA-Za-z]/),Bb=tw(/[#-'*+\--9=?A-Z^-~]/);function Hb(e){return null!==e&&(e<32||127===e)}const Qb=tw(/\d/),Kb=tw(/[\dA-Fa-f]/),Gb=tw(/[!-/:-@[-`{-~]/);function Yb(e){return null!==e&&e<-2}function Jb(e){return null!==e&&(e<0||32===e)}function Xb(e){return-2===e||-1===e||32===e}const Zb=tw(new RegExp("\\p{P}|\\p{S}","u")),ew=tw(/\s/);function tw(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function nw(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let i="";if(37===a&&Vb(e.charCodeAt(n+1))&&Vb(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(i=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(i=String.fromCharCode(a,t),s=1):i=""}else i=String.fromCharCode(a);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function rw(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return function(r){if(Xb(r))return e.enter(n),i(r);return t(r)};function i(r){return Xb(r)&&a++<s?(e.consume(r),i):(e.exit(n),t(r))}}const sw={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),rw(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Yb(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const aw={tokenize:function(e){const t=this,n=[];let r,s,a,i=0;return o;function o(r){if(i<n.length){const s=n[i];return t.containerState=s[1],e.attempt(s[0].continuation,l,c)(r)}return c(r)}function l(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let s,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){s=t.events[a][1].end;break}x(i);let o=n;for(;o<t.events.length;)t.events[o][1].end={...s},o++;return Ab(t.events,a+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(s){if(i===n.length){if(!r)return h(s);if(r.currentConstruct&&r.currentConstruct.concrete)return f(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(iw,u,d)(s)}function u(e){return r&&v(),x(i),h(e)}function d(e){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(iw,p,f)(n)}function p(e){return i++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(r&&v(),x(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),x(0),void e.consume(n)):Yb(n)?(e.consume(n),g(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(n),m)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<a&&(!r.events[e][1].end||r.events[e][1].end.offset>a))return;const n=t.events.length;let s,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(s){o=t.events[l][1].end;break}s=!0}for(x(i),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;Ab(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function x(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},iw={tokenize:function(e,t,n){return rw(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function ow(e){return null===e||Jb(e)||ew(e)?1:Zb(e)?2:void 0}function lw(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const cw={name:"attention",resolveAll:function(e,t){let n,r,s,a,i,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[u][1].start};uw(d,-o),uw(h,o),a={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},i={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},s={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:o>1?"strong":"emphasis",start:{...a.start},end:{...i.end}},e[n][1].end={...a.start},e[u][1].start={...i.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Lb(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Lb(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=Lb(l,lw(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=Lb(l,[["exit",s,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=Lb(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,Ab(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=ow(r);let a;return function(t){return a=t,e.enter("attentionSequence"),i(t)};function i(o){if(o===a)return e.consume(o),i;const l=e.exit("attentionSequence"),c=ow(o),u=!c||2===c&&s||n.includes(o),d=!s||2===s&&c||n.includes(r);return l._open=Boolean(42===a?u:u&&(s||!d)),l._close=Boolean(42===a?d:d&&(c||!u)),t(o)}}};function uw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const dw={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return qb(t)?(e.consume(t),a):64===t?n(t):l(t)}function a(e){return 43===e||45===e||46===e||Vb(e)?(r=1,i(e)):l(e)}function i(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||Vb(t))&&r++<32?(e.consume(t),i):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Hb(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),c):Bb(t)?(e.consume(t),l):n(t)}function c(e){return Vb(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||Vb(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const hw={partial:!0,tokenize:function(e,t,n){return function(t){return Xb(t)?rw(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Yb(e)?t(e):n(e)}}};const pw={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(Xb(t))return rw(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(pw,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return Xb(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const fw={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Gb(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const mw={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,a,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=Vb,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=Kb,c):(e.enter("characterReferenceValue"),s=7,a=Qb,c(t))}function c(o){if(59===o&&i){const s=e.exit("characterReferenceValue");return a!==Vb||Db(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return a(o)&&i++<s?(e.consume(o),c):n(o)}}};const gw={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},xw={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,s={partial:!0,tokenize:function(e,t,n){let s=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),Xb(t)?rw(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===a?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===a?(s++,e.consume(t),u):s>=o?(e.exit("codeFencedFenceSequence"),Xb(t)?rw(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||Yb(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let a,i=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===a?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),Xb(t)?rw(e,c,"whitespace")(t):c(t))}function c(n){return null===n||Yb(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(gw,p,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||Yb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):Xb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rw(e,d,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),u)}function d(t){return null===t||Yb(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||Yb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===a?n(t):(e.consume(t),h)}function p(t){return e.attempt(s,v,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return i>0&&Xb(t)?rw(e,g,"linePrefix",i+1)(t):g(t)}function g(t){return null===t||Yb(t)?e.check(gw,p,v)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||Yb(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),x)}function v(n){return e.exit("codeFenced"),t(n)}}};const vw={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),rw(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?o(t):Yb(t)?e.attempt(yw,a,o)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||Yb(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),i)}function o(n){return e.exit("codeIndented"),t(n)}}},yw={partial:!0,tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):Yb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):rw(e,a,"linePrefix",5)(t)}function a(e){const a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):Yb(e)?s(e):n(e)}}};const bw={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,s=3;if(!("lineEnding"!==e[s][1].type&&"space"!==e[s][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,s,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),a++,i):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(s=e.enter("codeTextSequence"),r=0,c(t)):Yb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Yb(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",l(n))}}};class ww{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&jw(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),jw(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),jw(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);jw(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);jw(this.left,t.reverse())}}}function jw(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function kw(e){const t={};let n,r,s,a,i,o,l,c=-1;const u=new ww(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(o=n[1]._tokenizer.events,s=0,s<o.length&&"lineEndingBlank"===o[s][1].type&&(s+=2),s<o.length&&"content"===o[s][1].type))for(;++s<o.length&&"content"!==o[s][1].type;)"chunkText"===o[s][1].type&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Nw(u,c)),c=t[c],l=!0);else if(n[1]._container){for(s=c,r=void 0;s--;)if(a=u.get(s),"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type)"enter"===a[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);else if("linePrefix"!==a[1].type&&"listItemIndent"!==a[1].type)break;r&&(n[1].end={...u.get(r)[1].start},i=u.slice(r,c),i.unshift(n),u.splice(r,c-r+1,i))}}return Ab(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function Nw(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const o=i.events,l=[],c={};let u,d,h=-1,p=n,f=0,m=0;const g=[m];for(;p;){for(;e.get(++s)[1]!==p;);a.push(s),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&i.defineSkip(p.start),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(u),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(i.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=a.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[f+l[h][0]]=f+l[h][1],f+=l[h][1]-l[h][0]-1;return c}const Sw={resolve:function(e){return kw(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):Yb(t)?e.check(_w,a,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},_w={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),rw(e,s,"linePrefix")};function s(s){if(null===s||Yb(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}};function Cw(e,t,n,r,s,a,i,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(a),e.consume(t),e.exit(a),d;if(null===t||32===t||41===t||Hb(t))return n(t);return e.enter(r),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),f(t)};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||Yb(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(s){return u||null!==s&&41!==s&&!Jb(s)?u<c&&40===s?(e.consume(s),u++,f):41===s?(e.consume(s),u--,f):null===s||32===s||40===s||Hb(s)?n(s):(e.consume(s),92===s?m:f):(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(r),t(s))}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function Ew(e,t,n,r,s,a){const i=this;let o,l=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(a),c};function c(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):93===d?(e.exit(a),e.enter(s),e.consume(d),e.exit(s),e.exit(r),t):Yb(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||Yb(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!Xb(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function Pw(e,t,n,r,s,a){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),i=40===t?41:t,o;return n(t)};function o(n){return n===i?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===i?(e.exit(a),o(i)):null===t?n(t):Yb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),rw(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===i||null===t||Yb(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===i||92===t?(e.consume(t),c):c(t)}}function Tw(e,t){let n;return function r(s){if(Yb(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(Xb(s))return rw(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}const Rw={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return Ew.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return s=$b(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return Jb(t)?Tw(e,o)(t):o(t)}function o(t){return Cw(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Iw,c,c)(t)}function c(t){return Xb(t)?rw(e,u,"whitespace")(t):u(t)}function u(a){return null===a||Yb(a)?(e.exit("definition"),r.parser.defined.push(s),t(a)):n(a)}}},Iw={partial:!0,tokenize:function(e,t,n){return function(t){return Jb(t)?Tw(e,r)(t):n(t)};function r(t){return Pw(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return Xb(t)?rw(e,a,"whitespace")(t):a(t)}function a(e){return null===e||Yb(e)?t(e):n(e)}}};const Mw={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Yb(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Dw={name:"headingAtx",resolve:function(e,t){let n,r,s=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);s-2>a&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(a===s-1||s-4>a&&"whitespace"===e[s-2][1].type)&&(s-=a+1===s?2:4);s>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[s][1].end},r={type:"chunkText",start:e[a][1].start,end:e[s][1].end,contentType:"text"},Ab(e,a,s-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||Jb(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||Yb(n)?(e.exit("atxHeading"),t(n)):Xb(n)?rw(e,a,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),a(t))}function o(t){return null===t||35===t||Jb(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),o)}}};const Aw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Lw=["pre","script","style","textarea"],Ow={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let s,a,i,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),u):47===o?(e.consume(o),a=!0,p):63===o?(e.consume(o),s=3,r.interrupt?t:D):qb(o)?(e.consume(o),i=String.fromCharCode(o),f):n(o)}function u(a){return 45===a?(e.consume(a),s=2,d):91===a?(e.consume(a),s=5,o=0,h):qb(a)?(e.consume(a),s=4,r.interrupt?t:D):n(a)}function d(s){return 45===s?(e.consume(s),r.interrupt?t:D):n(s)}function h(s){const a="CDATA[";return s===a.charCodeAt(o++)?(e.consume(s),6===o?r.interrupt?t:_:h):n(s)}function p(t){return qb(t)?(e.consume(t),i=String.fromCharCode(t),f):n(t)}function f(o){if(null===o||47===o||62===o||Jb(o)){const l=47===o,c=i.toLowerCase();return l||a||!Lw.includes(c)?Aw.includes(i.toLowerCase())?(s=6,l?(e.consume(o),m):r.interrupt?t(o):_(o)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):a?g(o):x(o)):(s=1,r.interrupt?t(o):_(o))}return 45===o||Vb(o)?(e.consume(o),i+=String.fromCharCode(o),f):n(o)}function m(s){return 62===s?(e.consume(s),r.interrupt?t:_):n(s)}function g(t){return Xb(t)?(e.consume(t),g):N(t)}function x(t){return 47===t?(e.consume(t),N):58===t||95===t||qb(t)?(e.consume(t),v):Xb(t)?(e.consume(t),x):N(t)}function v(t){return 45===t||46===t||58===t||95===t||Vb(t)?(e.consume(t),v):y(t)}function y(t){return 61===t?(e.consume(t),b):Xb(t)?(e.consume(t),y):x(t)}function b(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):Xb(t)?(e.consume(t),b):j(t)}function w(t){return t===l?(e.consume(t),l=null,k):null===t||Yb(t)?n(t):(e.consume(t),w)}function j(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Jb(t)?y(t):(e.consume(t),j)}function k(e){return 47===e||62===e||Xb(e)?x(e):n(e)}function N(t){return 62===t?(e.consume(t),S):n(t)}function S(t){return null===t||Yb(t)?_(t):Xb(t)?(e.consume(t),S):n(t)}function _(t){return 45===t&&2===s?(e.consume(t),T):60===t&&1===s?(e.consume(t),R):62===t&&4===s?(e.consume(t),A):63===t&&3===s?(e.consume(t),D):93===t&&5===s?(e.consume(t),M):!Yb(t)||6!==s&&7!==s?null===t||Yb(t)?(e.exit("htmlFlowData"),C(t)):(e.consume(t),_):(e.exit("htmlFlowData"),e.check(Fw,L,C)(t))}function C(t){return e.check(zw,E,L)(t)}function E(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),P}function P(t){return null===t||Yb(t)?C(t):(e.enter("htmlFlowData"),_(t))}function T(t){return 45===t?(e.consume(t),D):_(t)}function R(t){return 47===t?(e.consume(t),i="",I):_(t)}function I(t){if(62===t){const n=i.toLowerCase();return Lw.includes(n)?(e.consume(t),A):_(t)}return qb(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),I):_(t)}function M(t){return 93===t?(e.consume(t),D):_(t)}function D(t){return 62===t?(e.consume(t),A):45===t&&2===s?(e.consume(t),D):_(t)}function A(t){return null===t||Yb(t)?(e.exit("htmlFlowData"),L(t)):(e.consume(t),A)}function L(n){return e.exit("htmlFlow"),t(n)}}},Fw={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(hw,t,n)}}},zw={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(Yb(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const Ww={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,a,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),v):qb(t)?(e.consume(t),k):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),a=0,p):qb(t)?(e.consume(t),x):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):Yb(t)?(i=u,I(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?R(e):45===e?d(e):u(e)}function p(t){const r="CDATA[";return t===r.charCodeAt(a++)?(e.consume(t),6===a?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),m):Yb(t)?(i=f,I(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),g):f(t)}function g(t){return 62===t?R(t):93===t?(e.consume(t),g):f(t)}function x(t){return null===t||62===t?R(t):Yb(t)?(i=x,I(t)):(e.consume(t),x)}function v(t){return null===t?n(t):63===t?(e.consume(t),y):Yb(t)?(i=v,I(t)):(e.consume(t),v)}function y(e){return 62===e?R(e):v(e)}function b(t){return qb(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||Vb(t)?(e.consume(t),w):j(t)}function j(t){return Yb(t)?(i=j,I(t)):Xb(t)?(e.consume(t),j):R(t)}function k(t){return 45===t||Vb(t)?(e.consume(t),k):47===t||62===t||Jb(t)?N(t):n(t)}function N(t){return 47===t?(e.consume(t),R):58===t||95===t||qb(t)?(e.consume(t),S):Yb(t)?(i=N,I(t)):Xb(t)?(e.consume(t),N):R(t)}function S(t){return 45===t||46===t||58===t||95===t||Vb(t)?(e.consume(t),S):_(t)}function _(t){return 61===t?(e.consume(t),C):Yb(t)?(i=_,I(t)):Xb(t)?(e.consume(t),_):N(t)}function C(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,E):Yb(t)?(i=C,I(t)):Xb(t)?(e.consume(t),C):(e.consume(t),P)}function E(t){return t===s?(e.consume(t),s=void 0,T):null===t?n(t):Yb(t)?(i=E,I(t)):(e.consume(t),E)}function P(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Jb(t)?N(t):(e.consume(t),P)}function T(e){return 47===e||62===e||Jb(e)?N(e):n(e)}function R(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function I(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return Xb(t)?rw(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):D(t)}function D(t){return e.enter("htmlTextData"),i(t)}}};const Uw={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&Ab(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,s,a,i=e.length,o=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(s=i);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[s][1].end}},u={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=Lb(a,e.slice(r+1,r+o+3)),a=Lb(a,[["enter",u,t]]),a=Lb(a,lw(t.parser.constructs.insideSpan.null,e.slice(r+o+4,s-3),t)),a=Lb(a,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),a=Lb(a,e.slice(s+1)),a=Lb(a,[["exit",l,t]]),Ab(e,r,e.length,a),e},tokenize:function(e,t,n){const r=this;let s,a,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){s=r.events[i][1];break}return function(t){if(!s)return n(t);if(s._inactive)return u(t);return a=r.parser.defined.includes($b(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt($w,c,a?c:u)(t):91===t?e.attempt(qw,c,a?l:u)(t):a?c(t):u(t)}function l(t){return e.attempt(Vw,c,u)(t)}function c(e){return t(e)}function u(e){return s._balanced=!0,n(e)}}},$w={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Jb(t)?Tw(e,s)(t):s(t)}function s(t){return 41===t?c(t):Cw(e,a,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return Jb(t)?Tw(e,o)(t):c(t)}function i(e){return n(e)}function o(t){return 34===t||39===t||40===t?Pw(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return Jb(t)?Tw(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},qw={tokenize:function(e,t,n){const r=this;return function(t){return Ew.call(r,e,s,a,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes($b(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},Vw={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const Bw={name:"labelStartImage",resolveAll:Uw.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Hw={name:"labelStartLink",resolveAll:Uw.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Qw={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),rw(e,t,"linePrefix")}}};const Kw={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,a(e)}(t)};function a(a){return a===r?(e.enter("thematicBreakSequence"),i(a)):s>=3&&(null===a||Yb(a))?(e.exit("thematicBreak"),t(a)):n(a)}function i(t){return t===r?(e.consume(t),s++,i):(e.exit("thematicBreakSequence"),Xb(t)?rw(e,a,"whitespace")(t):a(t))}}};const Gw={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(hw,function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rw(e,t,"listItemIndent",r.containerState.size+1)(n)},function(n){if(r.containerState.furtherBlankLines||!Xb(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Jw,t,s)(n)});function s(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,rw(e,e.attempt(Gw,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,i=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:Qb(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(Kw,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return Qb(t)&&++i<10?(e.consume(t),o):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(hw,r.interrupt?n:c,e.attempt(Yw,d,u))}function c(e){return r.containerState.initialBlankLine=!0,a++,d(e)}function u(t){return Xb(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Yw={partial:!0,tokenize:function(e,t,n){const r=this;return rw(e,function(e){const s=r.events[r.events.length-1];return!Xb(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Jw={partial:!0,tokenize:function(e,t,n){const r=this;return rw(e,function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const Xw={name:"setextUnderline",resolveTo:function(e,t){let n,r,s,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),s||"definition"!==e[a][1].type||(s=a);const i={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",i,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=i;return e.push(["exit",i,t]),e},tokenize:function(e,t,n){const r=this;let s;return function(t){let i,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){i="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t);return n(t)};function a(t){return t===s?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),Xb(t)?rw(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||Yb(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const Zw={tokenize:function(e){const t=this,n=e.attempt(hw,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,rw(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Sw,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const ej={resolveAll:sj()},tj=rj("string"),nj=rj("text");function rj(e){return{resolveAll:sj("text"===e?aj:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,a,i);return a;function a(e){return l(e)?s(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),s(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function sj(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function aj(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let a,i=s.length,o=-1,l=0;for(;i--;){const e=s[i];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)a=!0,l++;else if(-1!==e){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const s={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...s.start},r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const ij={42:Gw,43:Gw,45:Gw,48:Gw,49:Gw,50:Gw,51:Gw,52:Gw,53:Gw,54:Gw,55:Gw,56:Gw,57:Gw,62:pw},oj={91:Rw},lj={[-2]:vw,[-1]:vw,32:vw},cj={35:Dw,42:Kw,45:[Xw,Kw],60:Ow,61:Xw,95:Kw,96:xw,126:xw},uj={38:mw,92:fw},dj={[-5]:Qw,[-4]:Qw,[-3]:Qw,33:Bw,38:mw,42:cw,60:[dw,Ww],91:Hw,92:[Mw,fw],93:Uw,95:cw,96:bw},hj={null:[cw,ej]},pj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:oj,disable:{null:[]},document:ij,flow:cj,flowInitial:lj,insideSpan:hj,string:uj,text:dj},Symbol.toStringTag,{value:"Module"}));function fj(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let i=[],o=[];const l={attempt:g(function(e,t){x(e,t.from)}),check:g(m),consume:function(e){Yb(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,v()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:g(m,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){s[e.line]=e.column,v()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let i;if("string"==typeof a)i=a;else switch(a){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&s)continue;i=" ";break;default:i=String.fromCharCode(a)}s=-2===a,r.push(i)}return r.join("")}(d(e),t)},sliceStream:d,write:function(e){if(i=Lb(i,e),p(),null!==i[i.length-1])return[];return x(t,0),c.events=lw(a,c.events,c),c.events}};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,a)];else{if(i=e.slice(n,s),r>-1){const e=i[0];"string"==typeof e?i[0]=e.slice(r):i.shift()}a>0&&i.push(e[s].slice(0,a))}return i}(i,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:s,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:s,offset:a}}function p(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)f(t.charCodeAt(r._bufferIndex));else f(t)}}function f(e){u=u(e)}function m(e,t){t.restore()}function g(e,t){return function(n,s,a){let i,u,d,p;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return i=e,u=0,0===e.length?a:m(e[u])}function m(e){return function(n){p=function(){const e=h(),t=c.previous,n=c.currentConstruct,s=c.events.length,a=Array.from(o);return{from:s,restore:i};function i(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,o=a,v()}}(),d=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return x();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,x)(n)}}function g(t){return e(d,p),s}function x(e){return p.restore(),++u<i.length?m(i[u]):a}}}function x(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&Ab(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function v(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}const mj=/[\0\t\n\r]/g;const gj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xj(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Ub(n.slice(t?2:1),t?16:10)}return Db(n)||e}const vj={}.hasOwnProperty;function yj(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(te),autolinkProtocol:S,autolinkEmail:S,atxHeading:a(J),blockQuote:a(H),characterEscape:S,characterReference:S,codeFenced:a(Q),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:a(Q,i),codeText:a(K,i),codeTextData:S,data:S,codeFlowValue:S,definition:a(G),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:a(Y),hardBreakEscape:a(X),hardBreakTrailing:a(X),htmlFlow:a(Z,i),htmlFlowData:S,htmlText:a(Z,i),htmlTextData:S,image:a(ee),label:i,link:a(te),listItem:a(re),listItemValue:h,listOrdered:a(ne,d),listUnordered:a(ne),paragraph:a(se),reference:z,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:a(J),strong:a(ae),thematicBreak:a(oe)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:B,autolinkProtocol:V,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:$,characterReference:q,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:_,codeIndented:l(x),codeText:l(R),codeTextData:_,data:_,definition:l(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l(P),htmlFlowData:_,htmlText:l(T),htmlTextData:_,image:l(M),label:A,labelText:D,lineEnding:C,link:l(I),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:W,resourceDestinationString:L,resourceTitleString:O,resource:F,setextHeading:l(N),setextHeadingLineSequence:k,setextHeadingText:j,strong:l(),thematicBreak:l()}};wj(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const a={stack:[r],tokenStack:[],config:t,enter:o,exit:c,buffer:i,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=s(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];vj.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},a),e[d][1])}if(a.tokenStack.length>0){const e=a.tokenStack[a.tokenStack.length-1];(e[1]||kj).call(a,void 0,e[0])}for(r.position={start:bj(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:bj(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function s(e,t,n){let r,s,a,i,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,i=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||i||l||a||(a=o),i=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:i=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=o;for(s=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",s=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!s||a<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(o,0,["enter",s,t[2]]),o++,n++,a=void 0,i=!0}}}return e[t][1]._spread=c,n}function a(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:bj(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+ob({start:e.start,end:e.end})+"): its not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||kj).call(this,e,r[0])}n.position.end=bj(e.end)}function u(){return Tb(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function v(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=$b(this.sliceSerialize(e)).toLowerCase()}function y(){const e=this.resume();this.stack[this.stack.length-1].title=e}function b(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function S(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ie(),n.position={start:bj(e.start),end:void 0},t.push(n)),this.stack.push(n)}function _(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=bj(e.end)}function C(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=bj(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(S.call(this,e),_.call(this,e))}function E(){this.data.atHardBreak=!0}function P(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function R(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(gj,xj)}(t),n.identifier=$b(t).toLowerCase()}function A(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function L(){const e=this.resume();this.stack[this.stack.length-1].url=e}function O(){const e=this.resume();this.stack[this.stack.length-1].title=e}function F(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function W(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=$b(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function U(e){this.data.characterReferenceType=e.type}function $(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Ub(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=Db(t)}this.stack[this.stack.length-1].value+=r}function q(e){this.stack.pop().position.end=bj(e.end)}function V(e){_.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function B(e){_.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function H(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function G(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Y(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!kw(e););return e}(function(e){const t={constructs:Fb([pj,...(e||{}).extensions||[]]),content:n(sw),defined:[],document:n(aw),flow:n(Zw),lazy:{},string:n(tj),text:n(nj)};return t;function n(e){return function(n){return fj(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,a,i){const o=[];let l,c,u,d,h;for(s=n+("string"==typeof s?s.toString():new TextDecoder(a||void 0).decode(s)),u=0,n="",r&&(65279===s.charCodeAt(0)&&u++,r=void 0);u<s.length;){if(mj.lastIndex=u,l=mj.exec(s),d=l&&void 0!==l.index?l.index:s.length,h=s.charCodeAt(d),!l){n=s.slice(u);break}if(10===h&&u===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),u<d&&(o.push(s.slice(u,d)),t+=d-u),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return i&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function bj(e){return{line:e.line,column:e.column,offset:e.offset}}function wj(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?wj(e,r):jj(e,r)}}function jj(e,t){let n;for(n in t)if(vj.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function kj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ob({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ob({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ob({start:t.start,end:t.end})+") is still open")}function Nj(e){const t=this;t.parser=function(n){return yj(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Sj(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&"text"===a.type?a.value="["+a.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&"text"===i.type?i.value+=r:s.push({type:"text",value:r}),s}function _j(e){const t=e.spread;return null==t?e.children.length>1:t}function Cj(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(Ej(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(Ej(t.slice(s),s>0,!1)),a.join("")}function Ej(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;9===t||32===t;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const Pj={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=nw(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let i,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Sj(e,t);const s={src:nw(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:nw(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Sj(e,t);const s={href:nw(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:nw(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=_j(n[r])}return t}(n):_j(t),a={},i=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(s||0!==o||"element"!==e.type||"p"!==e.tagName)&&i.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?i.push(e):i.push(...e.children)}const l=r[r.length-1];l&&(s||"element"!==l.type||"p"!==l.tagName)&&i.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:a,children:i};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=ab(t.children[1]),i=sb(t.children[t.children.length-1]);a&&i&&(r.position={start:a,end:i}),s.push(r)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,i=a?a.length:t.children.length;let o=-1;const l=[];for(;++o<i;){const n=t.children[o],r={},i=a?a[o]:void 0;i&&(r.align=i);let c={type:"element",tagName:s,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:Cj(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Tj,yaml:Tj,definition:Tj,footnoteDefinition:Tj};function Tj(){}const Rj="object"==typeof self?self:globalThis,Ij=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[a,i]=t[s];switch(a){case 0:case-1:return n(i,s);case 1:{const e=n([],s);for(const t of i)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of i)e[r(t)]=r(n);return e}case 3:return n(new Date(i),s);case 4:{const{source:e,flags:t}=i;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of i)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of i)e.add(r(t));return e}case 7:{const{name:e,message:t}=i;return n(new Rj[e](t),s)}case 8:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:e}=new Uint8Array(i);return n(new DataView(e),i)}}return n(new Rj[a](i),s)};return r})(new Map,e)(0),Mj="",{toString:Dj}={},{keys:Aj}=Object,Lj=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Dj.call(e).slice(8,-1);switch(n){case"Array":return[1,Mj];case"Object":return[2,Mj];case"Date":return[3,Mj];case"RegExp":return[4,Mj];case"Map":return[5,Mj];case"Set":return[6,Mj];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Oj=([e,t])=>0===e&&("function"===t||"symbol"===t),Fj=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},a=r=>{if(n.has(r))return n.get(r);let[i,o]=Lj(r);switch(i){case 0:{let t=r;switch(o){case"bigint":i=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return s([-1],r)}return s([i,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),s([o,[...e]],r)}const e=[],t=s([i,e],r);for(const n of r)e.push(a(n));return t}case 2:{if(o)switch(o){case"BigInt":return s([o,r.toString()],r);case"Boolean":case"Number":case"String":return s([o,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());const n=[],l=s([i,n],r);for(const t of Aj(r))!e&&Oj(Lj(r[t]))||n.push([a(t),a(r[t])]);return l}case 3:return s([i,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([i,{source:e,flags:t}],r)}case 5:{const t=[],n=s([i,t],r);for(const[s,i]of r)(e||!Oj(Lj(s))&&!Oj(Lj(i)))&&t.push([a(s),a(i)]);return n}case 6:{const t=[],n=s([i,t],r);for(const s of r)!e&&Oj(Lj(s))||t.push(a(s));return n}}const{message:l}=r;return s([i,{name:o,message:l}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},zj="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Ij(Fj(e,t)):structuredClone(e):(e,t)=>Ij(Fj(e,t));function Wj(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Uj(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const $j=function(e){if(null==e)return Vj;if("function"==typeof e)return qj(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=$j(e[n]);return qj(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return qj(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"==typeof e)return function(e){return qj(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function qj(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function Vj(){return!0}const Bj=[],Hj=!0,Qj=!1;function Kj(e,t,n,r){let s;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):s=t;const a=$j(s),i=r?-1:1;!function e(s,o,l){const c=s&&"object"==typeof s?s:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=Bj;if((!t||a(s,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[Hj,e];return null==e?Bj:[e]}(n(s,l)),h[0]===Qj))return h;if("children"in s&&s.children){const t=s;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+i,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===Qj)return c;u="number"==typeof c[1]?c[1]:u+i}}return h}}(e,void 0,[])()}function Gj(e,t,n,r){let s,a,i;"function"==typeof t&&"function"!=typeof n?(a=void 0,i=t,s=n):(a=t,i=n,s=r),Kj(e,a,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return i(e,r,n)},s)}const Yj={}.hasOwnProperty,Jj={};function Xj(e,t){e.position&&(t.position=function(e){const t=ab(e),n=sb(e);if(t&&n)return{start:t,end:n}}(e))}function Zj(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,zj(s)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function ek(e,t){const n=t.data||{},r=!("value"in t)||Yj.call(n,"hProperties")||Yj.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function tk(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function nk(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function rk(e,t){const n=function(e,t){const n=t||Jj,r=new Map,s=new Map,a=new Map,i={...Pj,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=o.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=nk(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=nk(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:Zj,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:i,one:function(e,t){const n=e.type,r=o.handlers[n];if(Yj.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=zj(n);return r.children=o.all(e),r}return zj(e)}return(o.options.unknownHandler||ek)(o,e,t)},options:n,patch:Xj,wrap:tk};return Gj(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),o}(e,t),r=n.one(e,void 0),s=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Wj,r=e.options.footnoteBackLabel||Uj,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[l]);if(!s)continue;const a=e.all(s),i=String(s.identifier).toUpperCase(),c=nw(i.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(i);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=a[a.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else a.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(a,!0)};e.patch(s,f),o.push(f)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...zj(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:"\n"},s),a}function sk(e,t){return e&&"run"in e?async function(n,r){const s=rk(n,{file:r,...t});await e.run(s,r)}:function(n,r){return rk(n,{file:r,...e||t})}}function ak(e){if(e)throw e}var ik=Object.prototype.hasOwnProperty,ok=Object.prototype.toString,lk=Object.defineProperty,ck=Object.getOwnPropertyDescriptor,uk=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===ok.call(e)},dk=function(e){if(!e||"[object Object]"!==ok.call(e))return!1;var t,n=ik.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ik.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||ik.call(e,t)},hk=function(e,t){lk&&"__proto__"===t.name?lk(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},pk=function(e,t){if("__proto__"===t){if(!ik.call(e,t))return;if(ck)return ck(e,t).value}return e[t]},fk=function e(){var t,n,r,s,a,i,o=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),(null==o||"object"!=typeof o&&"function"!=typeof o)&&(o={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)r=pk(o,n),o!==(s=pk(t,n))&&(u&&s&&(dk(s)||(a=uk(s)))?(a?(a=!1,i=r&&uk(r)?r:[]):i=r&&dk(r)?r:{},hk(o,{name:n,newValue:e(u,i,s)})):void 0!==s&&hk(o,{name:n,newValue:s}));return o};const mk=ze(fk);function gk(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function xk(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function s(a,...i){const o=e[++n];let l=-1;if(a)r(a);else{for(;++l<t.length;)null!==i[l]&&void 0!==i[l]||(i[l]=t[l]);t=i,o?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let o;r&&t.push(s);try{o=e.apply(this,t)}catch(a){if(r&&n)throw a;return s(a)}r||(o&&o.then&&"function"==typeof o.then?o.then(i,s):o instanceof Error?s(o):i(o))}function s(e,...r){n||(n=!0,t(e,...r))}function i(e){s(null,e)}}(o,s)(...i):r(null,...i)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const vk={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');yk(e);let n,r=0,s=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let i=-1,o=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(s=a):(o=-1,s=i));r===s?s=i:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(yk(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){yk(e);let t,n=e.length,r=-1,s=0,a=-1,i=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?a<0?a=n:1!==i&&(i=1):a>-1&&(i=-1);else if(t){s=n+1;break}}if(a<0||r<0||0===i||1===i&&a===r-1&&a===s+1)return"";return e.slice(a,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)yk(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){yk(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",a=0,i=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(i===l-1||1===o);else if(i!==l-1&&2===o){if(s.length<2||2!==a||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",a=0):(s=s.slice(0,r),a=s.length-1-s.lastIndexOf("/")),i=l,o=0;continue}}else if(s.length>0){s="",a=0,i=l,o=0;continue}t&&(s=s.length>0?s+"/..":"..",a=2)}else s.length>0?s+="/"+e.slice(i+1,l):s=e.slice(i+1,l),a=l-i-1;i=l,o=0}else 46===n&&o>-1?o++:o=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function yk(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bk={cwd:function(){return"/"}};function wk(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function jk(e){if("string"==typeof e)e=new URL(e);else if(!wk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const kk=["history","path","basename","stem","extname","dirname"];class Nk{constructor(e){let t;t=e?wk(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":bk.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<kk.length;){const e=kk[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)kk.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?vk.basename(this.path):void 0}set basename(e){_k(e,"basename"),Sk(e,"basename"),this.path=vk.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?vk.dirname(this.path):void 0}set dirname(e){Ck(this.basename,"dirname"),this.path=vk.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?vk.extname(this.path):void 0}set extname(e){if(Sk(e,"extname"),Ck(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vk.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){wk(e)&&(e=jk(e)),_k(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?vk.basename(this.path,this.extname):void 0}set stem(e){_k(e,"stem"),Sk(e,"stem"),this.path=vk.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new db(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Sk(e,t){if(e&&e.includes(vk.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vk.sep+"`")}function _k(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ck(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Ek=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Pk={}.hasOwnProperty;class Tk extends Ek{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=xk()}copy(){const e=new Tk;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(mk(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(Dk("data",this.frozen),this.namespace[e]=t,this):Pk.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Dk("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Ok(e),n=this.parser||this.Parser;return Ik("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Ik("process",this.parser||this.Parser),Mk("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const a=Ok(e),i=n.parse(a);function o(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(i,a,function(e,t,r){if(e||!t||!r)return o(e);const s=t,a=n.stringify(s,r);var i;"string"==typeof(i=a)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(i)?r.value=a:r.result=a,o(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),Ik("processSync",this.parser||this.Parser),Mk("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,ak(e),t=r}),Lk("processSync","process",n),t}run(e,t,n){Ak(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,a){const i=Ok(t);r.run(e,i,function(t,r,i){const o=r||e;t?a(t):s?s(o):n(void 0,o,i)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){ak(e),n=t,r=!0}),Lk("runSync","run",r),n}stringify(e,t){this.freeze();const n=Ok(t),r=this.compiler||this.Compiler;return Mk("stringify",r),Ak(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(Dk("use",this.frozen),null==e);else if("function"==typeof e)o(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?i(e):a(e)}return this;function s(e){if("function"==typeof e)o(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(e.plugins),e.settings&&(r.settings=mk(!0,r.settings,e.settings))}function i(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function o(e,t){let r=-1,s=-1;for(;++r<n.length;)if(n[r][0]===e){s=r;break}if(-1===s)n.push([e,...t]);else if(t.length>0){let[r,...a]=t;const i=n[s][1];gk(i)&&gk(r)&&(r=mk(!0,i,r)),n[s]=[e,r,...a]}}}}const Rk=(new Tk).freeze();function Ik(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Mk(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Dk(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ak(e){if(!gk(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Lk(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ok(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new Nk(e)}const Fk=[],zk={allowDangerousHtml:!0},Wk=/^(https?|ircs?|mailto|xmpp)$/i,Uk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $k(e){const t=function(e){const t=e.rehypePlugins||Fk,n=e.remarkPlugins||Fk,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...zk}:zk,s=Rk().use(Nj).use(n).use(sk,r).use(t);return s}(e),n=function(e){const t=e.children||"",n=new Nk;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,a=t.disallowedElements,i=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||qk;for(const u of Uk)Object.hasOwn(t,u.from)&&Hv((u.from,u.to&&u.to,u.id));return Gj(e,c),vb(e,{Fragment:Dt.Fragment,components:s,ignoreInvalidStyle:!0,jsx:Dt.jsx,jsxs:Dt.jsxs,passKeys:!0,passNode:!0});function c(e,t,s){if("raw"===e.type&&s&&"number"==typeof t)return i?s.children.splice(t,1):s.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Eb)if(Object.hasOwn(Eb,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Eb[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let i=n?!n.includes(e.tagName):!!a&&a.includes(e.tagName);if(!i&&r&&"number"==typeof t&&(i=!r(e,t,s)),i&&s&&"number"==typeof t)return o&&e.children?s.children.splice(t,1,...e.children):s.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function qk(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return-1===t||-1!==s&&t>s||-1!==n&&t>n||-1!==r&&t>r||Wk.test(e.slice(0,t))?e:""}function Vk(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;-1!==s;)r++,s=n.indexOf(t,s+t.length);return r}function Bk(e,t,n){const r=$j((n||{}).ignore||[]),s=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([Hk(e[0]),Qk(e[1])])}return t}(t);let a=-1;for(;++a<s.length;)Kj(e,"text",i);function i(e,t){let n,i=-1;for(;++i<t.length;){const e=t[i],s=n?n.children:void 0;if(r(e,s?s.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=s[a][0],i=s[a][1];let o=0;const l=n.children.indexOf(e);let c=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){const n=d.index,s={index:d.index,input:d.input,stack:[...t,e]};let a=i(...d,s);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1===a?r.lastIndex=n+1:(o!==n&&u.push({type:"text",value:e.value.slice(o,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),o=n+d[0].length,c=!0),!r.global)break;d=r.exec(e.value)}c?(o<e.value.length&&u.push({type:"text",value:e.value.slice(o)}),n.children.splice(l,1,...u)):u=[e];return l+u.length}(e,t)}}function Hk(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function Qk(e){return"function"==typeof e?e:function(){return e}}const Kk="phrasing",Gk=["autolink","link","image","label"];function Yk(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Jk(e){this.config.enter.autolinkProtocol.call(this,e)}function Xk(e){this.config.exit.autolinkProtocol.call(this,e)}function Zk(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function eN(e){this.config.exit.autolinkEmail.call(this,e)}function tN(e){this.exit(e)}function nN(e){Bk(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,rN],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),sN]],{ignore:["link","linkReference"]})}function rN(e,t,n,r,s){let a="";if(!aN(s))return!1;if(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const i=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=Vk(e,"(");let a=Vk(e,")");for(;-1!==r&&s>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}(n+r);if(!i[0])return!1;const o={type:"link",title:null,url:a+t+i[0],children:[{type:"text",value:t+i[0]}]};return i[1]?[o,{type:"text",value:i[1]}]:o}function sN(e,t,n,r){return!(!aN(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function aN(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||ew(n)||Zb(n))&&(!t||47!==n)}function iN(){this.buffer()}function oN(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function lN(){this.buffer()}function cN(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function uN(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$b(this.sliceSerialize(e)).toLowerCase(),n.label=t}function dN(e){this.exit(e)}function hN(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$b(this.sliceSerialize(e)).toLowerCase(),n.label=t}function pN(e){this.exit(e)}function fN(e,t,n,r){const s=n.createTracker(r);let a=s.move("[^");const i=n.enter("footnoteReference"),o=n.enter("reference");return a+=s.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),i(),a+=s.move("]"),a}function mN(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,s){const a=r.createTracker(s);let i=a.move("[^");const o=r.enter("footnoteDefinition"),l=r.enter("label");i+=a.move(r.safe(r.associationId(e),{before:i,after:"]"})),l(),i+=a.move("]:"),e.children&&e.children.length>0&&(a.shift(4),i+=a.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,a.current()),t?xN:gN)));return o(),i},footnoteReference:fN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function gN(e,t,n){return 0===t?e:xN(e,t,n)}function xN(e,t,n){return(n?"":"    ")+e}fN.peek=function(){return"["};const vN=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function yN(e){this.enter({type:"delete",children:[]},e)}function bN(e){this.exit(e)}function wN(e,t,n,r){const s=n.createTracker(r),a=n.enter("strikethrough");let i=s.move("~~");return i+=n.containerPhrasing(e,{...s.current(),before:i,after:"~"}),i+=s.move("~~"),a(),i}function jN(e){return e.length}function kN(e){return null==e?"":String(e)}function NN(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function SN(e,t,n){return">"+(n?"":" ")+e}function _N(e,t){return CN(e,t.inConstruct,!0)&&!CN(e,t.notInConstruct,!1)}function CN(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function EN(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if("\n"===n.unsafe[s].character&&_N(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function PN(e,t,n){return(n?"":"    ")+e}function TN(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function RN(e){return"&#x"+e.toString(16).toUpperCase()+";"}function IN(e,t,n){const r=ow(e),s=ow(t);return void 0===r?void 0===s?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===s?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===s?{inside:!1,outside:!1}:1===s?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===s?{inside:!1,outside:!1}:1===s?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function MN(e,t,n,r){const s=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),a=n.enter("emphasis"),i=n.createTracker(r),o=i.move(s);let l=i.move(n.containerPhrasing(e,{after:s,before:o,...i.current()}));const c=l.charCodeAt(0),u=IN(r.before.charCodeAt(r.before.length-1),c,s);u.inside&&(l=RN(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=IN(r.after.charCodeAt(0),d,s);h.inside&&(l=l.slice(0,-1)+RN(d));const p=i.move(s);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},o+l+p}function DN(e){return e.value||""}function AN(e,t,n,r){const s=TN(n),a='"'===s?"Quote":"Apostrophe",i=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+s),c+=l.move(n.safe(e.title,{before:c,after:s,...l.current()})),c+=l.move(s),o()),c+=l.move(")"),i(),c}function LN(e,t,n,r){const s=e.referenceType,a=n.enter("imageReference");let i=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),i();const u=n.stack;n.stack=[],i=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return i(),n.stack=u,a(),"full"!==s&&c&&c===d?"shortcut"===s?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function ON(e,t,n){let r=e.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const e=n.unsafe[a],t=n.compilePattern(e);let s;if(e.atBreak)for(;s=t.exec(r);){let e=s.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(s.index+1)}}return s+r+s}function FN(e,t){const n=Tb(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function zN(e,t,n,r){const s=TN(n),a='"'===s?"Quote":"Apostrophe",i=n.createTracker(r);let o,l;if(FN(e,n)){const t=n.stack;n.stack=[],o=n.enter("autolink");let r=i.move("<");return r+=i.move(n.containerPhrasing(e,{before:r,after:">",...i.current()})),r+=i.move(">"),o(),n.stack=t,r}o=n.enter("link"),l=n.enter("label");let c=i.move("[");return c+=i.move(n.containerPhrasing(e,{before:c,after:"](",...i.current()})),c+=i.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=i.move("<"),c+=i.move(n.safe(e.url,{before:c,after:">",...i.current()})),c+=i.move(">")):(l=n.enter("destinationRaw"),c+=i.move(n.safe(e.url,{before:c,after:e.title?" ":")",...i.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=i.move(" "+s),c+=i.move(n.safe(e.title,{before:c,after:s,...i.current()})),c+=i.move(s),l()),c+=i.move(")"),o(),c}function WN(e,t,n,r){const s=e.referenceType,a=n.enter("linkReference");let i=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),i();const u=n.stack;n.stack=[],i=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return i(),n.stack=u,a(),"full"!==s&&c&&c===d?"shortcut"===s?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function UN(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function $N(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}wN.peek=function(){return"~"},MN.peek=function(e,t,n){return n.options.emphasis||"*"},DN.peek=function(){return"<"},AN.peek=function(){return"!"},LN.peek=function(){return"!"},ON.peek=function(){return"`"},zN.peek=function(e,t,n){return FN(e,n)?"<":"["},WN.peek=function(){return"["};const qN=$j(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function VN(e,t,n,r){const s=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),a=n.enter("strong"),i=n.createTracker(r),o=i.move(s+s);let l=i.move(n.containerPhrasing(e,{after:s,before:o,...i.current()}));const c=l.charCodeAt(0),u=IN(r.before.charCodeAt(r.before.length-1),c,s);u.inside&&(l=RN(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=IN(r.after.charCodeAt(0),d,s);h.inside&&(l=l.slice(0,-1)+RN(d));const p=i.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},o+l+p}VN.peek=function(e,t,n){return n.options.strong||"*"};const BN={blockquote:function(e,t,n,r){const s=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const i=n.indentLines(n.containerFlow(e,a.current()),SN);return s(),i},break:EN,code:function(e,t,n,r){const s=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),a=e.value||"",i="`"===s?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(a,PN);return e(),t}const o=n.createTracker(r),l=s.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),s=r,a=0,i=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===s?++a>i&&(i=a):a=1,s=r+t.length,r=n.indexOf(t,s);return i}(a,s)+1,3)),c=n.enter("codeFenced");let u=o.move(l);if(e.lang){const t=n.enter(`codeFencedLang${i}`);u+=o.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...o.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${i}`);u+=o.move(" "),u+=o.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...o.current()})),t()}return u+=o.move("\n"),a&&(u+=o.move(a+"\n")),u+=o.move(l),c(),u},definition:function(e,t,n,r){const s=TN(n),a='"'===s?"Quote":"Apostrophe",i=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+s),c+=l.move(n.safe(e.title,{before:c,after:s,...l.current()})),c+=l.move(s),o()),i(),c},emphasis:MN,hardBreak:EN,heading:function(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(function(e,t){let n=!1;return Gj(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,Qj}),Boolean((!e.depth||e.depth<3)&&Tb(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),i=n.containerPhrasing(e,{...a.current(),before:"\n",after:"\n"});return r(),t(),i+"\n"+(1===s?"=":"-").repeat(i.length-(Math.max(i.lastIndexOf("\r"),i.lastIndexOf("\n"))+1))}const i="#".repeat(s),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(i+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...a.current()});return/^[\t ]/.test(c)&&(c=RN(c.charCodeAt(0))+c.slice(1)),c=c?i+" "+c:i,n.options.closeAtx&&(c+=" "+i),l(),o(),c},html:DN,image:AN,imageReference:LN,inlineCode:ON,link:zN,linkReference:WN,list:function(e,t,n,r){const s=n.enter("list"),a=n.bulletCurrent;let i=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):UN(n);const o=e.ordered?"."===i?")":".":function(e){const t=UN(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&i===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==i&&"-"!==i||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),$N(n)===i&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(i=o),n.bulletCurrent=i;const c=n.containerFlow(e,r);return n.bulletLastUsed=i,n.bulletCurrent=a,s(),c},listItem:function(e,t,n,r){const s=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let a=n.bulletCurrent||UN(n);t&&"list"===t.type&&t.ordered&&(a=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a);let i=a.length+1;("tab"===s||"mixed"===s&&(t&&"list"===t.type&&t.spread||e.spread))&&(i=4*Math.ceil(i/4));const o=n.createTracker(r);o.move(a+" ".repeat(i-a.length)),o.shift(i);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),function(e,t,n){if(t)return(n?"":" ".repeat(i))+e;return(n?a:a+" ".repeat(i-a.length))+e});return l(),c},paragraph:function(e,t,n,r){const s=n.enter("paragraph"),a=n.enter("phrasing"),i=n.containerPhrasing(e,r);return a(),s(),i},root:function(e,t,n,r){return(e.children.some(function(e){return qN(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:VN,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=($N(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function HN(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function QN(e){this.exit(e),this.data.inTable=void 0}function KN(e){this.enter({type:"tableRow",children:[]},e)}function GN(e){this.exit(e)}function YN(e){this.enter({type:"tableCell",children:[]},e)}function JN(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,XN));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function XN(e,t){return"|"===t?t:e}function ZN(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=BN.inlineCode(e,t,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r},table:function(e,t,n,r){return o(function(e,t,n){const r=e.children;let s=-1;const a=[],i=t.enter("table");for(;++s<r.length;)a[s]=l(r[s],t,n);return i(),a}(e,n,r),e.align)},tableCell:i,tableRow:function(e,t,n,r){const s=o([l(e,n,r)]);return s.slice(0,s.indexOf("\n"))}}};function i(e,t,n,r){const s=n.enter("tableCell"),i=n.enter("phrasing"),o=n.containerPhrasing(e,{...r,before:a,after:a});return i(),s(),o}function o(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||jN,a=[],i=[],o=[],l=[];let c=0,u=-1;for(;++u<e.length;){const t=[],r=[];let a=-1;for(e[u].length>c&&(c=e[u].length);++a<e[u].length;){const i=kN(e[u][a]);if(!1!==n.alignDelimiters){const e=s(i);r[a]=e,(void 0===l[a]||e>l[a])&&(l[a]=e)}t.push(i)}i[u]=t,o[u]=r}let d=-1;if("object"==typeof r&&"length"in r)for(;++d<c;)a[d]=NN(r[d]);else{const e=NN(r);for(;++d<c;)a[d]=e}d=-1;const h=[],p=[];for(;++d<c;){const e=a[d];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let s=!1===n.alignDelimiters?1:Math.max(1,l[d]-t.length-r.length);const i=t+"-".repeat(s)+r;!1!==n.alignDelimiters&&(s=t.length+s+r.length,s>l[d]&&(l[d]=s),p[d]=s),h[d]=i}i.splice(1,0,h),o.splice(1,0,p),u=-1;const f=[];for(;++u<i.length;){const e=i[u],t=o[u];d=-1;const r=[];for(;++d<c;){const s=e[d]||"";let i="",o="";if(!1!==n.alignDelimiters){const e=l[d]-(t[d]||0),n=a[d];114===n?i=" ".repeat(e):99===n?e%2?(i=" ".repeat(e/2+.5),o=" ".repeat(e/2-.5)):(i=" ".repeat(e/2),o=i):o=" ".repeat(e)}!1===n.delimiterStart||d||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===s||!1===n.delimiterStart&&!d||r.push(" "),!1!==n.alignDelimiters&&r.push(i),r.push(s),!1!==n.alignDelimiters&&r.push(o),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&d===c-1||r.push("|")}f.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return f.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:s})}function l(e,t,n){const r=e.children;let s=-1;const a=[],o=t.enter("tableRow");for(;++s<r.length;)a[s]=i(r[s],0,t,n);return o(),a}}function eS(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function tS(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let s,a=-1;for(;++a<r.length;){const e=r[a];if("paragraph"===e.type){s=e;break}}s===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function nS(e,t,n,r){const s=e.children[0],a="boolean"==typeof e.checked&&s&&"paragraph"===s.type,i="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(i);let l=BN.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+i})),l}const rS={tokenize:function(e,t,n){let r=0;return function t(a){if((87===a||119===a)&&r<3)return r++,e.consume(a),t;if(46===a&&3===r)return e.consume(a),s;return n(a)};function s(e){return null===e?n(e):t(e)}},partial:!0},sS={tokenize:function(e,t,n){let r,s,a;return i;function i(t){return 46===t||95===t?e.check(iS,l,o)(t):null===t||Jb(t)||ew(t)||45!==t&&Zb(t)?l(t):(a=!0,e.consume(t),i)}function o(t){return 95===t?r=!0:(s=r,r=void 0),e.consume(t),i}function l(e){return s||r||!a?n(e):t(e)}},partial:!0},aS={tokenize:function(e,t){let n=0,r=0;return s;function s(i){return 40===i?(n++,e.consume(i),s):41===i&&r<n?a(i):33===i||34===i||38===i||39===i||41===i||42===i||44===i||46===i||58===i||59===i||60===i||63===i||93===i||95===i||126===i?e.check(iS,t,a)(i):null===i||Jb(i)||ew(i)?t(i):(e.consume(i),s)}function a(t){return 41===t&&r++,e.consume(t),s}},partial:!0},iS={tokenize:function(e,t,n){return r;function r(i){return 33===i||34===i||39===i||41===i||42===i||44===i||46===i||58===i||59===i||63===i||95===i||126===i?(e.consume(i),r):38===i?(e.consume(i),a):93===i?(e.consume(i),s):60===i||null===i||Jb(i)||ew(i)?t(i):n(i)}function s(e){return null===e||40===e||91===e||Jb(e)||ew(e)?t(e):r(e)}function a(e){return qb(e)?i(e):n(e)}function i(t){return 59===t?(e.consume(t),r):qb(t)?(e.consume(t),i):n(t)}},partial:!0},oS={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return Vb(e)?n(e):t(e)}},partial:!0},lS={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){if(87!==t&&119!==t||!pS.call(r,r.previous)||xS(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(rS,e.attempt(sS,e.attempt(aS,s),n),n)(t)};function s(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:pS},cS={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let s="",a=!1;return function(t){if((72===t||104===t)&&fS.call(r,r.previous)&&!xS(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(t),e.consume(t),i;return n(t)};function i(t){if(qb(t)&&s.length<5)return s+=String.fromCodePoint(t),e.consume(t),i;if(58===t){const n=s.toLowerCase();if("http"===n||"https"===n)return e.consume(t),o}return n(t)}function o(t){return 47===t?(e.consume(t),a?l:(a=!0,o)):n(t)}function l(t){return null===t||Hb(t)||Jb(t)||ew(t)||Zb(t)?n(t):e.attempt(sS,e.attempt(aS,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:fS},uS={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let s,a;return function(t){if(!gS(t)||!mS.call(r,r.previous)||xS(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),i(t)};function i(t){return gS(t)?(e.consume(t),i):64===t?(e.consume(t),o):n(t)}function o(t){return 46===t?e.check(oS,c,l)(t):45===t||95===t||Vb(t)?(a=!0,e.consume(t),o):c(t)}function l(t){return e.consume(t),s=!0,o}function c(i){return a&&s&&qb(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(i)):n(i)}},previous:mS},dS={};let hS=48;for(;hS<123;)dS[hS]=uS,hS++,58===hS?hS=65:91===hS&&(hS=97);function pS(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||Jb(e)}function fS(e){return!qb(e)}function mS(e){return!(47===e||gS(e))}function gS(e){return 43===e||45===e||46===e||95===e||Vb(e)}function xS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}dS[43]=uS,dS[45]=uS,dS[46]=uS,dS[95]=uS,dS[72]=[uS,cS],dS[104]=[uS,cS],dS[87]=[uS,lS],dS[119]=[uS,lS];const vS={tokenize:function(e,t,n){const r=this;return rw(e,function(e){const s=r.events[r.events.length-1];return s&&"gfmFootnoteDefinitionIndent"===s[1].type&&4===s[2].sliceSerialize(s[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function yS(e,t,n){const r=this;let s=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;s--;){const e=r.events[s][1];if("labelImage"===e.type){i=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(s){if(!i||!i._balanced)return n(s);const o=$b(r.sliceSerialize({start:i.end,end:r.now()}));if(94!==o.codePointAt(0)||!a.includes(o.slice(1)))return n(s);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),t(s)}}function bS(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function wS(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,i=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),o};function o(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(o){if(i>999||93===o&&!a||null===o||91===o||Jb(o))return n(o);if(93===o){e.exit("chunkString");const a=e.exit("gfmFootnoteCallString");return s.includes($b(r.sliceSerialize(a)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(o)}return Jb(o)||(a=!0),i++,e.consume(o),92===o?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),i++,l):l(t)}}function jS(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,i,o=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(o>999||93===t&&!i||null===t||91===t||Jb(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return a=$b(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Jb(t)||(i=!0),o++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),o++,c):c(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s.includes(a)||s.push(a),rw(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function kS(e,t,n){return e.check(hw,t,e.attempt(vS,t,n))}function NS(e){e.exit("gfmFootnoteDefinition")}function SS(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const s=this.previous,a=this.events;let i=0;return function(t){if(126===s&&"characterEscape"!==a[a.length-1][1].type)return r(t);return e.enter("strikethroughSequenceTemporary"),o(t)};function o(a){const l=ow(s);if(126===a)return i>1?r(a):(e.consume(a),i++,o);if(i<2&&!t)return r(a);const c=e.exit("strikethroughSequenceTemporary"),u=ow(a);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(a)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const s={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i=[["enter",s,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",a,t]],o=t.parser.constructs.insideSpan.null;o&&Ab(i,i.length,0,lw(o,e.slice(r+1,n),t)),Ab(i,i.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",s,t]]),Ab(e,r-1,n-r+3,i),n=r+i.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class _S{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let s=0;if(0===n&&0===r.length)return;for(;s<e.map.length;){if(e.map[s][0]===t)return e.map[s][1]+=n,void e.map[s][2].push(...r);s+=1}e.map.push([t,n,r])}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const t of r)e.push(t);r=n.pop()}this.map.length=0}}function CS(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if("enter"===s[0])"tableContent"===s[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===s[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===s[1].type)break}else"enter"===s[0]&&"tableDelimiterRow"===s[1].type&&(n=!0);t+=1}return r}function ES(e,t,n){const r=this;let s,a=0,i=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const s=t>-1?r.events[t][1].type:null,a="tableHead"===s||"tableRow"===s?b:o;if(a===b&&r.parser.lazy[r.now().line])return n(e);return a(e)};function o(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return l(e);return s=!0,i+=1,l(e)}(t)}function l(t){return null===t?n(t):Yb(t)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):Xb(t)?rw(e,l,"whitespace")(t):(i+=1,s&&(s=!1,a+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),s=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||Jb(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function d(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),s=!1,Xb(t)?rw(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t))}function h(t){return 45===t||58===t?f(t):124===t?(s=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),p):y(t)}function p(t){return Xb(t)?rw(e,f,"whitespace")(t):f(t)}function f(t){return 58===t?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(i+=1,m(t)):null===t||Yb(t)?v(t):y(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):y(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(t))}function x(t){return Xb(t)?rw(e,v,"whitespace")(t):v(t)}function v(n){return 124===n?h(n):(null===n||Yb(n))&&s&&a===i?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):y(n)}function y(e){return n(e)}function b(t){return e.enter("tableRow"),w(t)}function w(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),w):null===n||Yb(n)?(e.exit("tableRow"),t(n)):Xb(n)?rw(e,w,"whitespace")(n):(e.enter("data"),j(n))}function j(t){return null===t||124===t||Jb(t)?(e.exit("data"),w(t)):(e.consume(t),92===t?k:j)}function k(t){return 92===t||124===t?(e.consume(t),j):j(t)}}function PS(e,t){let n,r,s,a=-1,i=!0,o=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0;const h=new _S;for(;++a<e.length;){const p=e[a],f=p[1];"enter"===p[0]?"tableHead"===f.type?(u=!1,0!==d&&(RS(h,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(i=!0,s=void 0,l=[0,0,0,0],c=[0,a+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",r,t]])),o="tableDelimiterRow"===f.type?2:r?3:1):!o||"data"!==f.type&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type?"tableCellDivider"===f.type&&(i?i=!1:(0!==l[1]&&(c[0]=c[1],s=TS(h,t,l,o,void 0,s)),l=c,c=[l[1],a,0,0])):(i=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],s=TS(h,t,l,o,void 0,s),l=[0,0,0,0]),c[2]=a)):"tableHead"===f.type?(u=!0,d=a):"tableRow"===f.type||"tableDelimiterRow"===f.type?(d=a,0!==l[1]?(c[0]=c[1],s=TS(h,t,l,o,a,s)):0!==c[1]&&(s=TS(h,t,c,o,a,s)),o=0):!o||"data"!==f.type&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type||(c[3]=a)}for(0!==d&&RS(h,t,d,n,r),h.consume(t.events),a=-1;++a<t.events.length;){const e=t.events[a];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=CS(t.events,a))}return e}function TS(e,t,n,r,s,a){const i=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(a.end=Object.assign({},IS(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const o=IS(t.events,n[1]);if(a={type:i,start:Object.assign({},o),end:Object.assign({},o)},e.add(n[1],0,[["enter",a,t]]),0!==n[2]){const s=IS(t.events,n[2]),a=IS(t.events,n[3]),i={type:"tableContent",start:Object.assign({},s),end:Object.assign({},a)};if(e.add(n[2],0,[["enter",i,t]]),2!==r){const r=t.events[n[2]],s=t.events[n[3]];if(r[1].end=Object.assign({},s[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",i,t]])}return void 0!==s&&(a.end=Object.assign({},IS(t.events,s)),e.add(s,0,[["exit",a,t]]),a=void 0),a}function RS(e,t,n,r,s){const a=[],i=IS(t.events,n);s&&(s.end=Object.assign({},i),a.push(["exit",s,t])),r.end=Object.assign({},i),a.push(["exit",r,t]),e.add(n+1,0,a)}function IS(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const MS={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),s};function s(t){return Jb(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),i):n(t)}function i(r){return Yb(r)?t(r):Xb(r)?e.check({tokenize:DS},t,n)(r):n(r)}}};function DS(e,t,n){return rw(e,function(e){return null===e?n(e):t(e)},"whitespace")}const AS={};function LS(e){const t=e||AS,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return Fb([{text:dS},{document:{91:{name:"gfmFootnoteDefinition",tokenize:jS,continuation:{tokenize:kS},exit:NS}},text:{91:{name:"gfmFootnoteCall",tokenize:wS},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:yS,resolveTo:bS}}},SS(e),{flow:{null:{name:"table",tokenize:ES,resolveAll:PS}}},{text:{91:MS}}])}(t)),s.push([{transforms:[nN],enter:{literalAutolink:Yk,literalAutolinkEmail:Jk,literalAutolinkHttp:Jk,literalAutolinkWww:Jk},exit:{literalAutolink:tN,literalAutolinkEmail:eN,literalAutolinkHttp:Xk,literalAutolinkWww:Zk}},{enter:{gfmFootnoteCallString:iN,gfmFootnoteCall:oN,gfmFootnoteDefinitionLabelString:lN,gfmFootnoteDefinition:cN},exit:{gfmFootnoteCallString:uN,gfmFootnoteCall:dN,gfmFootnoteDefinitionLabelString:hN,gfmFootnoteDefinition:pN}},{canContainEols:["delete"],enter:{strikethrough:yN},exit:{strikethrough:bN}},{enter:{table:HN,tableData:YN,tableHeader:YN,tableRow:KN},exit:{codeText:JN,table:QN,tableData:GN,tableHeader:GN,tableRow:GN}},{exit:{taskListCheckValueChecked:eS,taskListCheckValueUnchecked:eS,paragraph:tS}}]),a.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Kk,notInConstruct:Gk},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Kk,notInConstruct:Gk},{character:":",before:"[ps]",after:"\\/",inConstruct:Kk,notInConstruct:Gk}]},mN(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:vN}],handlers:{delete:wN}},ZN(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:nS}}]}}(t))}const OS=Array(12).fill(0),FS=({visible:e,className:t})=>St.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},St.createElement("div",{className:"sonner-spinner"},OS.map((e,t)=>St.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),zS=St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},St.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WS=St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},St.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),US=St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},St.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$S=St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},St.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qS=St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},St.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),St.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let VS=1;const BS=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:VS++,a=this.toasts.find(e=>e.id===s),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:n}),{...t,...e,id:s,dismissible:i,title:n}):t):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s,a=void 0!==n;const i=r.then(async e=>{s=["resolve",e];if(St.isValidElement(e))a=!1,this.create({id:n,type:"default",message:e});else if(HS(e)&&!e.ok){a=!1;const r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"==typeof r&&!St.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...i})}else if(e instanceof Error){a=!1;const r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!St.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...i})}else if(void 0!==t.success){a=!1;const r="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!St.isValidElement(r)?r:{message:r};this.create({id:n,type:"success",description:s,...i})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){a=!1;const r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!St.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...i})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||VS++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},HS=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,QS=(e,t)=>{const n=(null==t?void 0:t.id)||VS++;return BS.addToast({title:e,...t,id:n}),n},KS=Object.assign(QS,{success:BS.success,info:BS.info,warning:BS.warning,error:BS.error,custom:BS.custom,message:BS.message,promise:BS.promise,dismiss:BS.dismiss,loading:BS.loading},{getHistory:()=>BS.toasts,getToasts:()=>BS.getActiveToasts()});function GS(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const YS=3,JS=14;function XS(...e){return e.filter(Boolean).join(" ")}const ZS=e=>{var t,n,r,s,a,i,o,l,c;const{invert:u,toast:d,unstyled:h,interacting:p,setHeights:f,visibleToasts:m,heights:g,index:x,toasts:v,expanded:y,removeToast:b,defaultRichColors:w,closeButton:j,style:k,cancelButtonStyle:N,actionButtonStyle:S,className:_="",descriptionClassName:C="",duration:E,position:P,gap:T,expandByDefault:R,classNames:I,icons:M,closeButtonAriaLabel:D="Close toast"}=e,[A,L]=St.useState(null),[O,F]=St.useState(null),[z,W]=St.useState(!1),[U,$]=St.useState(!1),[q,V]=St.useState(!1),[B,H]=St.useState(!1),[Q,K]=St.useState(!1),[G,Y]=St.useState(0),[J,X]=St.useState(0),Z=St.useRef(d.duration||E||4e3),ee=St.useRef(null),te=St.useRef(null),ne=0===x,re=x+1<=m,se=d.type,ae=!1!==d.dismissible,ie=d.className||"",oe=d.descriptionClassName||"",le=St.useMemo(()=>g.findIndex(e=>e.toastId===d.id)||0,[g,d.id]),ce=St.useMemo(()=>{var e;return null!=(e=d.closeButton)?e:j},[d.closeButton,j]),ue=St.useMemo(()=>d.duration||E||4e3,[d.duration,E]),de=St.useRef(0),he=St.useRef(0),pe=St.useRef(0),fe=St.useRef(null),[me,ge]=P.split("-"),xe=St.useMemo(()=>g.reduce((e,t,n)=>n>=le?e:e+t.height,0),[g,le]),ve=(()=>{const[e,t]=St.useState(document.hidden);return St.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ye=d.invert||u,be="loading"===se;he.current=St.useMemo(()=>le*T+xe,[le,xe]),St.useEffect(()=>{Z.current=ue},[ue]),St.useEffect(()=>{W(!0)},[]),St.useEffect(()=>{const e=te.current;if(e){const t=e.getBoundingClientRect().height;return X(t),f(e=>[{toastId:d.id,height:t,position:d.position},...e]),()=>f(e=>e.filter(e=>e.toastId!==d.id))}},[f,d.id]),St.useLayoutEffect(()=>{if(!z)return;const e=te.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,X(n),f(e=>e.find(e=>e.toastId===d.id)?e.map(e=>e.toastId===d.id?{...e,height:n}:e):[{toastId:d.id,height:n,position:d.position},...e])},[z,d.title,d.description,f,d.id,d.jsx,d.action,d.cancel]);const we=St.useCallback(()=>{$(!0),Y(he.current),f(e=>e.filter(e=>e.toastId!==d.id)),setTimeout(()=>{b(d)},200)},[d,b,f,he]);St.useEffect(()=>{if(d.promise&&"loading"===se||d.duration===1/0||"loading"===d.type)return;let e;return y||p||ve?(()=>{if(pe.current<de.current){const e=(new Date).getTime()-de.current;Z.current=Z.current-e}pe.current=(new Date).getTime()})():Z.current!==1/0&&(de.current=(new Date).getTime(),e=setTimeout(()=>{null==d.onAutoClose||d.onAutoClose.call(d,d),we()},Z.current)),()=>clearTimeout(e)},[y,p,d,se,ve,we]),St.useEffect(()=>{d.delete&&(we(),null==d.onDismiss||d.onDismiss.call(d,d))},[we,d.delete]);const je=d.icon||(null==M?void 0:M[se])||(e=>{switch(e){case"success":return zS;case"info":return US;case"warning":return WS;case"error":return $S;default:return null}})(se);var ke,Ne,Se,_e;return St.createElement("li",{tabIndex:0,ref:te,className:XS(_,ie,null==I?void 0:I.toast,null==d||null==(t=d.classNames)?void 0:t.toast,null==I?void 0:I.default,null==I?void 0:I[se],null==d||null==(n=d.classNames)?void 0:n[se]),"data-sonner-toast":"","data-rich-colors":null!=(ke=d.richColors)?ke:w,"data-styled":!Boolean(d.jsx||d.unstyled||h),"data-mounted":z,"data-promise":Boolean(d.promise),"data-swiped":Q,"data-removed":U,"data-visible":re,"data-y-position":me,"data-x-position":ge,"data-index":x,"data-front":ne,"data-swiping":q,"data-dismissible":ae,"data-type":se,"data-invert":ye,"data-swipe-out":B,"data-swipe-direction":O,"data-expanded":Boolean(y||R&&z),"data-testid":d.testId,style:{"--index":x,"--toasts-before":x,"--z-index":v.length-x,"--offset":`${U?G:he.current}px`,"--initial-height":R?"auto":`${J}px`,...k,...d.style},onDragEnd:()=>{V(!1),L(null),fe.current=null},onPointerDown:e=>{2!==e.button&&!be&&ae&&(ee.current=new Date,Y(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(V(!0),fe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(B||!ae)return;fe.current=null;const r=Number((null==(e=te.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=te.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=(new Date).getTime()-(null==(n=ee.current)?void 0:n.getTime()),i="x"===A?r:s,o=Math.abs(i)/a;if(Math.abs(i)>=45||o>.11)return Y(he.current),null==d.onDismiss||d.onDismiss.call(d,d),F("x"===A?r>0?"right":"left":s>0?"down":"up"),we(),void H(!0);var l,c;null==(l=te.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=te.current)||c.style.setProperty("--swipe-amount-y","0px"),K(!1),V(!1),L(null)},onPointerMove:t=>{var n,r,s;if(!fe.current||!ae)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const a=t.clientY-fe.current.y,i=t.clientX-fe.current.x;var o;const l=null!=(o=e.swipeDirections)?o:function(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(P);!A&&(Math.abs(i)>1||Math.abs(a)>1)&&L(Math.abs(i)>Math.abs(a)?"x":"y");let c={x:0,y:0};const u=e=>1/(1.5+Math.abs(e)/20);if("y"===A){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&a<0||l.includes("bottom")&&a>0)c.y=a;else{const e=a*u(a);c.y=Math.abs(e)<Math.abs(a)?e:a}}else if("x"===A&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&i<0||l.includes("right")&&i>0)c.x=i;else{const e=i*u(i);c.x=Math.abs(e)<Math.abs(i)?e:i}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&K(!0),null==(r=te.current)||r.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(s=te.current)||s.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ce&&!d.jsx&&"loading"!==se?St.createElement("button",{"aria-label":D,"data-disabled":be,"data-close-button":!0,onClick:be||!ae?()=>{}:()=>{we(),null==d.onDismiss||d.onDismiss.call(d,d)},className:XS(null==I?void 0:I.closeButton,null==d||null==(r=d.classNames)?void 0:r.closeButton)},null!=(Ne=null==M?void 0:M.close)?Ne:qS):null,(se||d.icon||d.promise)&&null!==d.icon&&(null!==(null==M?void 0:M[se])||d.icon)?St.createElement("div",{"data-icon":"",className:XS(null==I?void 0:I.icon,null==d||null==(s=d.classNames)?void 0:s.icon)},d.promise||"loading"===d.type&&!d.icon?d.icon||((null==M?void 0:M.loading)?St.createElement("div",{className:XS(null==I?void 0:I.loader,null==d||null==(_e=d.classNames)?void 0:_e.loader,"sonner-loader"),"data-visible":"loading"===se},M.loading):St.createElement(FS,{className:XS(null==I?void 0:I.loader,null==d||null==(Se=d.classNames)?void 0:Se.loader),visible:"loading"===se})):null,"loading"!==d.type?je:null):null,St.createElement("div",{"data-content":"",className:XS(null==I?void 0:I.content,null==d||null==(a=d.classNames)?void 0:a.content)},St.createElement("div",{"data-title":"",className:XS(null==I?void 0:I.title,null==d||null==(i=d.classNames)?void 0:i.title)},d.jsx?d.jsx:"function"==typeof d.title?d.title():d.title),d.description?St.createElement("div",{"data-description":"",className:XS(C,oe,null==I?void 0:I.description,null==d||null==(o=d.classNames)?void 0:o.description)},"function"==typeof d.description?d.description():d.description):null),St.isValidElement(d.cancel)?d.cancel:d.cancel&&GS(d.cancel)?St.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||N,onClick:e=>{GS(d.cancel)&&ae&&(null==d.cancel.onClick||d.cancel.onClick.call(d.cancel,e),we())},className:XS(null==I?void 0:I.cancelButton,null==d||null==(l=d.classNames)?void 0:l.cancelButton)},d.cancel.label):null,St.isValidElement(d.action)?d.action:d.action&&GS(d.action)?St.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||S,onClick:e=>{GS(d.action)&&(null==d.action.onClick||d.action.onClick.call(d.action,e),e.defaultPrevented||we())},className:XS(null==I?void 0:I.actionButton,null==d||null==(c=d.classNames)?void 0:c.actionButton)},d.action.label):null)};function e_(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function t_(e,t){const n={};return[e,t].forEach((e,t)=>{const r=1===t,s=r?"--mobile-offset":"--offset",a=r?"16px":"24px";function i(e){["top","right","bottom","left"].forEach(t=>{n[`${s}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${s}-${t}`]=a:n[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(a)}),n}const n_=St.forwardRef(function(e,t){const{id:n,invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:m=YS,toastOptions:g,dir:x=e_(),gap:v=JS,icons:y,containerAriaLabel:b="Notifications"}=e,[w,j]=St.useState([]),k=St.useMemo(()=>n?w.filter(e=>e.toasterId===n):w.filter(e=>!e.toasterId),[w,n]),N=St.useMemo(()=>Array.from(new Set([s].concat(k.filter(e=>e.position).map(e=>e.position)))),[k,s]),[S,_]=St.useState([]),[C,E]=St.useState(!1),[P,T]=St.useState(!1),[R,I]=St.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=St.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=St.useRef(null),L=St.useRef(!1),O=St.useCallback(e=>{j(t=>{var n;return(null==(n=t.find(t=>t.id===e.id))?void 0:n.delete)||BS.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return St.useEffect(()=>BS.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{j(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{qh.flushSync(()=>{j(t=>{const n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[w]),St.useEffect(()=>{if("system"!==d)return void I(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{I(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{I(e?"dark":"light")}catch(NF){console.error(NF)}})}},[d]),St.useEffect(()=>{w.length<=1&&E(!1)},[w]),St.useEffect(()=>{const e=e=>{var t;var n;a.every(t=>e[t]||e.code===t)&&(E(!0),null==(n=M.current)||n.focus());"Escape"!==e.code||document.activeElement!==M.current&&!(null==(t=M.current)?void 0:t.contains(document.activeElement))||E(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),St.useEffect(()=>{if(M.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,L.current=!1)}},[M.current]),St.createElement("section",{ref:t,"aria-label":`${b} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((t,n)=>{var s;const[a,d]=t.split("-");return k.length?St.createElement("ol",{key:t,dir:"auto"===x?e_():x,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":a,"data-x-position":d,style:{"--front-toast-height":`${(null==(s=S[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${v}px`,...f,...t_(c,u)},onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,A.current=e.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{P||E(!1)},onDragEnd:()=>E(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||T(!0)},onPointerUp:()=>T(!1)},k.filter(e=>!e.position&&0===n||e.position===t).map((n,s)=>{var a,l;return St.createElement(ZS,{key:n.id,icons:y,index:s,toast:n,defaultRichColors:h,duration:null!=(a=null==g?void 0:g.duration)?a:p,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:r,visibleToasts:m,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:o,interacting:P,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,closeButtonAriaLabel:null==g?void 0:g.closeButtonAriaLabel,removeToast:O,toasts:k.filter(e=>e.position==n.position),heights:S.filter(e=>e.position==n.position),setHeights:_,expandByDefault:i,gap:v,expanded:C,swipeDirections:e.swipeDirections})})):null}))}),r_=({trace:e})=>{var t,n;const[r,s]=Nt.useState(!1),[a,i]=Nt.useState(!1),o=function(){const e=$p();return()=>{e.invalidateQueries({queryKey:["traces"]}),e.invalidateQueries({queryKey:["all-traces"]})}}(),{workshopId:l}=Ym(),{data:c}=pg(l);return Dt.jsxs(hx,{className:"w-full max-w-4xl mx-auto",children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[Dt.jsx(iv,{className:"h-5 w-5"}),"Trace ",e.mlflow_trace_id||e.id]}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Vv,{variant:"ghost",size:"sm",onClick:()=>{o(),KS.success("Refreshing trace data...")},className:"flex items-center gap-2",title:"Refresh trace data",children:Dt.jsx(fv,{className:"h-4 w-4"})}),e.mlflow_trace_id&&Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>{if(e.mlflow_url)return void window.open(e.mlflow_url,"_blank");const t=e.mlflow_host||(null==c?void 0:c.databricks_host),n=e.mlflow_experiment_id||(null==c?void 0:c.experiment_id),r=e.mlflow_trace_id;if(r&&t&&n){const e=`${(e=>{if(!e)return;return`https://${e.replace(/^https?:\/\//,"")}`})(t)}/ml/experiments/${n}/traces?selectedEvaluationId=${r}`;return void window.open(e,"_blank")}r?KS.warning("MLflow URL not available. Configure MLflow in Intake or re-ingest traces."):KS.warning("MLflow trace information not available for this trace.")},className:"flex items-center gap-2",children:[Dt.jsx(Bx,{className:"h-4 w-4"}),"View in MLflow",Dt.jsx(Qx,{className:"h-3 w-3"})]})]})]})}),Dt.jsxs(gx,{className:"space-y-6",children:[(null==(t=e.context)?void 0:t.conversation_history)&&Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs(Vv,{variant:"ghost",onClick:()=>i(!a),className:"flex items-center gap-2 p-0 h-auto text-purple-600 hover:text-purple-800",children:[Dt.jsx(tv,{className:"h-4 w-4"}),Dt.jsx("span",{className:"font-medium",children:"Conversation History"}),a?Dt.jsx(Dx,{className:"h-4 w-4"}):Dt.jsx(Rx,{className:"h-4 w-4"})]}),a&&Dt.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded-r-lg",children:Dt.jsx("div",{className:"space-y-3",children:e.context.conversation_history.map((e,t)=>Dt.jsxs("div",{className:"flex items-start gap-2",children:["user"===e.role?Dt.jsx(_v,{className:"h-4 w-4 text-blue-600 mt-0.5"}):Dt.jsx(_x,{className:"h-4 w-4 text-green-600 mt-0.5"}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("span",{className:"text-xs font-medium text-gray-600 uppercase",children:e.role}),Dt.jsx("div",{className:"text-sm text-gray-800 mt-1 prose prose-sm max-w-none",children:Dt.jsx($k,{remarkPlugins:[LS],children:e.content})})]})]},t))})})]}),(null==(n=e.context)?void 0:n.retrieved_content)&&Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs(Vv,{variant:"ghost",onClick:()=>s(!r),className:"flex items-center gap-2 p-0 h-auto text-orange-600 hover:text-orange-800",children:[Dt.jsx(Gx,{className:"h-4 w-4"}),Dt.jsx("span",{className:"font-medium",children:"Retrieved Content"}),r?Dt.jsx(Dx,{className:"h-4 w-4"}):Dt.jsx(Rx,{className:"h-4 w-4"})]}),r&&Dt.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-lg",children:Dt.jsx("div",{className:"text-gray-800 leading-relaxed text-sm prose prose-sm max-w-none",children:Dt.jsx($k,{remarkPlugins:[LS],children:e.context.retrieved_content})})})]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(_v,{className:"h-4 w-4 text-blue-600"}),Dt.jsx("span",{className:"font-medium text-blue-800",children:"Input"})]}),Dt.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:Dt.jsx("div",{className:"text-gray-800 leading-relaxed prose prose-sm max-w-none",children:Dt.jsx($k,{remarkPlugins:[LS],children:e.input})})})]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(_x,{className:"h-4 w-4 text-green-600"}),Dt.jsx("span",{className:"font-medium text-green-800",children:"Output"})]}),Dt.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg",children:Dt.jsx("div",{className:"text-gray-800 leading-relaxed prose prose-sm max-w-none",children:Dt.jsx($k,{remarkPlugins:[LS],children:e.output})})})]})]})]})};function s_(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function a_(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>Nt.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return Nt.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const s=Nt.createContext(r),a=n.length;n=[...n,r];const i=t=>{var n;const{scope:r,children:i,...o}=t,l=(null==(n=null==r?void 0:r[e])?void 0:n[a])||s,c=Nt.useMemo(()=>o,Object.values(o));return Dt.jsx(l.Provider,{value:c,children:i})};return i.displayName=t+"Provider",[i,function(n,i){var o;const l=(null==(o=null==i?void 0:i[e])?void 0:o[a])||s,c=Nt.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},i_(r,...t)]}function i_(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return Nt.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function o_(e){const t=e+"CollectionProvider",[n,r]=a_(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{const{scope:t,children:n}=e,r=St.useRef(null),a=St.useRef(new Map).current;return Dt.jsx(s,{scope:t,itemMap:a,collectionRef:r,children:n})};i.displayName=t;const o=e+"CollectionSlot",l=Fv(o),c=St.forwardRef((e,t)=>{const{scope:n,children:r}=e,s=Ov(t,a(o,n).collectionRef);return Dt.jsx(l,{ref:s,children:r})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=Fv(u),p=St.forwardRef((e,t)=>{const{scope:n,children:r,...s}=e,i=St.useRef(null),o=Ov(t,i),l=a(u,n);return St.useEffect(()=>(l.itemMap.set(i,{ref:i,...s}),()=>{l.itemMap.delete(i)})),Dt.jsx(h,{[d]:"",ref:o,children:r})});return p.displayName=u,[{Provider:i,Slot:c,ItemSlot:p},function(t){const n=a(e+"CollectionConsumer",t),r=St.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`)),r=Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return r},[n.collectionRef,n.itemMap]);return r},r]}var l_=(null==globalThis?void 0:globalThis.document)?Nt.useLayoutEffect:()=>{},c_=_t[" useId ".trim().toString()]||(()=>{}),u_=0;function d_(e){const[t,n]=Nt.useState(c_());return l_(()=>{n(e=>e??String(u_++))},[e]),t?`radix-${t}`:""}var h_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Fv(`Primitive.${t}`),r=Nt.forwardRef((e,r)=>{const{asChild:s,...a}=e,i=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Dt.jsx(i,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function p_(e,t){e&&$h.flushSync(()=>e.dispatchEvent(t))}function f_(e){const t=Nt.useRef(e);return Nt.useEffect(()=>{t.current=e}),Nt.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}var m_=_t[" useInsertionEffect ".trim().toString()]||l_;function g_({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=function({defaultProp:e,onChange:t}){const[n,r]=Nt.useState(e),s=Nt.useRef(n),a=Nt.useRef(t);return m_(()=>{a.current=t},[t]),Nt.useEffect(()=>{var e;s.current!==n&&(null==(e=a.current)||e.call(a,n),s.current=n)},[n,s]),[n,r,a]}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:s;{const t=Nt.useRef(void 0!==e);Nt.useEffect(()=>{const e=t.current;if(e!==o){const t=e?"controlled":"uncontrolled",n=o?"controlled":"uncontrolled";console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,r])}const c=Nt.useCallback(t=>{var n;if(o){const r=function(e){return"function"==typeof e}(t)?t(e):t;r!==e&&(null==(n=i.current)||n.call(i,r))}else a(t)},[o,e,a,i]);return[l,c]}var x_=Nt.createContext(void 0);function v_(e){const t=Nt.useContext(x_);return e||t||"ltr"}var y_="rovingFocusGroup.onEntryFocus",b_={bubbles:!1,cancelable:!0},w_="RovingFocusGroup",[j_,k_,N_]=o_(w_),[S_,__]=a_(w_,[N_]),[C_,E_]=S_(w_),P_=Nt.forwardRef((e,t)=>Dt.jsx(j_.Provider,{scope:e.__scopeRovingFocusGroup,children:Dt.jsx(j_.Slot,{scope:e.__scopeRovingFocusGroup,children:Dt.jsx(T_,{...e,ref:t})})}));P_.displayName=w_;var T_=Nt.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=Nt.useRef(null),p=Ov(t,h),f=v_(a),[m,g]=g_({prop:i,defaultProp:o??null,onChange:l,caller:w_}),[x,v]=Nt.useState(!1),y=f_(c),b=k_(n),w=Nt.useRef(!1),[j,k]=Nt.useState(0);return Nt.useEffect(()=>{const e=h.current;if(e)return e.addEventListener(y_,y),()=>e.removeEventListener(y_,y)},[y]),Dt.jsx(C_,{scope:n,orientation:r,dir:f,loop:s,currentTabStopId:m,onItemFocus:Nt.useCallback(e=>g(e),[g]),onItemShiftTab:Nt.useCallback(()=>v(!0),[]),onFocusableItemAdd:Nt.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:Nt.useCallback(()=>k(e=>e-1),[]),children:Dt.jsx(h_.div,{tabIndex:x||0===j?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:s_(e.onMouseDown,()=>{w.current=!0}),onFocus:s_(e.onFocus,e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(y_,b_);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter(e=>e.focusable);D_([e.find(e=>e.active),e.find(e=>e.id===m),...e].filter(Boolean).map(e=>e.ref.current),u)}}w.current=!1}),onBlur:s_(e.onBlur,()=>v(!1))})})}),R_="RovingFocusGroupItem",I_=Nt.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...o}=e,l=d_(),c=a||l,u=E_(R_,n),d=u.currentTabStopId===c,h=k_(n),{onFocusableItemAdd:p,onFocusableItemRemove:f,currentTabStopId:m}=u;return Nt.useEffect(()=>{if(r)return p(),()=>f()},[r,p,f]),Dt.jsx(j_.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:Dt.jsx(h_.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:s_(e.onMouseDown,e=>{r?u.onItemFocus(c):e.preventDefault()}),onFocus:s_(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:s_(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:M_[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const a=s.indexOf(e.currentTarget);s=u.loop?(r=a+1,(n=s).map((e,t)=>n[(r+t)%n.length])):s.slice(a+1)}setTimeout(()=>D_(s))}var n,r}),children:"function"==typeof i?i({isCurrentTabStop:d,hasTabStop:null!=m}):i})})});I_.displayName=R_;var M_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D_(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var A_=P_,L_=I_;var O_=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=Nt.useState(),r=Nt.useRef(null),s=Nt.useRef(e),a=Nt.useRef("none"),i=e?"mounted":"unmounted",[o,l]=function(e,t){return Nt.useReducer((e,n)=>t[e][n]??e,e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Nt.useEffect(()=>{const e=F_(r.current);a.current="mounted"===o?e:"none"},[o]),l_(()=>{const t=r.current,n=s.current;if(n!==e){const r=a.current,i=F_(t);if(e)l("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,l]),l_(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,i=a=>{const i=F_(r.current).includes(a.animationName);if(a.target===t&&i&&(l("ANIMATION_END"),!s.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},o=e=>{e.target===t&&(a.current=F_(r.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:Nt.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),s="function"==typeof n?n({present:r.isPresent}):Nt.Children.only(n),a=Ov(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof n||r.isPresent?Nt.cloneElement(s,{ref:a}):null};function F_(e){return(null==e?void 0:e.animationName)||"none"}O_.displayName="Presence";var z_="Tabs",[W_,U_]=a_(z_,[__]),$_=__(),[q_,V_]=W_(z_),B_=Nt.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:o,activationMode:l="automatic",...c}=e,u=v_(o),[d,h]=g_({prop:r,onChange:s,defaultProp:a??"",caller:z_});return Dt.jsx(q_,{scope:n,baseId:d_(),value:d,onValueChange:h,orientation:i,dir:u,activationMode:l,children:Dt.jsx(h_.div,{dir:u,"data-orientation":i,...c,ref:t})})});B_.displayName=z_;var H_="TabsList",Q_=Nt.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=V_(H_,n),i=$_(n);return Dt.jsx(A_,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:Dt.jsx(h_.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Q_.displayName=H_;var K_="TabsTrigger",G_=Nt.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=V_(K_,n),o=$_(n),l=X_(i.baseId,r),c=Z_(i.baseId,r),u=r===i.value;return Dt.jsx(L_,{asChild:!0,...o,focusable:!s,active:u,children:Dt.jsx(h_.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...a,ref:t,onMouseDown:s_(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(r)}),onKeyDown:s_(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(r)}),onFocus:s_(e.onFocus,()=>{const e="manual"!==i.activationMode;u||s||!e||i.onValueChange(r)})})})});G_.displayName=K_;var Y_="TabsContent",J_=Nt.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,o=V_(Y_,n),l=X_(o.baseId,r),c=Z_(o.baseId,r),u=r===o.value,d=Nt.useRef(u);return Nt.useEffect(()=>{const e=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(e)},[]),Dt.jsx(O_,{present:s||u,children:({present:n})=>Dt.jsx(h_.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:n&&a})})});function X_(e,t){return`${e}-trigger-${t}`}function Z_(e,t){return`${e}-content-${t}`}J_.displayName=Y_;var eC=Q_,tC=G_,nC=J_;const rC=B_,sC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(eC,{ref:n,className:dx("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));sC.displayName=eC.displayName;const aC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(tC,{ref:n,className:dx("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));aC.displayName=tC.displayName;const iC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(nC,{ref:n,className:dx("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));iC.displayName=nC.displayName;const oC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("div",{className:"relative w-full overflow-auto",children:Dt.jsx("table",{ref:n,className:dx("w-full caption-bottom text-sm",e),...t})}));oC.displayName="Table";const lC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("thead",{ref:n,className:dx("[&_tr]:border-b",e),...t}));lC.displayName="TableHeader";const cC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("tbody",{ref:n,className:dx("[&_tr:last-child]:border-0",e),...t}));cC.displayName="TableBody";Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("tfoot",{ref:n,className:dx("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const uC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("tr",{ref:n,className:dx("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));uC.displayName="TableRow";const dC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("th",{ref:n,className:dx("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));dC.displayName="TableHead";const hC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("td",{ref:n,className:dx("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));hC.displayName="TableCell";function pC({trace:e,className:t="",showContext:n=!1}){const[r,s]=Nt.useState("table"),a=Nt.useMemo(()=>{try{return"string"==typeof e.output?JSON.parse(e.output):e.output}catch(t){return null}},[e.output]),i=Nt.useMemo(()=>{try{return"string"==typeof e.input?JSON.parse(e.input):e.input}catch(t){return e.input}},[e.input]),o=a&&Array.isArray(a.result),l=a&&a.query_text,c=Nt.useMemo(()=>{if(!o||0===a.result.length)return[];const e=a.result[0];return Object.keys(e)},[a,o]),u=async(e,t)=>{try{await navigator.clipboard.writeText(e)}catch(n){}};return a?Dt.jsxs(hx,{className:t,children:[Dt.jsx(px,{className:"pb-3",children:Dt.jsx("div",{className:"flex items-center justify-between",children:Dt.jsxs(fx,{className:"flex items-center gap-2 text-lg",children:[Dt.jsx(Gx,{className:"h-4 w-4"}),"Trace Data Viewer",e.mlflow_trace_id&&Dt.jsxs(Mv,{variant:"outline",className:"text-xs",children:["MLflow: ",e.mlflow_trace_id.slice(0,8),"..."]})]})})}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Input"}),Dt.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[Dt.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:JSON.stringify(i,null,2)}),Dt.jsxs(Vv,{variant:"ghost",size:"sm",className:"mt-2 h-6 px-2 text-xs",onClick:()=>u(JSON.stringify(i,null,2)),children:[Dt.jsx(Vx,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Output"}),o&&Dt.jsxs(rC,{value:r,onValueChange:s,className:"w-full",children:[Dt.jsxs(sC,{className:"grid w-full grid-cols-2",children:[Dt.jsxs(aC,{value:"table",className:"flex items-center gap-2",children:[Dt.jsx(oC,{className:"h-4 w-4"}),"Data Table"]}),Dt.jsxs(aC,{value:"json",className:"flex items-center gap-2",children:[Dt.jsx(Gx,{className:"h-4 w-4"}),"Raw JSON"]})]}),Dt.jsx(iC,{value:"table",className:"mt-4",children:Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"text-sm text-gray-600",children:[a.result.length," rows  ",c.length," columns"]}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>{if(!o)return;const t=c,n=[t.join(","),...a.result.map(e=>t.map(t=>{const n=e[t];return"string"==typeof n&&(n.includes(",")||n.includes('"'))?`"${n.replace(/"/g,'""')}"`:n}).join(","))].join("\n"),r=new Blob([n],{type:"text/csv"}),s=window.URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.download=`trace_${e.id}_data.csv`,i.click(),window.URL.revokeObjectURL(s)},className:"h-8 px-3 text-xs",children:[Dt.jsx(Hx,{className:"h-3 w-3 mr-1"}),"Download CSV"]}),Dt.jsxs(Vv,{variant:"ghost",size:"sm",onClick:()=>u(JSON.stringify(a.result,null,2)),className:"h-8 px-3 text-xs",children:[Dt.jsx(Vx,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]}),Dt.jsx("div",{className:"border rounded-lg overflow-hidden",children:Dt.jsxs(oC,{children:[Dt.jsx(lC,{children:Dt.jsx(uC,{children:c.map(e=>Dt.jsx(dC,{className:"bg-gray-50",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})}),Dt.jsx(cC,{children:a.result.map((e,t)=>Dt.jsx(uC,{children:c.map(t=>Dt.jsx(hC,{className:"font-mono text-sm",children:e[t]},t))},t))})]})})]})}),Dt.jsx(iC,{value:"json",className:"mt-4",children:Dt.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[Dt.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(a,null,2)}),Dt.jsxs(Vv,{variant:"ghost",size:"sm",className:"mt-2 h-6 px-2 text-xs",onClick:()=>u(JSON.stringify(a,null,2)),children:[Dt.jsx(Vx,{className:"h-3 w-3 mr-1"}),"Copy"]})]})})]}),!o&&Dt.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[Dt.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:JSON.stringify(a,null,2)}),Dt.jsxs(Vv,{variant:"ghost",size:"sm",className:"mt-2 h-6 px-2 text-xs",onClick:()=>u(JSON.stringify(a,null,2)),children:[Dt.jsx(Vx,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]}),l&&Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"SQL Query"}),Dt.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[Dt.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono overflow-x-auto",children:a.query_text?(d=a.query_text,d.replace(/\bSELECT\b/gi,"\nSELECT").replace(/\bFROM\b/gi,"\nFROM").replace(/\bWHERE\b/gi,"\nWHERE").replace(/\bGROUP BY\b/gi,"\nGROUP BY").replace(/\bORDER BY\b/gi,"\nORDER BY").replace(/\bHAVING\b/gi,"\nHAVING").replace(/\bJOIN\b/gi,"\nJOIN").replace(/\bLEFT JOIN\b/gi,"\nLEFT JOIN").replace(/\bRIGHT JOIN\b/gi,"\nRIGHT JOIN").replace(/\bINNER JOIN\b/gi,"\nINNER JOIN").replace(/\bUNION\b/gi,"\nUNION").replace(/\bLIMIT\b/gi,"\nLIMIT").trim()):""}),Dt.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[Dt.jsxs(Vv,{variant:"ghost",size:"sm",onClick:()=>{if(!l||!a.query_text)return;const t=new Blob([a.query_text],{type:"text/sql"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`trace_${e.id}_query.sql`,r.click(),window.URL.revokeObjectURL(n)},className:"h-6 px-2 text-xs",children:[Dt.jsx(Hx,{className:"h-3 w-3 mr-1"}),"Download SQL"]}),Dt.jsxs(Vv,{variant:"ghost",size:"sm",onClick:()=>a.query_text&&u(a.query_text),className:"h-6 px-2 text-xs",children:[Dt.jsx(Vx,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]})]}),n&&e.context&&Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Context"}),Dt.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:Dt.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:JSON.stringify(e.context,null,2)})})]})]})]}):Dt.jsx(hx,{className:t,children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"text-center text-gray-500",children:[Dt.jsx(Bx,{className:"h-8 w-8 mx-auto mb-2"}),Dt.jsx("p",{children:"Unable to parse trace output"})]})})});var d}Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("caption",{ref:n,className:dx("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";const fC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("textarea",{className:dx("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));fC.displayName="Textarea";var mC=Nt.forwardRef((e,t)=>Dt.jsx(h_.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));mC.displayName="Label";var gC=mC;const xC=Rv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(gC,{ref:n,className:dx(xC(),e),...t}));vC.displayName=gC.displayName;const yC=e=>({id:e.id,input:e.input,output:e.output,context:e.context||void 0,mlflow_trace_id:e.mlflow_trace_id||void 0,mlflow_url:e.mlflow_url||void 0,mlflow_host:e.mlflow_host||void 0,mlflow_experiment_id:e.mlflow_experiment_id||void 0});function bC(){const{workshopId:e}=Ym(),{currentPhase:t}=gg(),{user:n}=Vm(),{canCreateFindings:r,isFacilitator:s}=Hm();if(!n||!n.id)return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center max-w-md",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Please Log In"}),Dt.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"You must be logged in to view discovery traces."})]})});if(s&&("discovery"===t||"annotation"===t))return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center max-w-md",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Facilitator Dashboard Required"}),Dt.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["As a facilitator during the ",t," phase, you should use the monitoring dashboard instead of the participant interface."]}),Dt.jsx("p",{className:"text-xs text-gray-400",children:"Please navigate back to access the appropriate facilitator tools for monitoring and managing this phase."})]})});const[a,i]=Nt.useState(0),[o,l]=Nt.useState(""),[c,u]=Nt.useState(""),[d,h]=Nt.useState(new Set),[p,f]=Nt.useState(!1),[m,g]=Nt.useState(!1),x=Nt.useRef(null),v=Nt.useRef(!1),y=Nt.useRef(0),{data:b,isLoading:w,error:j}=ag(e,n.id),{data:k}=og(e,n),N=function(e){const t=$p();return Gp({mutationFn:t=>$m.submitFindingWorkshopsWorkshopIdFindingsPost(e,t),onMutate:async n=>{await t.cancelQueries({queryKey:["findings",e,n.user_id]});const r=t.getQueryData(["findings",e,n.user_id]);return t.setQueryData(["findings",e,n.user_id],t=>{const r={id:`temp-${Date.now()}`,workshop_id:e,trace_id:n.trace_id,user_id:n.user_id,insight:n.insight,created_at:(new Date).toISOString()};return t?[...t,r]:[r]}),{previousFindings:r}},onError:(n,r,s)=>{(null==s?void 0:s.previousFindings)&&t.setQueryData(["findings",e,r.user_id],s.previousFindings)},onSuccess:(n,r)=>{!function(e,t){e.invalidateQueries({predicate:e=>{const n=e.queryKey;return n&&(n.includes(t)||n.includes("workshop")||n.includes("findings")||n.includes("annotations")||n.includes("irr"))}})}(t,e),t.invalidateQueries({queryKey:["discovery-completion-status",e]}),t.invalidateQueries({queryKey:["user-discovery-complete",e,r.user_id]}),t.refetchQueries({queryKey:["findings",e,r.user_id]}),t.refetchQueries({queryKey:["workshop",e]})}})}(e);$p();const S=Nt.useMemo(()=>(null==b?void 0:b.map(yC))||[],[b]),_=S[a],C=S.length>0&&S.every(e=>d.has(e.id))&&d.size===S.length;Nt.useEffect(()=>{if((null==_?void 0:_.id)&&_.id!==x.current){const e=null==k?void 0:k.find(e=>e.trace_id===_.id);if(e){const t=(e.insight||"").split("\n\nImprovement Analysis: ");if(2===t.length){const e=t[0].replace("Quality Assessment: ",""),n=t[1];l(e),u(n)}}else l(""),u("");x.current=_.id}},[null==_?void 0:_.id,k]),Nt.useEffect(()=>{if(k&&S.length>0){const e=new Set(S.map(e=>e.id)),t=new Set(k.filter(t=>e.has(t.trace_id)).map(e=>e.trace_id)),n=y.current>0&&S.length>y.current;if(v.current){if(n){const e=y.current;i(t=>t>=e-1?e:t)}}else{const e=S.findIndex(e=>!t.has(e.id));-1!==e?i(e):t.size===S.length&&i(S.length-1),v.current=!0}y.current=S.length}},[k,S]),Nt.useEffect(()=>{if(k&&S.length>0){const e=new Set(S.map(e=>e.id)),t=new Set(k.filter(t=>e.has(t.trace_id)).map(e=>e.trace_id));h(e=>{const n=Array.from(e).sort(),r=Array.from(t).sort();return n.length===r.length&&n.every((e,t)=>e===r[t])?e:t})}},[k,S]);return n&&n.id?"intake"===t?s?Dt.jsx("div",{className:"p-8",children:Dt.jsxs("div",{className:"max-w-2xl mx-auto",children:[Dt.jsxs("div",{className:"text-center mb-8",children:[Dt.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:Dt.jsx(xv,{className:"h-8 w-8 text-white"})}),Dt.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Ready to Begin Discovery"}),Dt.jsx("p",{className:"text-slate-600",children:"Start the discovery phase to distribute traces to all participants for analysis"})]}),Dt.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-6",children:[Dt.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Workshop Status"}),Dt.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[Dt.jsxs("div",{children:[" ",Dt.jsx("strong",{children:"Traces ready:"})," ",S.length," traces loaded"]}),Dt.jsxs("div",{children:[" ",Dt.jsx("strong",{children:"Phase:"})," Pre-discovery (Intake)"]}),Dt.jsxs("div",{children:[" ",Dt.jsx("strong",{children:"Next step:"})," Begin discovery phase"]})]})]}),Dt.jsx(Vv,{onClick:async()=>{try{await $m.beginDiscoveryPhaseWorkshopsWorkshopIdBeginDiscoveryPost(e),window.location.reload()}catch(t){KS.error("Failed to start discovery phase. Please try again.")}},className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white py-3 rounded-xl font-medium",children:" Start Discovery Phase"}),Dt.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:"This will allow all participants to begin exploring traces and providing insights"})]})}):Dt.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-slate-900 mb-2",children:"Discovery Phase Not Started"}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"The facilitator will begin the discovery phase shortly"})]})}):w?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading traces..."}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Fetching workshop data from API"})]})}):j||!S.length?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:j?"Failed to load traces":"No traces available"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:j?"Please check your connection and try again":"Upload some traces to get started"})]})}):Dt.jsx("div",{className:"p-6",children:Dt.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Dt.jsxs("div",{children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Discovery Phase"}),Dt.jsx("p",{className:"text-gray-600 mb-4",children:"Review LLM responses and share your insights"}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Dt.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),Dt.jsxs("span",{className:"text-sm text-gray-600",children:[d.size," of ",S.length," complete",C&&Dt.jsx("span",{className:"ml-2 text-green-600 font-medium",children:" All traces reviewed!"})]})]}),Dt.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Dt.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(C?"bg-green-500":"bg-blue-500"),style:{width:d.size/S.length*100+"%"}})})]}),Dt.jsx("div",{className:"flex items-center justify-between",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsxs(Mv,{variant:"outline",children:["Trace ",a+1," of ",S.length]}),d.has(_.id)&&Dt.jsxs(Mv,{className:"bg-green-500",children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Finding Submitted"]})]})})]}),Dt.jsx(r_,{trace:_}),Dt.jsxs(hx,{className:"mt-4",children:[Dt.jsx(px,{className:"pb-3",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx(fx,{className:"text-lg",children:"Trace Data Analysis"}),Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>g(!m),className:"flex items-center gap-2",children:[Dt.jsx(bv,{className:"h-4 w-4"}),m?"Hide":"Show"," Data Table"]})]})}),m&&Dt.jsx(gx,{children:Dt.jsx(pC,{trace:_,showContext:!1,className:"border-0 shadow-none"})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsx(fx,{children:"Discovery Questions"}),!r&&Dt.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[Dt.jsx(Ox,{className:"h-4 w-4 inline mr-1"}),"You don't have permission to submit findings. You can view the traces but cannot contribute insights."]})]}),Dt.jsxs(gx,{className:"space-y-6",children:[Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsx(vC,{htmlFor:"question1",className:"text-sm font-medium",children:"What makes this response effective or ineffective?"}),Dt.jsx(fC,{id:"question1",placeholder:r?"Share your thoughts on what makes this response work well or poorly...":"You don't have permission to submit findings",value:o,onChange:e=>l(e.target.value),className:"min-h-[100px]",disabled:!r})]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsx(vC,{htmlFor:"question2",className:"text-sm font-medium",children:"If this response was good, what would have made it bad? If bad, what would have made it good?"}),Dt.jsx(fC,{id:"question2",placeholder:r?"Consider alternative scenarios - what changes would flip the quality of this response?":"You don't have permission to submit findings",value:c,onChange:e=>u(e.target.value),className:"min-h-[100px]",disabled:!r})]}),d.has(_.id)&&Dt.jsx("div",{className:"flex justify-end",children:Dt.jsxs(Mv,{className:"bg-green-500 text-white",children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Finding Submitted"]})})]})]}),Dt.jsx(hx,{children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs(Vv,{variant:"outline",onClick:()=>{a>0&&i(e=>e-1)},disabled:0===a,className:"flex items-center gap-2",children:[Dt.jsx(Ix,{className:"h-4 w-4"}),"Previous"]}),Dt.jsx(Vv,{onClick:async()=>{if(_){if(!d.has(_.id)&&o.trim()&&c.trim())try{await N.mutateAsync({trace_id:_.id,user_id:(null==n?void 0:n.id)||"demo_user",insight:`Quality Assessment: ${o.trim()}\n\nImprovement Analysis: ${c.trim()}`}),h(e=>new Set([...e,_.id]))}catch(e){return}a<S.length-1&&(i(e=>e+1),l(""),u(""))}},disabled:!(r&&(d.has(_.id)||o.trim()&&c.trim())),className:"flex items-center gap-2",children:a===S.length-1?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(gv,{className:"h-4 w-4"}),"Complete"]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Mx,{className:"h-4 w-4"}),"Next"]})})]})})}),C&&Dt.jsx(hx,{className:"border-green-200 bg-green-50",children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Fx,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"All Traces Reviewed!"}),Dt.jsxs("p",{className:"text-green-700 mb-4",children:["You've successfully reviewed all ",S.length," traces and submitted findings for each one."]}),Dt.jsx(Vv,{onClick:async()=>{if((null==n?void 0:n.id)&&e){f(!0);try{if(!(await fetch(`/workshops/${e}/users/${n.id}/complete-discovery`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to mark discovery complete");KS.success("Discovery phase completed! You can now wait for the facilitator to move to the next phase.")}catch(t){KS.error("Failed to complete discovery. Please try again.")}finally{f(!1)}}},disabled:p,className:"bg-green-600 hover:bg-green-700 text-white",children:p?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Completing Discovery..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Fx,{className:"h-4 w-4 mr-2"}),"Complete Discovery Phase"]})})]})})})]})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Authentication Required"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"You must be logged in to access discovery traces."})]})})}const wC=Nt.forwardRef(({className:e,type:t,...n},r)=>Dt.jsx("input",{type:t,className:dx("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));function jC({discoveryResponses:e,scratchPad:t,setScratchPad:n}){const[r,s]=Nt.useState(0),[a,i]=Nt.useState(null),[o,l]=Nt.useState(""),c=e[r],u=e.length,d=(h=null==c?void 0:c.trace)?{id:c.traceId,input:h.input,output:h.output,context:h.context,mlflow_trace_id:h.mlflow_trace_id||void 0}:null;var h;const p=Nt.useCallback(()=>{i(null),s(e=>e>0?e-1:u-1)},[u]),f=Nt.useCallback(()=>{i(null),s(e=>e<u-1?e+1:0)},[u]),m=Nt.useCallback(e=>{e!==r&&(i(r),s(e))},[r]),g=Nt.useCallback(()=>{null!==a&&(s(a),i(null))},[a]);Nt.useEffect(()=>{const e=e=>{const t=e.target;"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||("ArrowLeft"===e.key&&(e.preventDefault(),p()),"ArrowRight"===e.key&&(e.preventDefault(),f()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[p,f]);const x=(e,s,a)=>{const i={id:Date.now().toString(),traceId:c.traceId,traceIndex:r+1,comment:e,timestamp:new Date,category:s,source:a};n([...t,i])},v=()=>{const e=new Set;return c.responses.forEach(t=>{t.question1.toLowerCase().includes("clear")&&e.add("Clarity"),t.question1.toLowerCase().includes("accurate")&&e.add("Accuracy"),t.question1.toLowerCase().includes("helpful")&&e.add("Helpfulness"),t.question1.toLowerCase().includes("example")&&e.add("Examples"),t.question1.toLowerCase().includes("technical")&&e.add("Technical Detail"),t.question1.toLowerCase().includes("safety")&&e.add("Safety")}),Array.from(e)};return c?Dt.jsxs("div",{className:"h-full max-h-[calc(100vh-12rem)] flex gap-6 w-full",children:[Dt.jsxs("div",{className:"flex-1 min-w-0 space-y-4 overflow-y-auto",children:[Dt.jsx(hx,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:Dt.jsxs(px,{className:"pb-4",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs(fx,{className:"flex items-center gap-2 text-blue-900",children:[Dt.jsx(ev,{className:"h-5 w-5 text-blue-600"}),"Focused Analysis"]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[null!==a&&Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:g,className:"flex items-center gap-2 border-blue-300 text-blue-700 hover:bg-blue-100",children:[Dt.jsx(kx,{className:"h-4 w-4"}),"Back to Trace ",a+1]}),Dt.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-blue-200",children:[Dt.jsx(Vv,{variant:"ghost",size:"sm",onClick:p,disabled:u<=1,className:"h-8 w-8 p-0 hover:bg-blue-100",children:Dt.jsx(Ix,{className:"h-4 w-4"})}),Dt.jsxs("div",{className:"text-sm font-semibold px-2 min-w-[6rem] text-center text-blue-900",children:[r+1," of ",u]}),Dt.jsx(Vv,{variant:"ghost",size:"sm",onClick:f,disabled:u<=1,className:"h-8 w-8 p-0 hover:bg-blue-100",children:Dt.jsx(Mx,{className:"h-4 w-4"})})]})]})]}),Dt.jsxs("div",{className:"mt-3",children:[Dt.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:Dt.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:(r+1)/u*100+"%"}})}),Dt.jsxs("div",{className:"flex justify-between text-xs text-blue-600 mt-1",children:[Dt.jsx("span",{children:"Progress"}),Dt.jsxs("span",{children:[Math.round((r+1)/u*100),"%"]})]})]})]})}),d?Dt.jsx(r_,{trace:d}):Dt.jsx(hx,{className:"shadow-sm",children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:Dt.jsx("p",{className:"text-amber-800 text-sm",children:"No trace data available for this discovery response."})})})}),v().length>0&&Dt.jsx(hx,{className:"shadow-sm",children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(rv,{className:"h-4 w-4 text-amber-500 mt-0.5"}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Common Themes:"}),Dt.jsx("div",{className:"flex flex-wrap gap-1",children:v().map(e=>Dt.jsx(Mv,{variant:"outline",className:"text-xs bg-amber-50 border-amber-200 text-amber-800",children:e},e))})]})]})})}),Dt.jsxs(hx,{className:"shadow-sm",children:[Dt.jsx(px,{className:"bg-gray-50 border-b",children:Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(ov,{className:"h-5 w-5 text-gray-600"}),Dt.jsx("h3",{className:"font-semibold text-gray-900",children:"Discovery Responses"})]})}),Dt.jsxs(gx,{children:[Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Dt.jsx("div",{className:"w-2 h-6 bg-blue-500 rounded-full"}),Dt.jsx("h4",{className:"font-semibold text-gray-900",children:"Response Effectiveness Analysis"}),Dt.jsxs(Mv,{variant:"secondary",className:"text-xs",children:[c.responses.length," responses"]})]}),Dt.jsx("div",{className:"space-y-3",children:c.responses.map((e,t)=>Dt.jsx(hx,{className:"p-4 hover:shadow-md transition-all hover:border-blue-300 bg-gradient-to-r from-white to-blue-50/30",children:Dt.jsxs("div",{className:"flex items-start justify-between gap-3",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-700",children:e.participant.split("_")[1]||t+1}),Dt.jsx("span",{className:"text-xs text-gray-500",children:e.participant})]}),Dt.jsx("p",{className:"text-sm text-gray-800 leading-relaxed whitespace-pre-wrap",children:e.question1})]}),Dt.jsx(Vv,{variant:"ghost",size:"sm",onClick:()=>x(e.question1,"effectiveness",e.participant),className:"text-blue-600 hover:text-blue-800 hover:bg-blue-100",children:Dt.jsx(dv,{className:"h-4 w-4"})})]})},t))})]}),c.responses.some(e=>e.question2)&&Dt.jsxs("div",{children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Dt.jsx("div",{className:"w-2 h-6 bg-green-500 rounded-full"}),Dt.jsx("h4",{className:"font-semibold text-gray-900",children:"Good/Bad Scenario Analysis"}),Dt.jsxs(Mv,{variant:"secondary",className:"text-xs",children:[c.responses.filter(e=>e.question2).length," responses"]})]}),Dt.jsx("div",{className:"space-y-3",children:c.responses.filter(e=>e.question2).map((e,t)=>Dt.jsx(hx,{className:"p-4 hover:shadow-md transition-all hover:border-green-300 bg-gradient-to-r from-white to-green-50/30",children:Dt.jsxs("div",{className:"flex items-start justify-between gap-3",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center text-xs font-medium text-green-700",children:e.participant.split("_")[1]||t+1}),Dt.jsx("span",{className:"text-xs text-gray-500",children:e.participant})]}),Dt.jsx("p",{className:"text-sm text-gray-800 leading-relaxed whitespace-pre-wrap",children:e.question2})]}),Dt.jsx(Vv,{variant:"ghost",size:"sm",onClick:()=>x(e.question2,"scenario",e.participant),className:"text-green-600 hover:text-green-800 hover:bg-green-100",children:Dt.jsx(dv,{className:"h-4 w-4"})})]})},t))})]})]}),Dt.jsx("div",{className:"mt-6 pt-4 border-t bg-gray-50 -mx-6 px-6 py-3",children:Dt.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[Dt.jsx("div",{className:"flex items-center gap-2",children:Dt.jsx("span",{className:"font-medium",children:"Keyboard shortcuts:"})}),Dt.jsxs("div",{className:"flex items-center gap-1",children:[Dt.jsx("kbd",{className:"px-2 py-1 bg-white border border-gray-300 rounded text-xs",children:""}),Dt.jsx("span",{children:"Previous"})]}),Dt.jsxs("div",{className:"flex items-center gap-1",children:[Dt.jsx("kbd",{className:"px-2 py-1 bg-white border border-gray-300 rounded text-xs",children:""}),Dt.jsx("span",{children:"Next"})]})]})})]})]})]}),Dt.jsx("div",{className:"w-80 lg:w-96 flex-shrink-0 bg-gradient-to-b from-gray-50 to-gray-100 rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:Dt.jsxs("div",{className:"h-full flex flex-col",children:[Dt.jsx("div",{className:"p-6 bg-white border-b border-gray-200",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[Dt.jsx(cv,{className:"h-5 w-5 text-gray-600"}),"Scratch Pad",t.length>0&&Dt.jsx(Mv,{variant:"secondary",children:t.length})]}),t.length>0&&Dt.jsx(Vv,{onClick:()=>{const e=t.map(e=>`[Trace ${e.traceIndex}] ${e.category?`(${e.category})`:""}\n${e.comment}\n---`).join("\n\n"),n=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`rubric-insights-${(new Date).toISOString().split("T")[0]}.txt`,s.click(),URL.revokeObjectURL(r)},variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-800",children:Dt.jsx(Hx,{className:"h-4 w-4"})})]})}),Dt.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(fC,{placeholder:"Add a custom note...",value:o,onChange:e=>l(e.target.value),className:"min-h-[80px] bg-white"}),Dt.jsx(Vv,{onClick:()=>{if(o.trim()){const e={id:Date.now().toString(),traceId:c.traceId,traceIndex:r+1,comment:o,timestamp:new Date};n([...t,e]),l("")}},disabled:!o.trim(),size:"sm",className:"w-full",children:"Add Note"})]}),Dt.jsx("div",{className:"space-y-3",children:0===t.length?Dt.jsxs("div",{className:"text-center py-8 text-gray-500",children:[Dt.jsx(cv,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),Dt.jsx("p",{className:"text-sm",children:"No insights pinned yet."}),Dt.jsx("p",{className:"text-xs mt-1",children:"Click the pin icon on any comment to save it here."})]}):t.map(e=>Dt.jsx(hx,{className:"p-3 "+(e.traceIndex===r+1?"border-blue-300 bg-blue-50/50":"bg-white"),children:Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("p",{className:"text-sm text-gray-700",children:e.comment}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsxs("button",{onClick:()=>m(e.traceIndex-1),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["From Trace ",e.traceIndex,Dt.jsx(Nx,{className:"h-3 w-3"})]}),e.category&&Dt.jsx(Mv,{variant:"outline",className:"text-xs",children:e.category})]}),Dt.jsx(Vv,{variant:"ghost",size:"sm",onClick:()=>{return r=e.id,void n(t.filter(e=>e.id!==r));var r},className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",children:Dt.jsx(kv,{className:"h-3 w-3"})})]})]})},e.id))})]})})]})})]}):Dt.jsx("div",{children:"No discovery responses available."})}wC.displayName="Input";const kC="|||QUESTION_SEPARATOR|||",NC=e=>{if(!e)return[];return e.split(kC).map((e,t)=>{const n=e.trim();if(!n)return null;const r=n.indexOf(":");if(-1===r)return null;return{id:`q_${t+1}`,title:n.substring(0,r).trim(),description:n.substring(r+1).trim()}}).filter(e=>null!==e)};function SC(){const{workshopId:e}=Ym(),{setCurrentPhase:t}=gg(),{user:n}=Vm(),{isFacilitator:r}=Hm(),s=$p(),[a,i]=Nt.useState([]),[o,l]=Nt.useState(!1),[c,u]=Nt.useState({title:"",description:""}),[d,h]=Nt.useState(!1),[p,f]=Nt.useState("focused"),[m,g]=Nt.useState([]),[x,v]=Nt.useState(null),[y,b]=Nt.useState(null),{data:w,isLoading:j,error:k}=cg(e),{data:N}=ig(e),{data:S}=r?lg(e):og(e,n),_=function(e){const t=$p();return Gp({mutationFn:t=>$m.createRubricWorkshopsWorkshopIdRubricPost(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:Zm(e)})}})}(e),C=function(e){const t=$p();return Gp({mutationFn:t=>$m.updateRubricWorkshopsWorkshopIdRubricPut(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:Zm(e)})}})}(e);if(!n||!n.id)return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Authentication Required"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"You must be logged in to access rubric creation."})]})});const E=((e,t)=>{if(!e||0===e.length||!t||0===t.length)return[];const n=t.reduce((e,t)=>(e[t.id]=t,e),{}),r=e.reduce((e,t)=>(e[t.trace_id]||(e[t.trace_id]=[]),e[t.trace_id].push(t),e),{});return Object.entries(r).map(([e,t])=>{const r=n[e];return{traceId:e,trace:r?{input:r.input,output:r.output,context:r.context,mlflow_trace_id:r.mlflow_trace_id}:null,responses:t.map((e,t)=>{const n=e.insight||"",r=n.split("\n\nImprovement Analysis: ");let s=n,a=null;return 2===r.length&&(s=r[0].replace("Quality Assessment: ",""),a=r[1]),{participant:e.user_name||e.user_id,question1:s,question2:a}})}}).filter(e=>null!==e.trace)})(S,N);Nt.useEffect(()=>{if(e){const n=`scratch-pad-${e}`,r=localStorage.getItem(n);if(r)try{const e=JSON.parse(r);Date.now()-e.timestamp<864e5?g(e.scratchPad):localStorage.removeItem(n)}catch(t){localStorage.removeItem(n)}}},[e]),Nt.useEffect(()=>{if(e){const t=`scratch-pad-${e}`;if(m.length>0){const e={timestamp:Date.now(),scratchPad:m};localStorage.setItem(t,JSON.stringify(e))}else localStorage.removeItem(t)}},[m,e]),Nt.useEffect(()=>{w&&!d&&i((e=>NC(e.question))(w))},[w,d]);const P=(e,t)=>{i(a.map(n=>n.id===e?{...n,...t}:n)),h(!0)};return j?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading rubric..."}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Fetching workshop data from API"})]})}):Dt.jsx("div",{className:"h-full",children:Dt.jsxs("div",{className:`h-full ${"grid"===p?"max-w-6xl mx-auto p-6":"px-6 py-4"} space-y-6`,children:[Dt.jsxs("div",{className:"flex justify-center gap-2",children:[Dt.jsx(Mv,{variant:"outline",children:"Facilitator View"}),w&&Dt.jsxs(Mv,{className:"bg-green-500",children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Rubric Exists"]}),k&&Dt.jsxs(Mv,{variant:"destructive",children:[Dt.jsx(Ox,{className:"h-3 w-3 mr-1"}),"API Error"]})]}),Dt.jsxs(rC,{defaultValue:"discovery",className:"w-full",children:[Dt.jsxs(sC,{className:"grid w-full grid-cols-2",children:[Dt.jsxs(aC,{value:"discovery",className:"flex items-center gap-2",children:[Dt.jsx(Cv,{className:"h-4 w-4"}),"Discovery Responses"]}),Dt.jsxs(aC,{value:"rubric",className:"flex items-center gap-2",children:[Dt.jsx(Ux,{className:"h-4 w-4"}),"Rubric Questions",a.length>0&&Dt.jsx(Mv,{variant:"secondary",className:"ml-2",children:a.length})]})]}),Dt.jsx(iC,{value:"discovery",children:Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center justify-between",children:[Dt.jsx("span",{children:"Discovery Responses"}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsxs(Vv,{variant:"grid"===p?"default":"outline",size:"sm",onClick:()=>f("grid"),className:"flex items-center gap-2",children:[Dt.jsx(Xx,{className:"h-4 w-4"}),"Grid View"]}),Dt.jsxs(Vv,{variant:"focused"===p?"default":"outline",size:"sm",onClick:()=>f("focused"),className:"flex items-center gap-2",children:[Dt.jsx(Yx,{className:"h-4 w-4"}),"Focused View"]})]})]})}),Dt.jsxs(gx,{children:[Dt.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx(rv,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Facilitator Instructions"}),Dt.jsx("p",{className:"text-sm text-blue-700",children:"Review participant responses to identify patterns and create rubric questions. Use these responses to facilitate group discussion and build consensus on evaluation criteria."})]})]})}),"grid"===p?Dt.jsx("div",{className:"space-y-8",children:E.length>0?E.map((e,t)=>Dt.jsxs("div",{className:"border rounded-xl p-6 bg-gradient-to-br from-white to-gray-50",children:[Dt.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[Dt.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:Dt.jsx("span",{className:"text-blue-600 font-medium text-sm",children:t+1})}),Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Trace Analysis"}),e.trace?Dt.jsxs("p",{className:"text-gray-600 text-sm italic",children:['"',e.trace.input.substring(0,100),'..."']}):Dt.jsx("p",{className:"text-gray-500 text-sm italic",children:"No trace data available"})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Dt.jsxs("div",{children:[Dt.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[Dt.jsx(yv,{className:"h-4 w-4 text-yellow-500"}),"Response Effectiveness"]}),Dt.jsx("div",{className:"space-y-3",children:e.responses.map((e,t)=>Dt.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:Dt.jsx("span",{className:"text-white font-medium text-xs",children:e.participant.includes("SME")?"E":"P"})}),Dt.jsx("span",{className:"font-medium text-sm text-gray-700",children:e.participant})]}),Dt.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:e.question1})]},t))})]}),Dt.jsxs("div",{children:[Dt.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[Dt.jsx(Ux,{className:"h-4 w-4 text-green-500"}),"Good/Bad Scenarios"]}),Dt.jsx("div",{className:"space-y-3",children:e.responses.map((e,t)=>Dt.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:Dt.jsx("span",{className:"text-white font-medium text-xs",children:e.participant.includes("SME")?"E":"P"})}),Dt.jsx("span",{className:"font-medium text-sm text-gray-700",children:e.participant})]}),Dt.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:e.question2})]},t))})]})]}),Dt.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx(rv,{className:"h-4 w-4 text-amber-500"}),Dt.jsx("span",{className:"font-medium text-sm text-gray-700",children:"Potential Rubric Themes"})]}),Dt.jsx("div",{className:"flex flex-wrap gap-2",children:e.responses.length>0&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Mv,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"Empathy & Understanding"}),Dt.jsx(Mv,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Professional Tone"}),Dt.jsx(Mv,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Solution Orientation"}),Dt.jsx(Mv,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Personalization"})]})})]})]},t)):Dt.jsxs("div",{className:"text-center py-12",children:[Dt.jsx(rv,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Discovery Data Available"}),Dt.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Complete the discovery phase first to see participant insights here."}),Dt.jsx("p",{className:"text-xs text-gray-400",children:"Discovery responses will appear once participants have explored traces and provided feedback."})]})}):E.length>0?Dt.jsx(jC,{discoveryResponses:E,scratchPad:m,setScratchPad:g}):Dt.jsxs("div",{className:"text-center py-12",children:[Dt.jsx(Yx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Discovery Data for Analysis"}),Dt.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Complete the discovery phase first to use focused analysis mode."}),Dt.jsx("p",{className:"text-xs text-gray-400",children:"Switch to grid view to create rubric questions manually, or wait for discovery data."})]})]})]})}),Dt.jsx(iC,{value:"rubric",children:Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center justify-between",children:[Dt.jsx("span",{children:"Rubric Questions"}),Dt.jsxs(Vv,{onClick:()=>l(!0),className:"flex items-center gap-2",disabled:o,children:[Dt.jsx(pv,{className:"h-4 w-4"}),"Add Question"]})]})}),Dt.jsxs(gx,{className:"space-y-6",children:[0===a.length&&!o&&Dt.jsxs("div",{className:"text-center py-8",children:[Dt.jsx(Ux,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),Dt.jsx("p",{className:"text-gray-600 mb-4",children:"No rubric questions yet"}),Dt.jsxs(Vv,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[Dt.jsx(pv,{className:"h-4 w-4"}),"Create First Question"]})]}),a.map((t,n)=>Dt.jsx("div",{className:"border rounded-xl p-6 bg-gradient-to-br from-white to-green-50 border-green-200",children:Dt.jsxs("div",{className:"flex items-start gap-4",children:[Dt.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:Dt.jsx("span",{className:"text-green-600 font-medium",children:n+1})}),Dt.jsxs("div",{className:"flex-1 space-y-4",children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:`title-${t.id}`,className:"text-sm font-medium text-gray-700 mb-1 block",children:"Question Title"}),Dt.jsx(wC,{id:`title-${t.id}`,value:t.title,onChange:e=>P(t.id,{title:e.target.value}),placeholder:"e.g., Response Accuracy",className:"font-medium"})]}),Dt.jsxs("div",{className:"md:col-span-1",children:[Dt.jsx(vC,{htmlFor:`desc-${t.id}`,className:"text-sm font-medium text-gray-700 mb-1 block",children:"Question Description"}),Dt.jsx(fC,{id:`desc-${t.id}`,value:t.description,onChange:e=>P(t.id,{description:e.target.value}),placeholder:"e.g., This response is factually accurate and well-supported.",className:"min-h-[80px]"})]})]}),Dt.jsxs("div",{className:"bg-white border border-green-200 rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Dt.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Likert Scale Preview"}),Dt.jsx(Mv,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"1-5 Scale"})]}),Dt.jsx("div",{className:"grid grid-cols-5 gap-4",children:[1,2,3,4,5].map(e=>Dt.jsxs("div",{className:"flex flex-col items-center gap-2",children:[Dt.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-green-300 bg-white"}),Dt.jsx("label",{className:"text-xs text-center text-gray-600 leading-tight",children:["","Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"][e]})]},e))})]})]}),Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsxs(Vv,{variant:"ghost",size:"sm",onClick:()=>(async t=>{const n=a.find(e=>e.id===t);if(n){v(t);try{const r=await fetch(`/workshops/${e}/rubric/questions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n.title,description:n.description})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);s.invalidateQueries({queryKey:["rubric",e]}),b(t),setTimeout(()=>{b(null)},3e3)}catch(r){KS.error("Failed to update question. Please try again.")}finally{v(null)}}})(t.id),className:y===t.id?"text-green-600 hover:text-green-800 hover:bg-green-50":"text-blue-600 hover:text-blue-800 hover:bg-blue-50",disabled:x===t.id||C.isPending,title:"Save changes to this question to the database",children:[x===t.id?Dt.jsx(sv,{className:"h-4 w-4 animate-spin"}):y===t.id?Dt.jsx(Fx,{className:"h-4 w-4"}):Dt.jsx(fv,{className:"h-4 w-4"}),x===t.id?"Updating...":y===t.id?"Updated!":"Update"]}),Dt.jsxs(Vv,{variant:"ghost",size:"sm",onClick:()=>(async t=>{try{await fetch(`/workshops/${e}/rubric/questions/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),s.invalidateQueries({queryKey:["rubric",e]})}catch(n){KS.error("Failed to delete question. Please try again.")}})(t.id),className:"text-red-600 hover:text-red-800 hover:bg-red-50",title:"Remove this question from the rubric",children:[Dt.jsx(kv,{className:"h-4 w-4"}),"Delete"]})]})]})},t.id)),o&&Dt.jsxs("div",{className:"border-2 border-dashed border-blue-300 rounded-xl p-6 bg-blue-50",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Dt.jsx(pv,{className:"h-5 w-5 text-blue-600"}),Dt.jsx("h3",{className:"font-medium text-blue-900",children:"Add New Rubric Question"})]}),Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"new-title",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Question Title"}),Dt.jsx(wC,{id:"new-title",value:c.title,onChange:e=>u({...c,title:e.target.value}),placeholder:"e.g., Response Helpfulness",className:"bg-white"})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"new-description",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Question Description"}),Dt.jsx(fC,{id:"new-description",value:c.description,onChange:e=>u({...c,description:e.target.value}),placeholder:"e.g., This response is helpful in addressing the user's needs.",className:"min-h-[80px] bg-white"})]})]}),Dt.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-4",children:[Dt.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Scale (standardized):"}),Dt.jsx("div",{className:"grid grid-cols-5 gap-4",children:[1,2,3,4,5].map(e=>Dt.jsxs("div",{className:"flex flex-col items-center gap-2",children:[Dt.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-blue-300 bg-white"}),Dt.jsx("label",{className:"text-xs text-center text-gray-600 leading-tight",children:["","Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"][e]})]},e))})]}),Dt.jsxs("div",{className:"flex gap-3 pt-2",children:[Dt.jsxs(Vv,{onClick:async()=>{if(c.title.trim()&&c.description.trim())try{const t={...c,id:Date.now().toString()},n=[...a,t];i(n);const r=(e=>e&&0!==e.length?e.map(e=>`${e.title}: ${e.description}`).join(kC):"")(n),o={question:r,created_by:"facilitator"};w?await C.mutateAsync(o):await _.mutateAsync(o),u({title:"",description:""}),l(!1),h(!1),s.invalidateQueries({queryKey:["rubric",e]})}catch(t){}},className:"flex items-center gap-2",disabled:!c.title.trim()||!c.description.trim()||_.isPending||C.isPending,children:[Dt.jsx(pv,{className:"h-4 w-4"}),_.isPending||C.isPending?"Saving...":"Save"]}),Dt.jsx(Vv,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})]}),a.length>0&&Dt.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx(Ux,{className:"h-4 w-4 text-green-600"}),Dt.jsx("span",{className:"font-medium text-green-800",children:"Rubric Summary"})]}),Dt.jsxs("p",{className:"text-sm text-green-700",children:[a.length," question",1!==a.length?"s":""," created. Each question will be rated on a 1-5 Likert scale during the annotation phase."]})]})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Cv,{className:"h-5 w-5 text-blue-600"}),"Next Steps"]})}),Dt.jsx(gx,{children:w&&a.length>0?Dt.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:Dt.jsx(Fx,{className:"w-5 h-5 text-green-600"})}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("p",{className:"text-sm text-green-800 font-medium mb-1",children:"Ready for Annotation Phase"}),Dt.jsxs("p",{className:"text-sm text-green-700",children:["Rubric is complete with ",a.length," question",1!==a.length?"s":"",". Use the sidebar workflow to start the annotation phase."]})]})]})}):Dt.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:Dt.jsx(Ox,{className:"w-5 h-5 text-amber-600"})}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("p",{className:"text-sm text-amber-800 font-medium mb-1",children:"Rubric Required"}),Dt.jsx("p",{className:"text-sm text-amber-700",children:"Create at least one rubric question before proceeding to the annotation phase."})]})]})})})]})]})})}const _C=e=>({id:e.id,input:e.input,output:e.output,context:e.context||void 0,mlflow_trace_id:e.mlflow_trace_id||void 0,mlflow_url:e.mlflow_url||void 0,mlflow_host:e.mlflow_host||void 0,mlflow_experiment_id:e.mlflow_experiment_id||void 0});function CC(){const{workshopId:e}=Ym(),[t,n]=Nt.useState(0),[r,s]=Nt.useState({}),[a,i]=Nt.useState(""),[o,l]=Nt.useState(new Set),[c,u]=Nt.useState(!1),[d,h]=Nt.useState(!1),p=Nt.useRef(null),[f,m]=Nt.useState({}),[g,x]=Nt.useState(""),{user:v}=Vm(),{canAnnotate:y}=Hm(),b=(null==v?void 0:v.id)||"demo_user";if(!v||!v.id)return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center max-w-md",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Please Log In"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"You must be logged in to annotate traces."})]})});const{data:w,isLoading:j,error:k}=ag(e,v.id),{data:N,isLoading:S}=cg(e),{data:_}=function(e,t){return Kp({queryKey:eg(e,null==t?void 0:t.id),queryFn:()=>$m.getAnnotationsWorkshopsWorkshopIdAnnotationsGet(e,null==t?void 0:t.id),enabled:!!e&&!!(null==t?void 0:t.id),staleTime:3e4,refetchInterval:!1,retry:3})}(e,v),{data:C}=pg(e),E=function(e){const t=$p();return Gp({mutationFn:t=>$m.submitAnnotationWorkshopsWorkshopIdAnnotationsPost(e,t),onMutate:async n=>{await t.cancelQueries({queryKey:["annotations",e,n.user_id]});const r=t.getQueryData(["annotations",e,n.user_id]);return t.setQueryData(["annotations",e,n.user_id],t=>{const r={id:`temp-${Date.now()}`,workshop_id:e,trace_id:n.trace_id,user_id:n.user_id,rating:n.rating,comment:n.comment,created_at:(new Date).toISOString()};return t?[...t,r]:[r]}),{previousAnnotations:r}},onError:(n,r,s)=>{(null==s?void 0:s.previousAnnotations)&&t.setQueryData(["annotations",e,r.user_id],s.previousAnnotations)},onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["annotations",e,r.user_id]}),t.invalidateQueries({queryKey:["workshop",e]}),t.invalidateQueries({queryKey:["irr",e]}),t.invalidateQueries({queryKey:["findings",e]}),t.refetchQueries({queryKey:["annotations",e,r.user_id]})}})}(e);$p();const P=(null==w?void 0:w.map(_C))||[],T=P[t],R=N?(e=>e&&e.question?NC(e.question).map((t,n)=>({id:`${e.id}_${n}`,title:t.title,description:t.description})):[])(N):[],I=()=>{const e=Object.keys(r),t=Object.keys(f);if(0===t.length&&e.length>0)return!o.has((null==T?void 0:T.id)||"");if(e.length!==t.length)return!0;for(const n of e)if(r[n]!==f[n])return!0;return a.trim()!==g.trim()};Nt.useEffect(()=>{l(new Set),s({}),i(""),n(0),u(!1),p.current=null,M.current=!1},[b]),Nt.useEffect(()=>{if((null==T?void 0:T.id)&&T.id!==p.current){s({}),i(""),m({}),x(""),p.current=T.id;const e=null==_?void 0:_.find(e=>e.trace_id===T.id&&e.user_id===b);if(e){let t={};if(e.ratings&&Object.keys(e.ratings).length>0)t=e.ratings;else{const n=R.length>0?R[0].id:"accuracy";t={[n]:e.rating}}const n=e.comment||"";s(t),i(n),m(t),x(n),l(e=>e.has(T.id)?e:new Set([...e,T.id]))}}},[null==T?void 0:T.id,_,b]);const M=Nt.useRef(!1);Nt.useEffect(()=>{if(_&&P.length>0&&!c&&!M.current){const e=new Set(P.map(e=>e.id)),t=new Set(_.filter(t=>e.has(t.trace_id)).map(e=>e.trace_id));l(t);const r=_.find(e=>e.trace_id===(null==T?void 0:T.id)&&e.user_id===b);if(r){let e={};if(r.ratings&&Object.keys(r.ratings).length>0)e=r.ratings;else{const t=R.length>0?R[0].id:"accuracy";e={[t]:r.rating}}const t=r.comment||"";s(e),i(t),m(e),x(t)}const a=P.findIndex(e=>!t.has(e.id));-1!==a?n(a):t.size===P.length?n(P.length-1):n(0),M.current=!0}},[_,P,c]);const D=o.size;Object.keys(r).length;const A=!y||0===Object.keys(r).length;return j||S?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading annotation interface..."}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Fetching traces and rubric from API"})]})}):k||!P.length?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:k?"Failed to load traces":"No traces available"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:k?"Please check your connection and try again":"Upload some traces to get started"})]})}):R&&0!==R.length?Dt.jsx("div",{className:"p-6",children:Dt.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Dt.jsxs("div",{children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Annotation Phase"}),Dt.jsx("p",{className:"text-gray-600 mb-4",children:"Rate LLM responses using the evaluation rubric"}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Dt.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),Dt.jsxs("span",{className:"text-sm text-gray-600",children:[D," of ",P.length," complete"]})]}),Dt.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Dt.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:D/P.length*100+"%"}})})]}),Dt.jsx("div",{className:"flex items-center justify-between",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsxs(Mv,{variant:"outline",children:["Trace ",t+1," of ",P.length]}),o.has(T.id)&&Dt.jsxs(Mv,{className:"bg-green-500",children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Annotation Submitted"]})]})})]}),Dt.jsx(r_,{trace:T}),Dt.jsxs(hx,{className:"mt-4",children:[Dt.jsx(px,{className:"pb-3",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx(fx,{className:"text-lg",children:"Trace Data Analysis"}),Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>h(!d),className:"flex items-center gap-2",children:[Dt.jsx(bv,{className:"h-4 w-4"}),d?"Hide":"Show"," Data Table"]})]})}),d&&Dt.jsx(gx,{children:Dt.jsx(pC,{trace:T,showContext:!1,className:"border-0 shadow-none"})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center justify-between",children:[Dt.jsx("span",{children:"Rate this Response"}),(null==T?void 0:T.mlflow_trace_id)&&Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>{if(T.mlflow_url)window.open(T.mlflow_url,"_blank");else if(C){const e=`${C.databricks_host}/ml/experiments/${C.experiment_id}/traces?selectedEvaluationId=${T.mlflow_trace_id}`;window.open(e,"_blank")}},className:"flex items-center gap-2 text-xs",children:[Dt.jsx(Ox,{className:"h-3 w-3"}),"View Full Context"]}),(null==T?void 0:T.mlflow_trace_id)&&!C&&Dt.jsx("div",{className:"text-xs text-orange-600",children:" MLflow config not loaded"}),!(null==T?void 0:T.mlflow_trace_id)&&Dt.jsx("div",{className:"text-xs text-gray-500",children:"No MLflow trace ID"})]}),!y&&Dt.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[Dt.jsx(Ox,{className:"h-4 w-4 inline mr-1"}),"You don't have permission to submit annotations. You can view the traces but cannot provide ratings."]})]}),Dt.jsxs(gx,{className:"space-y-6",children:[R.map((e,t)=>Dt.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[Dt.jsxs("div",{className:"mb-4",children:[Dt.jsx(vC,{className:"text-base font-medium",children:e.title}),Dt.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),Dt.jsx("div",{className:"space-y-4",children:Dt.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(t=>Dt.jsxs("div",{className:"flex flex-col items-center gap-2",children:[Dt.jsx("label",{className:y?"cursor-pointer":"cursor-not-allowed opacity-50",children:Dt.jsx("input",{type:"radio",name:`rating-${e.id}`,value:t,checked:r[e.id]===t,onChange:t=>{s(n=>({...n,[e.id]:parseInt(t.target.value)}))},className:"w-4 h-4",disabled:!y})}),Dt.jsx("span",{className:"text-xs text-center text-gray-700 leading-tight max-w-[80px]",children:["","Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"][t]})]},t))})})]},e.id)),0===R.length&&Dt.jsx("div",{className:"text-center text-gray-500 py-8",children:Dt.jsx("p",{children:"No evaluation criteria available. Please wait for the facilitator to create the rubric."})}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsxs(vC,{htmlFor:"comment",className:"text-sm font-medium",children:["Feedback for Judge Alignment",Dt.jsx("span",{className:"text-gray-500 font-normal ml-2",children:"(Optional)"})]}),Dt.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[Dt.jsx("strong",{children:"Important:"})," Your feedback here will be used to train and align the AI judge. Focus on explaining ",Dt.jsx("em",{children:"why"})," you gave this rating - what specific aspects of the response influenced your score? This helps the AI judge learn to evaluate similarly."]}),Dt.jsx("textarea",{id:"comment",placeholder:y?"Explain your reasoning for this rating. What made this response good or poor? What criteria did you focus on? This feedback will be used to train the AI judge...":"You don't have permission to submit annotations",value:a,onChange:e=>{i(e.target.value)},className:"w-full min-h-[100px] p-2 border rounded whitespace-pre-wrap",disabled:!y,style:{whiteSpace:"pre-wrap"}})]}),o.has(T.id)&&Dt.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-3",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Fx,{className:"h-4 w-4 text-green-600"}),Dt.jsx("span",{className:"text-sm text-green-800 font-medium",children:"Annotation Saved"})]}),Dt.jsx("span",{className:"text-xs text-green-700",children:"Edit and click Next/Previous to save changes"})]})]})]}),Dt.jsx(hx,{children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs(Vv,{variant:"outline",onClick:async()=>{if(T){if(Object.keys(r).length>0)try{const e=o.has(T.id),t=I();if(!e||t){const n=Object.values(r)[0];await E.mutateAsync({trace_id:T.id,user_id:b,rating:n,ratings:r,comment:a.trim()||null}),l(e=>new Set([...e,T.id])),e&&t?KS.success("Annotation updated!"):e||KS.success("Annotation saved!")}}catch(e){return void KS.error("Failed to save annotation. Please try again.")}t>0&&(u(!0),n(e=>e-1))}},disabled:0===t,className:"flex items-center gap-2",children:[Dt.jsx(Ix,{className:"h-4 w-4"}),"Previous"]}),Dt.jsx(Vv,{onClick:async()=>{if(T){if(Object.keys(r).length>0)try{const e=o.has(T.id),t=I();if(!e||t){const n=Object.values(r)[0],s={trace_id:T.id,user_id:b,rating:n,ratings:r,comment:a.trim()||null};await E.mutateAsync(s),l(e=>new Set([...e,T.id])),e&&t?KS.success("Annotation updated!"):e||KS.success("Annotation saved!")}}catch(e){return void KS.error("Failed to save annotation. Please try again.")}t<P.length-1&&(u(!0),n(e=>e+1),s({}),i(""))}},disabled:A,className:"flex items-center gap-2",children:t===P.length-1?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(gv,{className:"h-4 w-4"}),"Complete"]}):Dt.jsxs(Dt.Fragment,{children:["Next",Dt.jsx(Mx,{className:"h-4 w-4"})]})})]})})})]})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rubric available"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"A rubric must be created before annotations can begin"})]})})}const EC=e=>({id:e.id,input:e.input,output:e.output,context:e.context||void 0,mlflow_trace_id:e.mlflow_trace_id||void 0,mlflow_url:e.mlflow_url||void 0,mlflow_host:e.mlflow_host||void 0,mlflow_experiment_id:e.mlflow_experiment_id||void 0});function PC(e){const t=Nt.useRef({value:e,previous:e});return Nt.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function TC(e){const[t,n]=Nt.useState(void 0);return l_(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let s,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var RC="Switch",[IC,MC]=a_(RC),[DC,AC]=IC(RC),LC=Nt.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:o,value:l="on",onCheckedChange:c,form:u,...d}=e,[h,p]=Nt.useState(null),f=Ov(t,e=>p(e)),m=Nt.useRef(!1),g=!h||(u||!!h.closest("form")),[x,v]=g_({prop:s,defaultProp:a??!1,onChange:c,caller:RC});return Dt.jsxs(DC,{scope:n,checked:x,disabled:o,children:[Dt.jsx(h_.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":WC(x),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:f,onClick:s_(e.onClick,e=>{v(e=>!e),g&&(m.current=e.isPropagationStopped(),m.current||e.stopPropagation())})}),g&&Dt.jsx(zC,{control:h,bubbles:!m.current,name:r,value:l,checked:x,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});LC.displayName=RC;var OC="SwitchThumb",FC=Nt.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=AC(OC,n);return Dt.jsx(h_.span,{"data-state":WC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});FC.displayName=OC;var zC=Nt.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=Nt.useRef(null),o=Ov(i,a),l=PC(n),c=TC(t);return Nt.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&s){const t=new Event("click",{bubbles:r});s.call(e,n),e.dispatchEvent(t)}},[l,n,r]),Dt.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function WC(e){return e?"checked":"unchecked"}zC.displayName="SwitchBubbleInput";var UC=LC,$C=FC;const qC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(UC,{className:dx("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:Dt.jsx($C,{className:dx("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));qC.displayName=UC.displayName;const VC={ready_to_proceed:!0,calculated_at:(new Date).toISOString(),details:{suggestions:["Current reliability is acceptable for proceeding with evaluation","Consider increasing sample size for more robust results","Monitor consistency across different types of traces"],problematic_patterns:["Trace 3 shows low agreement (0.45) - may need clarification","Participant_1 shows lower consistency - may need additional training"]}};function BC({workshopId:e}){var t,n,r;const{workshopId:s}=Ym(),a=e||s,{isFacilitator:i}=Hm(),{markPhaseComplete:o}=gg(),l=$p(),[c,u]=Nt.useState(!1),[d,h]=Nt.useState(new Set),{data:p,isLoading:f,error:m}=function(e){return Kp({queryKey:tg(e),queryFn:()=>$m.getIrrWorkshopsWorkshopIdIrrGet(e),enabled:!!e})}(a),{data:g}=rg(a),{data:x}=cg(a),{data:v,refetch:y}=ig(a),{data:b}=dg(a),{data:w}=pg(a),j=function(e){const t=$p();return Gp({mutationFn:async({traceId:t,includeInAlignment:n})=>{const r=await fetch(`/workshops/${e}/traces/${t}/alignment?include_in_alignment=${n}`,{method:"PATCH"});if(!r.ok)throw new Error("Failed to update trace alignment");return r.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["traces",e]}),t.invalidateQueries({queryKey:["traces-for-alignment",e]})}})}(a),k=x?(e=>e&&e.question?NC(e.question).map((t,n)=>({id:`${e.id}_${n}`,title:t.title,description:t.description,index:n})):[])(x):[],N=(null==(t=null==p?void 0:p.details)?void 0:t.per_metric_scores)||{},S=Object.keys(N).length>0,_={};k.forEach(e=>{_[e.id]=e.title});const[C,E]=Nt.useState("");St.useEffect(()=>{const e=Object.keys(N)[0];e&&!C&&E(`metric-${e}`)},[N,C]);const P=p&&p.details&&"error"in p.details,T="judge_tuning"===(null==g?void 0:g.current_phase);Nt.useEffect(()=>{T&&o("results")},[T,o]);const R=p&&!P?p:VC,I=e=>e>=.8?"bg-green-100 text-green-800":e>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return f?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading IRR results..."}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Calculating inter-rater reliability"})]})}):m?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load IRR results"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:m?"Error loading data from API":"Please check your connection and try again"})]})}):P?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Insufficient Data for IRR Calculation"}),Dt.jsx("div",{className:"text-sm text-gray-500 mb-4",children:(null==(n=null==p?void 0:p.details)?void 0:n.error)||"Need more annotations to calculate inter-rater reliability"}),Dt.jsxs("div",{className:"text-sm text-gray-600",children:[Dt.jsx("p",{children:"Complete the annotation phase to view IRR results."}),Dt.jsxs("p",{className:"mt-2",children:["Current annotations: ",(null==(r=null==p?void 0:p.details)?void 0:r.num_annotations)||0]})]})]})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Dt.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"LLM Judge Calibration Workshop"}),Dt.jsx("p",{className:"text-lg text-gray-600",children:"Inter-Rater Reliability Results"}),Dt.jsxs("div",{className:"mt-2 space-x-2",children:[Dt.jsx(Mv,{variant:"outline",children:"Facilitator View"}),(!p||P)&&Dt.jsxs(Mv,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[Dt.jsx(nv,{className:"h-3 w-3 mr-1"}),"Demo Data"]})]})]}),Dt.jsx(hx,{children:Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center justify-between",children:[Dt.jsxs("span",{className:"flex items-center gap-2",children:[Dt.jsx(Ex,{className:"h-5 w-5"}),"IRR Results Summary"]}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>{var e,t;if(!p)return;const n=p.details,r=`\n# Inter-Rater Reliability Analysis Report\nGenerated: ${(new Date).toLocaleString()}\nWorkshop ID: ${a}\nWorkshop Name: ${(null==g?void 0:g.name)||"Unknown Workshop"}\n\n## Summary\n${null==n?void 0:n.metric_used}: ${p.score.toFixed(3)}\nInterpretation: ${null==n?void 0:n.interpretation}\nReady to Proceed: ${p.ready_to_proceed?"Yes":"No"}\n\n## Data Overview\n- Number of Raters: ${(null==n?void 0:n.num_raters)||0}\n- Number of Traces: ${(null==n?void 0:n.num_traces)||0}\n- Total Annotations: ${(null==n?void 0:n.num_annotations)||0}\n- Data Completeness: ${(100*((null==n?void 0:n.completeness)||0)).toFixed(1)}%\n\n## Key Insights\n${(null==(e=null==n?void 0:n.suggestions)?void 0:e.map((e,t)=>`${t+1}. ${e}`).join("\n"))||"No suggestions available"}\n\n## Identified Issues\n${(null==(t=null==n?void 0:n.problematic_patterns)?void 0:t.map((e,t)=>`${t+1}. ${e}`).join("\n"))||"No issues identified"}\n\n---\nReport generated by Databricks LLM-Judge Builder Workshop\n    `.trim(),s=new Blob([r],{type:"text/plain"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=`irr_analysis_report_${null==a?void 0:a.slice(0,8)}_${(new Date).toISOString().split("T")[0]}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},children:[Dt.jsx(Gx,{className:"h-4 w-4 mr-2"}),"Save Report"]}),Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>{var e,t,n;if(!p)return;const r={workshop_id:a,workshop_name:(null==g?void 0:g.name)||"Unknown Workshop",exported_at:(new Date).toISOString(),irr_analysis:p,metadata:{export_type:"irr_results",workshop_phase:null==g?void 0:g.current_phase,total_annotations:(null==(e=p.details)?void 0:e.num_annotations)||0,total_traces:(null==(t=p.details)?void 0:t.num_traces)||0,total_raters:(null==(n=p.details)?void 0:n.num_raters)||0}},s=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=`irr_results_${null==a?void 0:a.slice(0,8)}_${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},children:[Dt.jsx(Hx,{className:"h-4 w-4 mr-2"}),"Export Data"]}),Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:async()=>{if(a)try{KS.info("Recalculating IRR...");if(!(await fetch(`/workshops/${a}/irr`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("IRR calculation failed");l.invalidateQueries({queryKey:["irr",a]}),KS.success("IRR recalculated successfully!")}catch(e){KS.error("Failed to recalculate IRR")}},children:[Dt.jsx(fv,{className:"h-4 w-4 mr-2"}),"Recalculate"]})]})]}),Dt.jsx(mx,{children:"Krippendorff's Alpha calculated separately for each evaluation criterion"})]})}),Dt.jsxs(rC,{value:C,onValueChange:E,children:[Dt.jsx(sC,{className:`grid w-full ${1===Object.keys(N).length?"grid-cols-1":2===Object.keys(N).length?"grid-cols-2":3===Object.keys(N).length?"grid-cols-3":4===Object.keys(N).length?"grid-cols-4":5===Object.keys(N).length?"grid-cols-5":6===Object.keys(N).length?"grid-cols-6":"grid-cols-4"} ${Object.keys(N).length>6?"overflow-x-auto":""}`,children:S&&Object.keys(N).map(e=>Dt.jsx(aC,{value:`metric-${e}`,children:_[e]||e},e))}),S&&Object.entries(N).map(([e,t])=>{var n,r,s,a,o,l;return Dt.jsxs(iC,{value:`metric-${e}`,className:"space-y-4",children:[Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(wv,{className:"h-5 w-5"}),_[e]||e]}),Dt.jsx(mx,{children:(null==(n=k.find(t=>t.id===e))?void 0:n.description)||"Inter-rater reliability for this evaluation criterion"})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"mb-2",children:Dt.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Krippendorff's Alpha"})}),Dt.jsx("div",{className:"text-4xl font-bold "+(l=t.score,l>=.8?"text-green-600":l>=.6?"text-yellow-600":"text-red-600"),children:t.score.toFixed(3)}),Dt.jsx("div",{className:"mt-2",children:Dt.jsx(Mv,{className:I(t.score),children:t.interpretation})})]}),Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"mb-2",children:Dt.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})}),Dt.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(o=t.acceptable,o?Dt.jsx(Fx,{className:"h-5 w-5 text-green-600"}):Dt.jsx(zx,{className:"h-5 w-5 text-red-600"})),Dt.jsx("span",{className:"font-medium "+(t.acceptable?"text-green-600":"text-red-600"),children:t.acceptable?"Acceptable":"Needs Improvement"})]}),Dt.jsx("div",{className:"text-sm text-gray-500",children:t.acceptable?"Reliability is sufficient for this criterion":"Consider additional calibration for this criterion"})]})]})})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(rv,{className:"h-5 w-5 text-yellow-600"}),"Recommendations"]})}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"space-y-3",children:((null==(r=R.details)?void 0:r.suggestions)||[]).map((e,t)=>Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(wv,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),Dt.jsx("span",{className:"text-sm text-gray-700",children:e})]},t))})})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Ox,{className:"h-5 w-5 text-orange-600"}),"Identified Issues"]})}),Dt.jsx(gx,{children:((null==(s=R.details)?void 0:s.problematic_patterns)||[]).length>0?Dt.jsx("div",{className:"space-y-3",children:((null==(a=R.details)?void 0:a.problematic_patterns)||[]).map((e,t)=>Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(nv,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),Dt.jsx("span",{className:"text-sm text-gray-700",children:e})]},t))}):Dt.jsxs("div",{className:"text-center py-4 text-gray-500",children:[Dt.jsx(Fx,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),Dt.jsx("p",{children:"No significant issues detected"})]})})]})]}),(()=>{const t=((e,t,n=null)=>{if(!e||!t)return{};const r={};return e.forEach(e=>{const s=t.filter(t=>t.trace_id===e.id);if(s.length>=2){const t=s.map(e=>n&&e.ratings&&void 0!==e.ratings[n]?e.ratings[n]:e.rating).filter(e=>null!=e);if(t.length<2)return;const a=t.reduce((e,t)=>e+t,0)/t.length,i=t.reduce((e,t)=>e+Math.pow(t-a,2),0)/t.length,o=Math.sqrt(i);r[e.id]={agreement:o,ratingCount:t.length}}}),r})(v,b,e);return Object.keys(t).length>0?Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(iv,{className:"h-5 w-5"}),"Traces by Disagreement Level - ",_[e]||e]}),Dt.jsx(mx,{children:"Traces sorted by disagreement level for this specific criterion (most disagreement first)."})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-3",children:[(()=>{const n=Object.entries(t).filter(([,e])=>e.agreement>1.5).sort(([,e],[,t])=>t.agreement-e.agreement);return n.length>0?Dt.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx(Ox,{className:"h-4 w-4 text-red-600"}),Dt.jsx("span",{className:"font-medium text-red-800",children:"Priority Discussion Needed"})]}),Dt.jsxs("p",{className:"text-sm text-red-700 mb-2",children:[n.length," trace",1!==n.length?"s":""," with high disagreement ( > 1.5) for ",_[e]||e,":"]}),Dt.jsxs("div",{className:"space-y-1",children:[n.slice(0,3).map(([t,n])=>Dt.jsxs("div",{className:"flex items-center justify-between text-xs",children:[Dt.jsxs("span",{className:"text-red-700",children:["Trace ",t.slice(0,8),"... -  = ",n.agreement.toFixed(2)]}),Dt.jsx(Vv,{variant:"ghost",size:"sm",className:"h-6 px-2 text-red-600 hover:text-red-800",onClick:()=>{const n=document.getElementById(`trace-${e}-${t}`);n&&(n.scrollIntoView({behavior:"smooth"}),h(n=>new Set([...n,`${e}-${t}`])))},children:"View"})]},t)),n.length>3&&Dt.jsxs("div",{className:"text-xs text-red-600 italic",children:["...and ",n.length-3," more"]})]})]}):null})(),Object.entries((n=t,Object.entries(n).sort(([,e],[,t])=>t.agreement-e.agreement).reduce((e,[t,n])=>({...e,[t]:n}),{}))).map(([t,n])=>{const r=null==v?void 0:v.find(e=>e.id===t),s=n.agreement,a=e=>e<.5?"bg-green-500":e<1?"bg-green-400":e<1.5?"bg-yellow-400":e<2?"bg-orange-400":"bg-red-500",o=(null==b?void 0:b.filter(e=>e.trace_id===t))||[],l=d.has(`${e}-${t}`);return o.forEach(t=>{t.ratings&&void 0!==t.ratings[e]?t.ratings[e]:t.rating}),Dt.jsxs("div",{id:`trace-${e}-${t}`,className:"border rounded-lg p-4 "+(s>1.5?"border-orange-300 bg-orange-50":s>1?"border-yellow-300 bg-yellow-50":"border-gray-200 bg-white"),children:[Dt.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:opacity-80",onClick:()=>{const n=new Set(d),r=`${e}-${t}`;n.has(r)?n.delete(r):n.add(r),h(n)},children:[Dt.jsxs("span",{className:"font-medium flex items-center gap-2",children:[Dt.jsx(iv,{className:"h-4 w-4"}),"Trace ",((null==r?void 0:r.mlflow_trace_id)||t).slice(0,20),"...",s>1.5&&Dt.jsx(Mv,{className:"bg-red-500 text-white text-xs",children:"High Disagreement"}),!1===(null==r?void 0:r.include_in_alignment)&&Dt.jsx(Mv,{variant:"outline",className:"bg-gray-100 text-gray-600 border-gray-200 text-xs",children:"Excluded"}),l?Dt.jsx(Dx,{className:"h-4 w-4"}):Dt.jsx(Rx,{className:"h-4 w-4"})]}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[(null==r?void 0:r.mlflow_trace_id)&&Dt.jsxs(Vv,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:e=>{if(e.stopPropagation(),r.mlflow_url)window.open(r.mlflow_url,"_blank");else if(w){const e=`${w.databricks_host}/ml/experiments/${w.experiment_id}/traces?selectedEvaluationId=${r.mlflow_trace_id}`;window.open(e,"_blank")}else KS.error("MLflow configuration not available")},children:[Dt.jsx(Qx,{className:"h-3 w-3 mr-1"}),"MLflow"]}),Dt.jsxs(Mv,{variant:"outline",className:"text-xs",children:[n.ratingCount," ratings"]}),Dt.jsxs(Mv,{className:`${a(s)} text-white`,children:[" = ",s.toFixed(2)]})]})]}),Dt.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-2 overflow-hidden",children:Dt.jsx("div",{className:`h-3 transition-all duration-300 ${a(s)}`,style:{width:`${Math.max(5,100-40*s)}%`}})}),Dt.jsxs("div",{className:"text-xs mt-1 "+(c=s,c<.5?"text-green-700":c<1?"text-green-600":c<1.5?"text-yellow-700":c<2?"text-orange-700":"text-red-700"),children:[s<.5&&" Perfect agreement",s>=.5&&s<1&&" Good agreement",s>=1&&s<1.5&&"~ Moderate disagreement",s>=1.5&&s<2&&" High disagreement - discuss",s>=2&&" Very high disagreement - priority discussion"]}),l&&Dt.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[Dt.jsxs("div",{className:"text-sm font-medium mb-2",children:["Rating Details for ",_[e]||e,":"]}),Dt.jsx("div",{className:"flex items-center gap-2 mb-3",children:[1,2,3,4,5].map(t=>Dt.jsxs("div",{className:"flex flex-col items-center",children:[Dt.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 min-h-[20px] mb-1",children:o.filter(n=>(n.ratings&&void 0!==n.ratings[e]?n.ratings[e]:n.rating)===t).map((e,n)=>Dt.jsx("div",{className:"w-2 h-2 rounded-full "+(t<=2?"bg-red-400":3===t?"bg-yellow-400":"bg-green-400"),title:e.user_name||e.user_id},n))}),Dt.jsx("span",{className:"text-xs font-medium",children:t})]},t))}),Dt.jsx("div",{className:"space-y-1",children:o.map((t,n)=>{const r=t.ratings&&void 0!==t.ratings[e]?t.ratings[e]:t.rating;return Dt.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[Dt.jsxs("span",{children:[t.user_name||t.user_id,":"]}),Dt.jsxs("div",{className:"flex items-center gap-1",children:[Dt.jsx("span",{className:"font-medium",children:r}),Dt.jsx("div",{className:"w-2 h-2 rounded-full "+(r<=2?"bg-red-400":3===r?"bg-yellow-400":"bg-green-400")})]})]},n)})}),i&&r&&Dt.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Include in Judge Alignment"}),Dt.jsx("div",{className:"text-xs text-blue-700 mt-1",children:s>1.5?"High disagreement detected. Consider excluding from alignment.":"This trace will be used to train the AI judge."})]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx(qC,{checked:!1!==r.include_in_alignment,onCheckedChange:e=>{j.mutate({traceId:r.id,includeInAlignment:e},{onSuccess:()=>{KS.success(e?"Trace will be included in alignment":"Trace excluded from alignment"),y()},onError:()=>{KS.error("Failed to update alignment setting")}})},disabled:j.isPending}),Dt.jsx(Mv,{variant:"outline",className:!1!==r.include_in_alignment?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200",children:!1!==r.include_in_alignment?"Included":"Excluded"})]})]})}),r&&Dt.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[Dt.jsx("div",{className:"text-sm font-medium mb-3 text-gray-700",children:"Trace Content - What the annotators are rating:"}),Dt.jsx(r_,{trace:EC(r)})]})]})]},t);var c})]})})]}):Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{children:["Trace Analysis - ",_[e]||e]})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"text-center py-4 text-gray-500",children:[Dt.jsx(nv,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),Dt.jsx("p",{children:"No trace data available for this metric"})]})})]});var n})()]},e)})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Sx,{className:"h-5 w-5 text-green-600"}),"Next Steps"]})}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"p-4 rounded-lg border-2 "+(T?"border-blue-200 bg-blue-50":R.ready_to_proceed?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50"),children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("p",{className:"text-sm font-medium mb-1 "+(T?"text-blue-800":R.ready_to_proceed?"text-green-800":"text-yellow-800"),children:T?"Workshop in Judge Tuning Phase":R.ready_to_proceed?"Workshop Complete - Ready for Evaluation":"Additional Calibration Recommended"}),Dt.jsx("p",{className:"text-sm "+(T?"text-blue-700":R.ready_to_proceed?"text-green-700":"text-yellow-700"),children:T?"The workshop has advanced to the judge tuning phase where AI judges can be created and evaluated.":R.ready_to_proceed?"The inter-rater reliability is sufficient to proceed with confident evaluation of LLM outputs.":"Consider additional training or rubric refinement before proceeding with evaluation."})]}),i?Dt.jsx("div",{className:"flex flex-col gap-2",children:T?Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs(Vv,{className:"flex items-center gap-2",disabled:!0,children:["Workshop in Judge Tuning Phase",Dt.jsx(Fx,{className:"h-4 w-4"})]}),Dt.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Judge tuning phase is active"})]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Vv,{className:"flex items-center gap-2",onClick:async()=>{if(a){u(!0);try{await $m.advanceToJudgeTuningWorkshopsWorkshopIdAdvanceToJudgeTuningPost(a),o("results"),l.invalidateQueries({queryKey:["workshop",a]})}catch(e){}finally{u(!1)}}},disabled:c,children:c?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(fv,{className:"h-4 w-4 animate-spin"}),"Advancing..."]}):Dt.jsxs(Dt.Fragment,{children:["Proceed to Judge Tuning",Dt.jsx(Cx,{className:"h-4 w-4"})]})}),Dt.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Create AI judges from annotation data"})]})}):Dt.jsxs(Vv,{className:"flex items-center gap-2",disabled:!0,children:[R.ready_to_proceed?"Workshop Complete":"Continue Calibration",Dt.jsx(Fx,{className:"h-4 w-4"})]})]})})})]})]})})}const HC=Rv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),QC=Nt.forwardRef(({className:e,variant:t,...n},r)=>Dt.jsx("div",{ref:r,role:"alert",className:dx(HC({variant:t}),e),...n}));QC.displayName="Alert";Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("h5",{ref:n,className:dx("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";const KC=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx("div",{ref:n,className:dx("text-sm [&_p]:leading-relaxed",e),...t}));function GC(e,[t,n]){return Math.min(n,Math.max(t,e))}KC.displayName="AlertDescription";var YC,JC="dismissableLayer.update",XC="dismissableLayer.pointerDownOutside",ZC="dismissableLayer.focusOutside",eE=Nt.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tE=Nt.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...l}=e,c=Nt.useContext(eE),[u,d]=Nt.useState(null),h=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,p]=Nt.useState({}),f=Ov(t,e=>d(e)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(g),v=u?m.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,b=v>=x,w=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=f_(e),r=Nt.useRef(!1),s=Nt.useRef(()=>{});return Nt.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){rE(XC,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...c.branches].some(e=>e.contains(t));b&&!n&&(null==s||s(e),null==i||i(e),e.defaultPrevented||null==o||o())},h),j=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=f_(e),r=Nt.useRef(!1);return Nt.useEffect(()=>{const e=e=>{if(e.target&&!r.current){rE(ZC,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(null==a||a(e),null==i||i(e),e.defaultPrevented||null==o||o())},h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=f_(e);Nt.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{v===c.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&o&&(e.preventDefault(),o()))},h),Nt.useEffect(()=>{if(u)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(YC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),nE(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=YC)}},[u,h,n,c]),Nt.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),nE())},[u,c]),Nt.useEffect(()=>{const e=()=>p({});return document.addEventListener(JC,e),()=>document.removeEventListener(JC,e)},[]),Dt.jsx(h_.div,{...l,ref:f,style:{pointerEvents:y?b?"auto":"none":void 0,...e.style},onFocusCapture:s_(e.onFocusCapture,j.onFocusCapture),onBlurCapture:s_(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:s_(e.onPointerDownCapture,w.onPointerDownCapture)})});tE.displayName="DismissableLayer";function nE(){const e=new CustomEvent(JC);document.dispatchEvent(e)}function rE(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?p_(s,a):s.dispatchEvent(a)}Nt.forwardRef((e,t)=>{const n=Nt.useContext(eE),r=Nt.useRef(null),s=Ov(t,r);return Nt.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),Dt.jsx(h_.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var sE=0;function aE(){Nt.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??iE()),document.body.insertAdjacentElement("beforeend",e[1]??iE()),sE++,()=>{1===sE&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sE--}},[])}function iE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oE="focusScope.autoFocusOnMount",lE="focusScope.autoFocusOnUnmount",cE={bubbles:!1,cancelable:!0},uE=Nt.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[o,l]=Nt.useState(null),c=f_(s),u=f_(a),d=Nt.useRef(null),h=Ov(t,e=>l(e)),p=Nt.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Nt.useEffect(()=>{if(r){let e=function(e){if(p.paused||!o)return;const t=e.target;o.contains(t)?d.current=t:fE(d.current,{select:!0})},t=function(e){if(p.paused||!o)return;const t=e.relatedTarget;null!==t&&(o.contains(t)||fE(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&fE(o)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return o&&r.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,o,p.paused]),Nt.useEffect(()=>{if(o){mE.add(p);const t=document.activeElement;if(!o.contains(t)){const n=new CustomEvent(oE,cE);o.addEventListener(oE,c),o.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fE(r,{select:t}),document.activeElement!==n)return}((e=dE(o),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&fE(o))}return()=>{o.removeEventListener(oE,c),setTimeout(()=>{const e=new CustomEvent(lE,cE);o.addEventListener(lE,u),o.dispatchEvent(e),e.defaultPrevented||fE(t??document.body,{select:!0}),o.removeEventListener(lE,u),mE.remove(p)},0)}}var e},[o,c,u,p]);const f=Nt.useCallback(e=>{if(!n&&!r)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[r,a]=function(e){const t=dE(e),n=hE(t,e),r=hE(t.reverse(),e);return[n,r]}(t);r&&a?e.shiftKey||s!==a?e.shiftKey&&s===r&&(e.preventDefault(),n&&fE(a,{select:!0})):(e.preventDefault(),n&&fE(r,{select:!0})):s===t&&e.preventDefault()}},[n,r,p.paused]);return Dt.jsx(h_.div,{tabIndex:-1,...i,ref:h,onKeyDown:f})});function dE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hE(e,t){for(const n of e)if(!pE(n,{upTo:t}))return n}function pE(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function fE(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}uE.displayName="FocusScope";var mE=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=gE(e,t),e.unshift(t)},remove(t){var n;e=gE(e,t),null==(n=e[0])||n.resume()}}}();function gE(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const xE=["top","right","bottom","left"],vE=Math.min,yE=Math.max,bE=Math.round,wE=Math.floor,jE=e=>({x:e,y:e}),kE={left:"right",right:"left",bottom:"top",top:"bottom"},NE={start:"end",end:"start"};function SE(e,t,n){return yE(e,vE(t,n))}function _E(e,t){return"function"==typeof e?e(t):e}function CE(e){return e.split("-")[0]}function EE(e){return e.split("-")[1]}function PE(e){return"x"===e?"y":"x"}function TE(e){return"y"===e?"height":"width"}const RE=new Set(["top","bottom"]);function IE(e){return RE.has(CE(e))?"y":"x"}function ME(e){return PE(IE(e))}function DE(e){return e.replace(/start|end/g,e=>NE[e])}const AE=["left","right"],LE=["right","left"],OE=["top","bottom"],FE=["bottom","top"];function zE(e,t,n,r){const s=EE(e);let a=function(e,t,n){switch(e){case"top":case"bottom":return n?t?LE:AE:t?AE:LE;case"left":case"right":return t?OE:FE;default:return[]}}(CE(e),"start"===n,r);return s&&(a=a.map(e=>e+"-"+s),t&&(a=a.concat(a.map(DE)))),a}function WE(e){return e.replace(/left|right|bottom|top/g,e=>kE[e])}function UE(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function $E(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function qE(e,t,n){let{reference:r,floating:s}=e;const a=IE(t),i=ME(t),o=TE(i),l=CE(t),c="y"===a,u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[o]/2-s[o]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(EE(t)){case"start":p[i]-=h*(n&&c?-1:1);break;case"end":p[i]+=h*(n&&c?-1:1)}return p}async function VE(e,t){var n;void 0===t&&(t={});const{x:r,y:s,platform:a,rects:i,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=_E(t,e),f=UE(p),m=o[h?"floating"===d?"reference":"floating":d],g=$E(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),x="floating"===d?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),y=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},b=$E(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:v,strategy:l}):x);return{top:(g.top-b.top+f.top)/y.y,bottom:(b.bottom-g.bottom+f.bottom)/y.y,left:(g.left-b.left+f.left)/y.x,right:(b.right-g.right+f.right)/y.x}}function BE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function HE(e){return xE.some(t=>e[t]>=0)}const QE=new Set(["left","top"]);function KE(){return"undefined"!=typeof window}function GE(e){return XE(e)?(e.nodeName||"").toLowerCase():"#document"}function YE(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function JE(e){var t;return null==(t=(XE(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function XE(e){return!!KE()&&(e instanceof Node||e instanceof YE(e).Node)}function ZE(e){return!!KE()&&(e instanceof Element||e instanceof YE(e).Element)}function eP(e){return!!KE()&&(e instanceof HTMLElement||e instanceof YE(e).HTMLElement)}function tP(e){return!(!KE()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof YE(e).ShadowRoot)}const nP=new Set(["inline","contents"]);function rP(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=mP(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!nP.has(s)}const sP=new Set(["table","td","th"]);function aP(e){return sP.has(GE(e))}const iP=[":popover-open",":modal"];function oP(e){return iP.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const lP=["transform","translate","scale","rotate","perspective"],cP=["transform","translate","scale","rotate","perspective","filter"],uP=["paint","layout","strict","content"];function dP(e){const t=hP(),n=ZE(e)?mP(e):e;return lP.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||cP.some(e=>(n.willChange||"").includes(e))||uP.some(e=>(n.contain||"").includes(e))}function hP(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const pP=new Set(["html","body","#document"]);function fP(e){return pP.has(GE(e))}function mP(e){return YE(e).getComputedStyle(e)}function gP(e){return ZE(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xP(e){if("html"===GE(e))return e;const t=e.assignedSlot||e.parentNode||tP(e)&&e.host||JE(e);return tP(t)?t.host:t}function vP(e){const t=xP(e);return fP(t)?e.ownerDocument?e.ownerDocument.body:e.body:eP(t)&&rP(t)?t:vP(t)}function yP(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const s=vP(e),a=s===(null==(r=e.ownerDocument)?void 0:r.body),i=YE(s);if(a){const e=bP(i);return t.concat(i,i.visualViewport||[],rP(s)?s:[],e&&n?yP(e):[])}return t.concat(s,yP(s,[],n))}function bP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wP(e){const t=mP(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=eP(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,o=bE(n)!==a||bE(r)!==i;return o&&(n=a,r=i),{width:n,height:r,$:o}}function jP(e){return ZE(e)?e:e.contextElement}function kP(e){const t=jP(e);if(!eP(t))return jE(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=wP(t);let i=(a?bE(n.width):n.width)/r,o=(a?bE(n.height):n.height)/s;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}const NP=jE(0);function SP(e){const t=YE(e);return hP()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:NP}function _P(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),a=jP(e);let i=jE(1);t&&(r?ZE(r)&&(i=kP(r)):i=kP(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==YE(e))&&t}(a,n,r)?SP(a):jE(0);let l=(s.left+o.x)/i.x,c=(s.top+o.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(a){const e=YE(a),t=r&&ZE(r)?YE(r):r;let n=e,s=bP(n);for(;s&&r&&t!==n;){const e=kP(s),t=s.getBoundingClientRect(),r=mP(s),a=t.left+(s.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(s.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=i,n=YE(s),s=bP(n)}}return $E({width:u,height:d,x:l,y:c})}function CP(e,t){const n=gP(e).scrollLeft;return t?t.left+n:_P(JE(e)).left+n}function EP(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:CP(e,r)),y:r.top+t.scrollTop}}const PP=new Set(["absolute","fixed"]);function TP(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=YE(e),r=JE(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,o=0,l=0;if(s){a=s.width,i=s.height;const e=hP();(!e||e&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:a,height:i,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=JE(e),n=gP(e),r=e.ownerDocument.body,s=yE(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=yE(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+CP(e);const o=-n.scrollTop;return"rtl"===mP(r).direction&&(i+=yE(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:o}}(JE(e));else if(ZE(t))r=function(e,t){const n=_P(e,!0,"fixed"===t),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=eP(e)?kP(e):jE(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:s*a.x,y:r*a.y}}(t,n);else{const n=SP(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return $E(r)}function RP(e,t){const n=xP(e);return!(n===t||!ZE(n)||fP(n))&&("fixed"===mP(n).position||RP(n,t))}function IP(e,t,n){const r=eP(t),s=JE(t),a="fixed"===n,i=_P(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=jE(0);function c(){l.x=CP(s)}if(r||!r&&!a)if(("body"!==GE(t)||rP(s))&&(o=gP(t)),r){const e=_P(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&c();a&&!r&&s&&c();const u=!s||r||a?jE(0):EP(s,o);return{x:i.left+o.scrollLeft-l.x-u.x,y:i.top+o.scrollTop-l.y-u.y,width:i.width,height:i.height}}function MP(e){return"static"===mP(e).position}function DP(e,t){if(!eP(e)||"fixed"===mP(e).position)return null;if(t)return t(e);let n=e.offsetParent;return JE(e)===n&&(n=n.ownerDocument.body),n}function AP(e,t){const n=YE(e);if(oP(e))return n;if(!eP(e)){let t=xP(e);for(;t&&!fP(t);){if(ZE(t)&&!MP(t))return t;t=xP(t)}return n}let r=DP(e,t);for(;r&&aP(r)&&MP(r);)r=DP(r,t);return r&&fP(r)&&MP(r)&&!dP(r)?n:r||function(e){let t=xP(e);for(;eP(t)&&!fP(t);){if(dP(t))return t;if(oP(t))return null;t=xP(t)}return null}(e)||n}const LP={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a="fixed"===s,i=JE(r),o=!!t&&oP(t.floating);if(r===i||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=jE(1);const u=jE(0),d=eP(r);if((d||!d&&!a)&&(("body"!==GE(r)||rP(i))&&(l=gP(r)),eP(r))){const e=_P(r);c=kP(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!i||d||a?jE(0):EP(i,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:JE,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[..."clippingAncestors"===n?oP(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=yP(e,[],!1).filter(e=>ZE(e)&&"body"!==GE(e)),s=null;const a="fixed"===mP(e).position;let i=a?xP(e):e;for(;ZE(i)&&!fP(i);){const t=mP(i),n=dP(i);n||"fixed"!==t.position||(s=null),(a?!n&&!s:!n&&"static"===t.position&&s&&PP.has(s.position)||rP(i)&&!n&&RP(e,i))?r=r.filter(e=>e!==i):s=t,i=xP(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=a[0],o=a.reduce((e,n)=>{const r=TP(t,n,s);return e.top=yE(r.top,e.top),e.right=vE(r.right,e.right),e.bottom=vE(r.bottom,e.bottom),e.left=yE(r.left,e.left),e},TP(t,i,s));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:AP,getElementRects:async function(e){const t=this.getOffsetParent||AP,n=this.getDimensions,r=await n(e.floating);return{reference:IP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=wP(e);return{width:t,height:n}},getScale:kP,isElement:ZE,isRTL:function(e){return"rtl"===mP(e).direction}};function OP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FP(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=jP(e),u=s||a?[...c?yP(c):[],...yP(t)]:[];u.forEach(e=>{s&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const d=c&&o?function(e,t){let n,r=null;const s=JE(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(o||t(),!h||!p)return;const f={rootMargin:-wE(d)+"px "+-wE(s.clientWidth-(u+h))+"px "+-wE(s.clientHeight-(d+p))+"px "+-wE(u)+"px",threshold:yE(0,vE(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||OP(c,e.getBoundingClientRect())||i(),m=!1}try{r=new IntersectionObserver(g,{...f,root:s.ownerDocument})}catch(x){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),a}(c,n):null;let h,p=-1,f=null;i&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let m=l?_P(e):null;return l&&function t(){const r=_P(e);m&&!OP(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{s&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const zP=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:s}=e,a=await(null==r.isRTL?void 0:r.isRTL(s.floating)),i=CE(n),o=EE(n),l="y"===IE(n),c=QE.has(i)?-1:1,u=a&&l?-1:1,d=_E(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}(t,e);return i===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:s+l.x,y:a+l.y,data:{...l,placement:i}}}}},WP=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=_E(e,t),c={x:n,y:r},u=await VE(t,l),d=IE(CE(s)),h=PE(d);let p=c[h],f=c[d];if(a){const e="y"===h?"bottom":"right";p=SE(p+u["y"===h?"top":"left"],p,p-u[e])}if(i){const e="y"===d?"bottom":"right";f=SE(f+u["y"===d?"top":"left"],f,f-u[e])}const m=o.fn({...t,[h]:p,[d]:f});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:a,[d]:i}}}}}},UP=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=_E(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const x=CE(s),v=IE(o),y=CE(o)===o,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(y||!m?[WE(o)]:function(e){const t=WE(e);return[DE(e),t,DE(t)]}(o)),j="none"!==f;!h&&j&&w.push(...zE(o,m,f,b));const k=[o,...w],N=await VE(t,g),S=[];let _=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&S.push(N[x]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=EE(e),s=ME(e),a=TE(s);let i="x"===s?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=WE(i)),[i,WE(i)]}(s,i,b);S.push(N[e[0]],N[e[1]])}if(_=[..._,{placement:s,overflows:S}],!S.every(e=>e<=0)){var C,E;const e=((null==(C=a.flip)?void 0:C.index)||0)+1,t=k[e];if(t){if(!("alignment"===d&&v!==IE(t))||_.every(e=>e.overflows[0]>0&&IE(e.placement)===v))return{data:{index:e,overflows:_},reset:{placement:t}}}let n=null==(E=_.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!n)switch(p){case"bestFit":{var P;const e=null==(P=_.filter(e=>{if(j){const t=IE(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=o}if(s!==n)return{reset:{placement:n}}}return{}}}},$P=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:o}=t,{apply:l=()=>{},...c}=_E(e,t),u=await VE(t,c),d=CE(s),h=EE(s),p="y"===IE(s),{width:f,height:m}=a.floating;let g,x;"top"===d||"bottom"===d?(g=d,x=h===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(x=d,g="end"===h?"top":"bottom");const v=m-u.top-u.bottom,y=f-u.left-u.right,b=vE(m-u[g],v),w=vE(f-u[x],y),j=!t.middlewareData.shift;let k=b,N=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(N=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=v),j&&!h){const e=yE(u.left,0),t=yE(u.right,0),n=yE(u.top,0),r=yE(u.bottom,0);p?N=f-2*(0!==e||0!==t?e+t:yE(u.left,u.right)):k=m-2*(0!==n||0!==r?n+r:yE(u.top,u.bottom))}await l({...t,availableWidth:N,availableHeight:k});const S=await i.getDimensions(o.floating);return f!==S.width||m!==S.height?{reset:{rects:!0}}:{}}}},qP=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=_E(e,t);switch(r){case"referenceHidden":{const e=BE(await VE(t,{...s,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:HE(e)}}}case"escaped":{const e=BE(await VE(t,{...s,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:HE(e)}}}default:return{}}}}},VP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=_E(e,t)||{};if(null==c)return{};const d=UE(u),h={x:n,y:r},p=ME(s),f=TE(p),m=await i.getDimensions(c),g="y"===p,x=g?"top":"left",v=g?"bottom":"right",y=g?"clientHeight":"clientWidth",b=a.reference[f]+a.reference[p]-h[p]-a.floating[f],w=h[p]-a.reference[p],j=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c));let k=j?j[y]:0;k&&await(null==i.isElement?void 0:i.isElement(j))||(k=o.floating[y]||a.floating[f]);const N=b/2-w/2,S=k/2-m[f]/2-1,_=vE(d[x],S),C=vE(d[v],S),E=_,P=k-m[f]-C,T=k/2-m[f]/2+N,R=SE(E,T,P),I=!l.arrow&&null!=EE(s)&&T!==R&&a.reference[f]/2-(T<E?_:C)-m[f]/2<0,M=I?T<E?T-E:T-P:0;return{[p]:h[p]+M,data:{[p]:R,centerOffset:T-R-M,...I&&{alignmentOffset:M}},reset:I}}}),BP=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=_E(e,t),u={x:n,y:r},d=IE(s),h=PE(d);let p=u[h],f=u[d];const m=_E(o,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+g.mainAxis,n=a.reference[h]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var x,v;const e="y"===h?"width":"height",t=QE.has(CE(s)),n=a.reference[d]-a.floating[e]+(t&&(null==(x=i.offset)?void 0:x[d])||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:(null==(v=i.offset)?void 0:v[d])||0)-(t?g.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[h]:p,[d]:f}}}},HP=(e,t,n)=>{const r=new Map,s={platform:LP,...n},a={...s.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,o=a.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=qE(c,r,l),h=r,p={},f=0;for(let m=0;m<o.length;m++){const{name:n,fn:a}=o[m],{x:g,y:x,data:v,reset:y}=await a({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=x?x:d,p={...p,[n]:{...p[n],...v}},y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:s}):y.rects),({x:u,y:d}=qE(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:p}})(e,t,{...s,platform:a})};var QP="undefined"!=typeof document?Nt.useLayoutEffect:function(){};function KP(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!KP(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;0!==r--;){const n=s[r];if(("_owner"!==n||!e.$$typeof)&&!KP(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function GP(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YP(e,t){const n=GP(e);return Math.round(t*n)/n}function JP(e){const t=Nt.useRef(e);return QP(()=>{t.current=e}),t}const XP=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(s=n,{}.hasOwnProperty.call(s,"current"))?null!=n.current?VP({element:n.current,padding:r}).fn(t):{}:n?VP({element:n,padding:r}).fn(t):{};var s}}),ZP=(e,t)=>({...zP(e),options:[e,t]}),eT=(e,t)=>({...WP(e),options:[e,t]}),tT=(e,t)=>({...BP(e),options:[e,t]}),nT=(e,t)=>({...UP(e),options:[e,t]}),rT=(e,t)=>({...$P(e),options:[e,t]}),sT=(e,t)=>({...qP(e),options:[e,t]}),aT=(e,t)=>({...XP(e),options:[e,t]});var iT=Nt.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return Dt.jsx(h_.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:Dt.jsx("polygon",{points:"0,0 30,0 15,10"})})});iT.displayName="Arrow";var oT=iT,lT="Popper",[cT,uT]=a_(lT),[dT,hT]=cT(lT),pT=e=>{const{__scopePopper:t,children:n}=e,[r,s]=Nt.useState(null);return Dt.jsx(dT,{scope:t,anchor:r,onAnchorChange:s,children:n})};pT.displayName=lT;var fT="PopperAnchor",mT=Nt.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=hT(fT,n),i=Nt.useRef(null),o=Ov(t,i);return Nt.useEffect(()=>{a.onAnchorChange((null==r?void 0:r.current)||i.current)}),r?null:Dt.jsx(h_.div,{...s,ref:o})});mT.displayName=fT;var gT="PopperContent",[xT,vT]=cT(gT),yT=Nt.forwardRef((e,t)=>{var n,r,s,a,i,o;const{__scopePopper:l,side:c="bottom",sideOffset:u=0,align:d="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:b,...w}=e,j=hT(gT,l),[k,N]=Nt.useState(null),S=Ov(t,e=>N(e)),[_,C]=Nt.useState(null),E=TC(_),P=(null==E?void 0:E.width)??0,T=(null==E?void 0:E.height)??0,R=c+("center"!==d?"-"+d:""),I="number"==typeof g?g:{top:0,right:0,bottom:0,left:0,...g},M=Array.isArray(m)?m:[m],D=M.length>0,A={padding:I,boundary:M.filter(kT),altBoundary:D},{refs:L,floatingStyles:O,placement:F,isPositioned:z,middlewareData:W}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,d]=Nt.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=Nt.useState(r);KP(h,r)||p(r);const[f,m]=Nt.useState(null),[g,x]=Nt.useState(null),v=Nt.useCallback(e=>{e!==j.current&&(j.current=e,m(e))},[]),y=Nt.useCallback(e=>{e!==k.current&&(k.current=e,x(e))},[]),b=a||f,w=i||g,j=Nt.useRef(null),k=Nt.useRef(null),N=Nt.useRef(u),S=null!=l,_=JP(l),C=JP(s),E=JP(c),P=Nt.useCallback(()=>{if(!j.current||!k.current)return;const e={placement:t,strategy:n,middleware:h};C.current&&(e.platform=C.current),HP(j.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==E.current};T.current&&!KP(N.current,t)&&(N.current=t,$h.flushSync(()=>{d(t)}))})},[h,t,n,C,E]);QP(()=>{!1===c&&N.current.isPositioned&&(N.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[c]);const T=Nt.useRef(!1);QP(()=>(T.current=!0,()=>{T.current=!1}),[]),QP(()=>{if(b&&(j.current=b),w&&(k.current=w),b&&w){if(_.current)return _.current(b,w,P);P()}},[b,w,P,_,S]);const R=Nt.useMemo(()=>({reference:j,floating:k,setReference:v,setFloating:y}),[v,y]),I=Nt.useMemo(()=>({reference:b,floating:w}),[b,w]),M=Nt.useMemo(()=>{const e={position:n,left:0,top:0};if(!I.floating)return e;const t=YP(I.floating,u.x),r=YP(I.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+r+"px)",...GP(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,o,I.floating,u.x,u.y]);return Nt.useMemo(()=>({...u,update:P,refs:R,elements:I,floatingStyles:M}),[u,P,R,I,M])}({strategy:"fixed",placement:R,whileElementsMounted:(...e)=>FP(...e,{animationFrame:"always"===y}),elements:{reference:j.anchor},middleware:[ZP({mainAxis:u+T,alignmentAxis:h}),f&&eT({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?tT():void 0,...A}),f&&nT({...A}),rT({...A,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:s,height:a}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${n}px`),i.setProperty("--radix-popper-available-height",`${r}px`),i.setProperty("--radix-popper-anchor-width",`${s}px`),i.setProperty("--radix-popper-anchor-height",`${a}px`)}}),_&&aT({element:_,padding:p}),NT({arrowWidth:P,arrowHeight:T}),v&&sT({strategy:"referenceHidden",...A})]}),[U,$]=ST(F),q=f_(b);l_(()=>{z&&(null==q||q())},[z,q]);const V=null==(n=W.arrow)?void 0:n.x,B=null==(r=W.arrow)?void 0:r.y,H=0!==(null==(s=W.arrow)?void 0:s.centerOffset),[Q,K]=Nt.useState();return l_(()=>{k&&K(window.getComputedStyle(k).zIndex)},[k]),Dt.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:z?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[null==(a=W.transformOrigin)?void 0:a.x,null==(i=W.transformOrigin)?void 0:i.y].join(" "),...(null==(o=W.hide)?void 0:o.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:Dt.jsx(xT,{scope:l,placedSide:U,onArrowChange:C,arrowX:V,arrowY:B,shouldHideArrow:H,children:Dt.jsx(h_.div,{"data-side":U,"data-align":$,...w,ref:S,style:{...w.style,animation:z?void 0:"none"}})})})});yT.displayName=gT;var bT="PopperArrow",wT={top:"bottom",right:"left",bottom:"top",left:"right"},jT=Nt.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,s=vT(bT,n),a=wT[s.placedSide];return Dt.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:Dt.jsx(oT,{...r,ref:t,style:{...r.style,display:"block"}})})});function kT(e){return null!==e}jT.displayName=bT;var NT=e=>({name:"transformOrigin",options:e,fn(t){var n,r,s;const{placement:a,rects:i,middlewareData:o}=t,l=0!==(null==(n=o.arrow)?void 0:n.centerOffset),c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[d,h]=ST(a),p={start:"0%",center:"50%",end:"100%"}[h],f=((null==(r=o.arrow)?void 0:r.x)??0)+c/2,m=((null==(s=o.arrow)?void 0:s.y)??0)+u/2;let g="",x="";return"bottom"===d?(g=l?p:`${f}px`,x=-u+"px"):"top"===d?(g=l?p:`${f}px`,x=`${i.floating.height+u}px`):"right"===d?(g=-u+"px",x=l?p:`${m}px`):"left"===d&&(g=`${i.floating.width+u}px`,x=l?p:`${m}px`),{data:{x:g,y:x}}}});function ST(e){const[t,n="center"]=e.split("-");return[t,n]}var _T=pT,CT=mT,ET=yT,PT=jT,TT=Nt.forwardRef((e,t)=>{var n;const{container:r,...s}=e,[a,i]=Nt.useState(!1);l_(()=>i(!0),[]);const o=r||a&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return o?qh.createPortal(Dt.jsx(h_.div,{...s,ref:t}),o):null});TT.displayName="Portal";var RT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});Nt.forwardRef((e,t)=>Dt.jsx(h_.span,{...e,ref:t,style:{...RT,...e.style}})).displayName="VisuallyHidden";var IT=new WeakMap,MT=new WeakMap,DT={},AT=0,LT=function(e){return e&&(e.host||LT(e.parentNode))},OT=function(e,t,n,r){var s=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=LT(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);DT[n]||(DT[n]=new WeakMap);var a=DT[n],i=[],o=new Set,l=new Set(s),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};s.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),s=null!==t&&"false"!==t,l=(IT.get(e)||0)+1,c=(a.get(e)||0)+1;IT.set(e,l),a.set(e,c),i.push(e),1===l&&s&&MT.set(e,!0),1===c&&e.setAttribute(n,"true"),s||e.setAttribute(r,"true")}catch(NF){console.error("aria-hidden: cannot operate on ",e,NF)}})};return u(t),o.clear(),AT++,function(){i.forEach(function(e){var t=IT.get(e)-1,s=a.get(e)-1;IT.set(e,t),a.set(e,s),t||(MT.has(e)||e.removeAttribute(r),MT.delete(e)),s||e.removeAttribute(n)}),--AT||(IT=new WeakMap,IT=new WeakMap,MT=new WeakMap,DT={})}},FT=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),OT(r,s,n,"aria-hidden")):function(){return null}},zT=function(){return zT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},zT.apply(this,arguments)};function WT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}"function"==typeof SuppressedError&&SuppressedError;var UT="right-scroll-bar-position",$T="width-before-scroll-bar";function qT(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var VT="undefined"!=typeof window?Nt.useLayoutEffect:Nt.useEffect,BT=new WeakMap;function HT(e,t){var n,r,s,a=(n=null,r=function(t){return e.forEach(function(e){return qT(e,t)})},(s=Nt.useState(function(){return{value:n,callback:r,facade:{get current(){return s.value},set current(e){var t=s.value;t!==e&&(s.value=e,s.callback(e,t))}}}})[0]).callback=r,s.facade);return VT(function(){var t=BT.get(a);if(t){var n=new Set(t),r=new Set(e),s=a.current;n.forEach(function(e){r.has(e)||qT(e,null)}),r.forEach(function(e){n.has(e)||qT(e,s)})}BT.set(a,e)},[e]),a}function QT(e){return e}var KT=function(e){var t=e.sideCar,n=WT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return Nt.createElement(r,zT({},n))};KT.isSideCarExport=!0;var GT=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=QT);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var s=t(e,r);return n.push(s),function(){n=n.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var s=n;n=[],s.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=zT({async:!0,ssr:!1},e),t}(),YT=function(){},JT=Nt.forwardRef(function(e,t){var n=Nt.useRef(null),r=Nt.useState({onScrollCapture:YT,onWheelCapture:YT,onTouchMoveCapture:YT}),s=r[0],a=r[1],i=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,f=e.noIsolation,m=e.inert,g=e.allowPinchZoom,x=e.as,v=void 0===x?"div":x,y=e.gapMode,b=WT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,j=HT([n,t]),k=zT(zT({},b),s);return Nt.createElement(Nt.Fragment,null,u&&Nt.createElement(w,{sideCar:GT,removeScrollBar:c,shards:d,noRelative:p,noIsolation:f,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:y}),i?Nt.cloneElement(Nt.Children.only(o),zT(zT({},k),{ref:j})):Nt.createElement(v,zT({},k,{className:l,ref:j}),o))});JT.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},JT.classNames={fullWidth:$T,zeroRight:UT};function XT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var ZT=function(){var e=0,t=null;return{add:function(n){var r,s;0==e&&(t=XT())&&(s=n,(r=t).styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eR=function(){var e,t=(e=ZT(),function(t,n){Nt.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},tR={left:0,top:0,right:0,gap:0},nR=function(e){return parseInt(e||"",10)||0},rR=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return tR;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[nR(n),nR(r),nR(s)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},sR=eR(),aR="data-scroll-locked",iR=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(aR,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(UT," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat($T," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(UT," .").concat(UT," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat($T," .").concat($T," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(aR,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},oR=function(){var e=parseInt(document.body.getAttribute(aR)||"0",10);return isFinite(e)?e:0},lR=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=void 0===r?"margin":r;Nt.useEffect(function(){return document.body.setAttribute(aR,(oR()+1).toString()),function(){var e=oR()-1;e<=0?document.body.removeAttribute(aR):document.body.setAttribute(aR,e.toString())}},[]);var a=Nt.useMemo(function(){return rR(s)},[s]);return Nt.createElement(sR,{styles:iR(a,!t,s,n?"":"!important")})},cR=!1;if("undefined"!=typeof window)try{var uR=Object.defineProperty({},"passive",{get:function(){return cR=!0,!0}});window.addEventListener("test",uR,uR),window.removeEventListener("test",uR,uR)}catch(SF){cR=!1}var dR=!!cR&&{passive:!1},hR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},pR=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),fR(e,r)){var s=mR(e,r);if(s[1]>s[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fR=function(e,t){return"v"===e?function(e){return hR(e,"overflowY")}(t):function(e){return hR(e,"overflowX")}(t)},mR=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},gR=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xR=function(e){return[e.deltaX,e.deltaY]},vR=function(e){return e&&"current"in e?e.current:e},yR=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},bR=0,wR=[];function jR(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kR=(NR=function(e){var t=Nt.useRef([]),n=Nt.useRef([0,0]),r=Nt.useRef(),s=Nt.useState(bR++)[0],a=Nt.useState(eR)[0],i=Nt.useRef(e);Nt.useEffect(function(){i.current=e},[e]),Nt.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(vR),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=Nt.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var s,a=gR(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-a[0],c="deltaY"in e?e.deltaY:o[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=pR(d,u);if(!h)return!0;if(h?s=d:(s="v"===d?"h":"v",h=pR(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=s),!s)return!0;var p=r.current||s;return function(e,t,n,r){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=s*r,i=n.target,o=t.contains(i),l=!1,c=a>0,u=0,d=0;do{if(!i)break;var h=mR(e,i),p=h[0],f=h[1]-h[2]-s*p;(p||f)&&fR(e,i)&&(u+=f,d+=p);var m=i.parentNode;i=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!o&&i!==document.body||o&&(t.contains(i)||t===i));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(p,t,e,"h"===p?l:c)},[]),l=Nt.useCallback(function(e){var n=e;if(wR.length&&wR[wR.length-1]===a){var r="deltaY"in n?xR(n):gR(n),s=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,s=r,t[0]===s[0]&&t[1]===s[1]);var t,s})[0];if(s&&s.should)n.cancelable&&n.preventDefault();else if(!s){var l=(i.current.shards||[]).map(vR).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?o(n,l[0]):!i.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=Nt.useCallback(function(e,n,r,s){var a={name:e,delta:n,target:r,should:s,shadowParent:jR(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=Nt.useCallback(function(e){n.current=gR(e),r.current=void 0},[]),d=Nt.useCallback(function(t){c(t.type,xR(t),t.target,o(t,e.lockRef.current))},[]),h=Nt.useCallback(function(t){c(t.type,gR(t),t.target,o(t,e.lockRef.current))},[]);Nt.useEffect(function(){return wR.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,dR),document.addEventListener("touchmove",l,dR),document.addEventListener("touchstart",u,dR),function(){wR=wR.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,dR),document.removeEventListener("touchmove",l,dR),document.removeEventListener("touchstart",u,dR)}},[]);var p=e.removeScrollBar,f=e.inert;return Nt.createElement(Nt.Fragment,null,f?Nt.createElement(a,{styles:yR(s)}):null,p?Nt.createElement(lR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},GT.useMedium(NR),KT);var NR,SR=Nt.forwardRef(function(e,t){return Nt.createElement(JT,zT({},e,{ref:t,sideCar:kR}))});SR.classNames=JT.classNames;var _R=[" ","Enter","ArrowUp","ArrowDown"],CR=[" ","Enter"],ER="Select",[PR,TR,RR]=o_(ER),[IR,MR]=a_(ER,[RR,uT]),DR=uT(),[AR,LR]=IR(ER),[OR,FR]=IR(ER),zR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:p,form:f}=e,m=DR(t),[g,x]=Nt.useState(null),[v,y]=Nt.useState(null),[b,w]=Nt.useState(!1),j=v_(c),[k,N]=g_({prop:r,defaultProp:s??!1,onChange:a,caller:ER}),[S,_]=g_({prop:i,defaultProp:o,onChange:l,caller:ER}),C=Nt.useRef(null),E=!g||(f||!!g.closest("form")),[P,T]=Nt.useState(new Set),R=Array.from(P).map(e=>e.props.value).join(";");return Dt.jsx(_T,{...m,children:Dt.jsxs(AR,{required:p,scope:t,trigger:g,onTriggerChange:x,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:d_(),value:S,onValueChange:_,open:k,onOpenChange:N,dir:j,triggerPointerDownPosRef:C,disabled:h,children:[Dt.jsx(PR.Provider,{scope:t,children:Dt.jsx(OR,{scope:e.__scopeSelect,onNativeOptionAdd:Nt.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:Nt.useCallback(e=>{T(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),E?Dt.jsxs(SI,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:S,onChange:e=>_(e.target.value),disabled:h,form:f,children:[void 0===S?Dt.jsx("option",{value:""}):null,Array.from(P)]},R):null]})})};zR.displayName=ER;var WR="SelectTrigger",UR=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=DR(n),i=LR(WR,n),o=i.disabled||r,l=Ov(t,i.onTriggerChange),c=TR(n),u=Nt.useRef("touch"),[d,h,p]=CI(e=>{const t=c().filter(e=>!e.disabled),n=t.find(e=>e.value===i.value),r=EI(t,e,n);void 0!==r&&i.onValueChange(r.value)}),f=e=>{o||(i.onOpenChange(!0),p()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return Dt.jsx(CT,{asChild:!0,...a,children:Dt.jsx(h_.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":_I(i.value)?"":void 0,...s,ref:l,onClick:s_(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&f(e)}),onPointerDown:s_(s.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())}),onKeyDown:s_(s.onKeyDown,e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||_R.includes(e.key)&&(f(),e.preventDefault())})})})});UR.displayName=WR;var $R="SelectValue",qR=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...o}=e,l=LR($R,n),{onValueNodeHasChildrenChange:c}=l,u=void 0!==a,d=Ov(t,l.onValueNodeChange);return l_(()=>{c(u)},[c,u]),Dt.jsx(h_.span,{...o,ref:d,style:{pointerEvents:"none"},children:_I(l.value)?Dt.jsx(Dt.Fragment,{children:i}):a})});qR.displayName=$R;var VR=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return Dt.jsx(h_.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});VR.displayName="SelectIcon";var BR=e=>Dt.jsx(TT,{asChild:!0,...e});BR.displayName="SelectPortal";var HR="SelectContent",QR=Nt.forwardRef((e,t)=>{const n=LR(HR,e.__scopeSelect),[r,s]=Nt.useState();if(l_(()=>{s(new DocumentFragment)},[]),!n.open){const t=r;return t?$h.createPortal(Dt.jsx(GR,{scope:e.__scopeSelect,children:Dt.jsx(PR.Slot,{scope:e.__scopeSelect,children:Dt.jsx("div",{children:e.children})})}),t):null}return Dt.jsx(XR,{...e,ref:t})});QR.displayName=HR;var KR=10,[GR,YR]=IR(HR),JR=Fv("SelectContent.RemoveScroll"),XR=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:m,avoidCollisions:g,...x}=e,v=LR(HR,n),[y,b]=Nt.useState(null),[w,j]=Nt.useState(null),k=Ov(t,e=>b(e)),[N,S]=Nt.useState(null),[_,C]=Nt.useState(null),E=TR(n),[P,T]=Nt.useState(!1),R=Nt.useRef(!1);Nt.useEffect(()=>{if(y)return FT(y)},[y]),aE();const I=Nt.useCallback(e=>{const[t,...n]=E().map(e=>e.ref.current),[r]=n.slice(-1),s=document.activeElement;for(const a of e){if(a===s)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&w&&(w.scrollTop=0),a===r&&w&&(w.scrollTop=w.scrollHeight),null==a||a.focus(),document.activeElement!==s)return}},[E,w]),M=Nt.useCallback(()=>I([N,y]),[I,N,y]);Nt.useEffect(()=>{P&&M()},[P,M]);const{onOpenChange:D,triggerPointerDownPosRef:A}=v;Nt.useEffect(()=>{if(y){let e={x:0,y:0};const t=t=>{var n,r;e={x:Math.abs(Math.round(t.pageX)-((null==(n=A.current)?void 0:n.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(r=A.current)?void 0:r.y)??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():y.contains(n.target)||D(!1),document.removeEventListener("pointermove",t),A.current=null};return null!==A.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[y,D,A]),Nt.useEffect(()=>{const e=()=>D(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[D]);const[L,O]=CI(e=>{const t=E().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=EI(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),F=Nt.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==v.value&&v.value===t||r)&&(S(e),r&&(R.current=!0))},[v.value]),z=Nt.useCallback(()=>null==y?void 0:y.focus(),[y]),W=Nt.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==v.value&&v.value===t||r)&&C(e)},[v.value]),U="popper"===r?eI:ZR,$=U===eI?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:m,avoidCollisions:g}:{};return Dt.jsx(GR,{scope:n,content:y,viewport:w,onViewportChange:j,itemRefCallback:F,selectedItem:N,onItemLeave:z,itemTextRefCallback:W,focusSelectedItem:M,selectedItemText:_,position:r,isPositioned:P,searchRef:L,children:Dt.jsx(SR,{as:JR,allowPinchZoom:!0,children:Dt.jsx(uE,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:s_(s,e=>{var t;null==(t=v.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:Dt.jsx(tE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:Dt.jsx(U,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...x,...$,onPlaced:()=>T(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:s_(x.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||O(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=E().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>I(t)),e.preventDefault()}})})})})})})});XR.displayName="SelectContentImpl";var ZR=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=LR(HR,n),i=YR(HR,n),[o,l]=Nt.useState(null),[c,u]=Nt.useState(null),d=Ov(t,e=>u(e)),h=TR(n),p=Nt.useRef(!1),f=Nt.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:x,focusSelectedItem:v}=i,y=Nt.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&m&&g&&x){const e=a.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),s=x.getBoundingClientRect();if("rtl"!==a.dir){const r=s.left-t.left,a=n.left-r,i=e.left-a,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-KR,d=GC(a,[KR,Math.max(KR,u-c)]);o.style.minWidth=l+"px",o.style.left=d+"px"}else{const r=t.right-s.right,a=window.innerWidth-n.right-r,i=window.innerWidth-e.right-a,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-KR,d=GC(a,[KR,Math.max(KR,u-c)]);o.style.minWidth=l+"px",o.style.right=d+"px"}const i=h(),l=window.innerHeight-2*KR,u=m.scrollHeight,d=window.getComputedStyle(c),f=parseInt(d.borderTopWidth,10),v=parseInt(d.paddingTop,10),y=parseInt(d.borderBottomWidth,10),b=f+v+u+parseInt(d.paddingBottom,10)+y,w=Math.min(5*g.offsetHeight,b),j=window.getComputedStyle(m),k=parseInt(j.paddingTop,10),N=parseInt(j.paddingBottom,10),S=e.top+e.height/2-KR,_=l-S,C=g.offsetHeight/2,E=f+v+(g.offsetTop+C),P=b-E;if(E<=S){const e=i.length>0&&g===i[i.length-1].ref.current;o.style.bottom="0px";const t=c.clientHeight-m.offsetTop-m.offsetHeight,n=E+Math.max(_,C+(e?N:0)+t+y);o.style.height=n+"px"}else{const e=i.length>0&&g===i[0].ref.current;o.style.top="0px";const t=Math.max(S,f+m.offsetTop+(e?k:0)+C)+P;o.style.height=t+"px",m.scrollTop=E-S+m.offsetTop}o.style.margin=`${KR}px 0`,o.style.minHeight=w+"px",o.style.maxHeight=l+"px",null==r||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,o,c,m,g,x,a.dir,r]);l_(()=>y(),[y]);const[b,w]=Nt.useState();l_(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const j=Nt.useCallback(e=>{e&&!0===f.current&&(y(),null==v||v(),f.current=!1)},[y,v]);return Dt.jsx(tI,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:Dt.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:Dt.jsx(h_.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZR.displayName="SelectItemAlignedPosition";var eI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=KR,...a}=e,i=DR(n);return Dt.jsx(ET,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eI.displayName="SelectPopperPosition";var[tI,nI]=IR(HR,{}),rI="SelectViewport",sI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=YR(rI,n),i=nI(rI,n),o=Ov(t,a.onViewportChange),l=Nt.useRef(0);return Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),Dt.jsx(PR.Slot,{scope:n,children:Dt.jsx(h_.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:s_(s.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=i;if((null==r?void 0:r.current)&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*KR,s=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),i=Math.max(s,a);if(i<r){const s=i+e,a=Math.min(r,s),o=s-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop})})})]})});sI.displayName=rI;var aI="SelectGroup",[iI,oI]=IR(aI);Nt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=d_();return Dt.jsx(iI,{scope:n,id:s,children:Dt.jsx(h_.div,{role:"group","aria-labelledby":s,...r,ref:t})})}).displayName=aI;var lI="SelectLabel",cI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=oI(lI,n);return Dt.jsx(h_.div,{id:s.id,...r,ref:t})});cI.displayName=lI;var uI="SelectItem",[dI,hI]=IR(uI),pI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,o=LR(uI,n),l=YR(uI,n),c=o.value===r,[u,d]=Nt.useState(a??""),[h,p]=Nt.useState(!1),f=Ov(t,e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,r,s)}),m=d_(),g=Nt.useRef("touch"),x=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Dt.jsx(dI,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:Nt.useCallback(e=>{d(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:Dt.jsx(PR.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:Dt.jsx(h_.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:f,onFocus:s_(i.onFocus,()=>p(!0)),onBlur:s_(i.onBlur,()=>p(!1)),onClick:s_(i.onClick,()=>{"mouse"!==g.current&&x()}),onPointerUp:s_(i.onPointerUp,()=>{"mouse"===g.current&&x()}),onPointerDown:s_(i.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:s_(i.onPointerMove,e=>{var t;g.current=e.pointerType,s?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:s_(i.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))}),onKeyDown:s_(i.onKeyDown,e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(CR.includes(e.key)&&x()," "===e.key&&e.preventDefault())})})})})});pI.displayName=uI;var fI="SelectItemText",mI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=LR(fI,n),o=YR(fI,n),l=hI(fI,n),c=FR(fI,n),[u,d]=Nt.useState(null),h=Ov(t,e=>d(e),l.onItemTextChange,e=>{var t;return null==(t=o.itemTextRefCallback)?void 0:t.call(o,e,l.value,l.disabled)}),p=null==u?void 0:u.textContent,f=Nt.useMemo(()=>Dt.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return l_(()=>(m(f),()=>g(f)),[m,g,f]),Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(h_.span,{id:l.textId,...a,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?$h.createPortal(a.children,i.valueNode):null]})});mI.displayName=fI;var gI="SelectItemIndicator",xI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return hI(gI,n).isSelected?Dt.jsx(h_.span,{"aria-hidden":!0,...r,ref:t}):null});xI.displayName=gI;var vI="SelectScrollUpButton",yI=Nt.forwardRef((e,t)=>{const n=YR(vI,e.__scopeSelect),r=nI(vI,e.__scopeSelect),[s,a]=Nt.useState(!1),i=Ov(t,r.onScrollButtonChange);return l_(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?Dt.jsx(jI,{...e,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});yI.displayName=vI;var bI="SelectScrollDownButton",wI=Nt.forwardRef((e,t)=>{const n=YR(bI,e.__scopeSelect),r=nI(bI,e.__scopeSelect),[s,a]=Nt.useState(!1),i=Ov(t,r.onScrollButtonChange);return l_(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;a(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?Dt.jsx(jI,{...e,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});wI.displayName=bI;var jI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=YR("SelectScrollButton",n),i=Nt.useRef(null),o=TR(n),l=Nt.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return Nt.useEffect(()=>()=>l(),[l]),l_(()=>{var e;const t=o().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[o]),Dt.jsx(h_.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:s_(s.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(r,50))}),onPointerMove:s_(s.onPointerMove,()=>{var e;null==(e=a.onItemLeave)||e.call(a),null===i.current&&(i.current=window.setInterval(r,50))}),onPointerLeave:s_(s.onPointerLeave,()=>{l()})})}),kI=Nt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Dt.jsx(h_.div,{"aria-hidden":!0,...r,ref:t})});kI.displayName="SelectSeparator";var NI="SelectArrow";Nt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=DR(n),a=LR(NI,n),i=YR(NI,n);return a.open&&"popper"===i.position?Dt.jsx(PT,{...s,...r,ref:t}):null}).displayName=NI;var SI=Nt.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=Nt.useRef(null),a=Ov(r,s),i=PC(t);return Nt.useEffect(()=>{const e=s.current;if(!e)return;const n=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(i!==t&&r){const n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[i,t]),Dt.jsx(h_.select,{...n,style:{...RT,...n.style},ref:a,defaultValue:t})});function _I(e){return""===e||void 0===e}function CI(e){const t=f_(e),n=Nt.useRef(""),r=Nt.useRef(0),s=Nt.useCallback(e=>{const s=n.current+e;t(s),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),a=Nt.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return Nt.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function EI(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=(i=e,o=Math.max(s,0),i.map((e,t)=>i[(o+t)%i.length]));var i,o;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}SI.displayName="SelectBubbleInput";var PI=zR,TI=UR,RI=qR,II=VR,MI=BR,DI=QR,AI=sI,LI=cI,OI=pI,FI=mI,zI=xI,WI=yI,UI=wI,$I=kI;function qI(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}var VI=["color"],BI=Nt.forwardRef(function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=qI(e,VI);return Nt.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),Nt.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),HI=["color"],QI=Nt.forwardRef(function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=qI(e,HI);return Nt.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),Nt.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),KI=["color"],GI=Nt.forwardRef(function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=qI(e,KI);return Nt.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),Nt.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),YI=["color"],JI=Nt.forwardRef(function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=qI(e,YI);return Nt.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),Nt.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});const XI=PI,ZI=RI,eM=Nt.forwardRef(({className:e,children:t,...n},r)=>Dt.jsxs(TI,{ref:r,className:dx("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,Dt.jsx(II,{asChild:!0,children:Dt.jsx(QI,{className:"h-4 w-4 opacity-50"})})]}));eM.displayName=TI.displayName;const tM=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(WI,{ref:n,className:dx("flex cursor-default items-center justify-center py-1",e),...t,children:Dt.jsx(GI,{className:"h-4 w-4"})}));tM.displayName=WI.displayName;const nM=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(UI,{ref:n,className:dx("flex cursor-default items-center justify-center py-1",e),...t,children:Dt.jsx(QI,{className:"h-4 w-4"})}));nM.displayName=UI.displayName;const rM=Nt.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>Dt.jsx(MI,{children:Dt.jsxs(DI,{ref:s,className:dx("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[Dt.jsx(tM,{}),Dt.jsx(AI,{className:dx("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),Dt.jsx(nM,{})]})}));rM.displayName=DI.displayName;Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(LI,{ref:n,className:dx("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=LI.displayName;const sM=Nt.forwardRef(({className:e,children:t,...n},r)=>Dt.jsxs(OI,{ref:r,className:dx("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[Dt.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:Dt.jsx(zI,{children:Dt.jsx(BI,{className:"h-4 w-4"})})}),Dt.jsx(FI,{children:t})]}));sM.displayName=OI.displayName;Nt.forwardRef(({className:e,...t},n)=>Dt.jsx($I,{ref:n,className:dx("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=$I.displayName;const aM={"GPT-5.1":"databricks-gpt-5-1","Gemini 3 Pro":"databricks-gemini-3-pro","Gemini 2.5 Flash":"databricks-gemini-2-5-flash","Claude Sonnet 4.5":"databricks-claude-sonnet-4-5","Claude Sonnet 4":"databricks-claude-sonnet-4","Llama 4 Maverick":"databricks-llama-4-maverick","Llama 3.3 70B Instruct":"databricks-meta-llama-3-3-70b-instruct"},iM=Object.fromEntries(Object.entries(aM).map(([e,t])=>[t,e]));function oM(e){return aM[e]||e}function lM(e){return iM[e]||e}function cM(e=!1){return[{value:"GPT-5.1",label:"GPT-5.1",description:"OpenAI GPT-5.1 model",disabled:!e,requiresDatabricks:!0},{value:"Gemini 3 Pro",label:"Gemini 3 Pro",description:"Google Gemini 3 Pro model",disabled:!e,requiresDatabricks:!0},{value:"Gemini 2.5 Flash",label:"Gemini 2.5 Flash",description:"Google Gemini 2.5 Flash model",disabled:!e,requiresDatabricks:!0},{value:"Claude Sonnet 4.5",label:"Claude Sonnet 4.5",description:"Anthropic Claude Sonnet 4.5 model",disabled:!e,requiresDatabricks:!0},{value:"Claude Sonnet 4",label:"Claude Sonnet 4",description:"Anthropic Claude Sonnet 4 model",disabled:!e,requiresDatabricks:!0},{value:"Llama 4 Maverick",label:"Llama 4 Maverick",description:"Meta Llama 4 Maverick model",disabled:!e,requiresDatabricks:!0},{value:"Llama 3.3 70B Instruct",label:"Llama 3.3 70B Instruct",description:"Meta Llama 3.3 70B Instruct model",disabled:!e,requiresDatabricks:!0}]}function uM(e){const t=function(e,t=!1){return cM(t).find(t=>t.value===e)}(e);return(null==t?void 0:t.label)||e}function dM({currentPage:e,totalPages:t,totalItems:n,itemsPerPage:r,onPageChange:s,onItemsPerPageChange:a,showItemsPerPageSelector:i=!1,showQuickJump:o=!1,showKeyboardShortcuts:l=!1,className:c=""}){const[u,d]=Nt.useState("");Nt.useEffect(()=>{if(!l)return;const n=n=>{if(!(n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement))switch(n.key){case"ArrowLeft":e>1&&(n.preventDefault(),s(e-1));break;case"ArrowRight":e<t&&(n.preventDefault(),s(e+1));break;case"Home":e>1&&(n.preventDefault(),s(1));break;case"End":e<t&&(n.preventDefault(),s(t))}};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e,t,s,l]);const h=()=>{const e=parseInt(u);e>=1&&e<=t&&(s(e),d(""))},p=(()=>{const n=[],r=[];for(let s=Math.max(2,e-2);s<=Math.min(t-1,e+2);s++)n.push(s);return e-2>2?r.push(1,"..."):r.push(1),r.push(...n),e+2<t-1?r.push("...",t):t>1&&r.push(t),r})(),f=(e-1)*r+1,m=Math.min(e*r,n);return t<=1?null:Dt.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between gap-4 ${c}`,children:[i&&a&&Dt.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Dt.jsx("span",{children:"Show"}),Dt.jsx("select",{value:r,onChange:e=>a(Number(e.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[10,25,50,100].map(e=>Dt.jsx("option",{value:e,children:e},e))}),Dt.jsx("span",{children:"per page"})]}),Dt.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",f," to ",m," of ",n," results",l&&Dt.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Use   arrows, Home, End for navigation"})]}),o&&Dt.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[Dt.jsx("span",{children:"Go to page:"}),Dt.jsx(wC,{type:"number",min:1,max:t,value:u,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"===e.key&&h()},className:"w-16 h-8 text-center text-sm",placeholder:e.toString()}),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:h,disabled:!u||parseInt(u)<1||parseInt(u)>t,className:"h-8 px-2 text-xs",children:"Go"})]}),Dt.jsxs("div",{className:"flex items-center gap-1",children:[Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>s(1),disabled:1===e,className:"h-8 w-8 p-0",title:"First page (Home)",children:Dt.jsx(Ax,{className:"h-4 w-4"})}),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:1===e,className:"h-8 w-8 p-0",title:"Previous page ()",children:Dt.jsx(Ix,{className:"h-4 w-4"})}),p.map((t,n)=>Dt.jsx(St.Fragment,{children:"..."===t?Dt.jsx("span",{className:"px-3 py-1 text-gray-500",children:"..."}):Dt.jsx(Vv,{variant:e===t?"default":"outline",size:"sm",onClick:()=>s(t),className:"h-8 w-8 p-0",title:`Go to page ${t}`,children:t})},n)),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e===t,className:"h-8 w-8 p-0",title:"Next page ()",children:Dt.jsx(Mx,{className:"h-4 w-4"})}),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>s(t),disabled:e===t,className:"h-8 w-8 p-0",title:"Last page (End)",children:Dt.jsx(Lx,{className:"h-4 w-4"})})]})]})}function hM(){const{workshopId:e}=Ym(),{user:t}=Vm();Hm();const{data:n}=rg(e),{data:r}=function(e){return Kp({queryKey:["original-traces",e],queryFn:async()=>{const t=await fetch(`/workshops/${e}/original-traces`);if(!t.ok)throw new Error("Failed to fetch original traces");return t.json()},enabled:!!e,staleTime:0,gcTime:3e5})}(e),s=function(e){const t=$p();return Gp({mutationFn:async()=>{const t=await fetch(`/workshops/${e}/aggregate-all-feedback`,{method:"POST"});if(!t.ok)throw new Error("Failed to aggregate feedback");return t.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["traces",e]}),t.invalidateQueries({queryKey:["traces-for-alignment",e]})}})}(e),a=$p(),[i,o]=Nt.useState([]),[l,c]=Nt.useState(""),[u,d]=Nt.useState(null),[h,p]=Nt.useState("GPT-5.1"),[f,m]=Nt.useState("GPT-5.1"),[g,x]=Nt.useState([]),[v,y]=Nt.useState(null),[b,w]=Nt.useState(null),[j,k]=Nt.useState([]),[N,S]=Nt.useState(null),[_,C]=Nt.useState(""),[E,P]=Nt.useState(!1),[T,R]=Nt.useState(!1),[I,M]=Nt.useState(null),[D,A]=Nt.useState(1),[L,O]=Nt.useState(10),[F,z]=Nt.useState(!1),[W,U]=Nt.useState(null),[$,q]=Nt.useState(null),[V,B]=Nt.useState(!1),[H,Q]=Nt.useState(!1),[K,G]=Nt.useState(!1),[Y,J]=Nt.useState([]),[X,Z]=Nt.useState(null),[ee,te]=Nt.useState(!1),ne=Nt.useMemo(()=>{if((null==n?void 0:n.judge_name)&&"workshop_judge"!==n.judge_name)return n.judge_name;if(null==b?void 0:b.question){const e=NC(b.question);if(e.length>0&&e[0].title){return`${e[0].title.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"")}_judge`}}return"workshop_judge"},[null==n?void 0:n.judge_name,null==b?void 0:b.question]),re=Nt.useMemo(()=>e?`judge-alignment-logs-${e}`:"judge-alignment-logs",[e]),se=Nt.useCallback(e=>{J(t=>{const n="function"==typeof e?e(t):e;try{localStorage.setItem(re,JSON.stringify(n))}catch(r){}return n})},[re]);Nt.useEffect(()=>{if(re)try{const e=localStorage.getItem(re);if(e){const t=JSON.parse(e);Array.isArray(t)?J(t):Array.isArray(null==t?void 0:t.logs)&&J(t.logs)}}catch(e){}},[re]);const ae=Nt.useMemo(()=>{if(!(null==j?void 0:j.length))return 0;return new Set(j.filter(e=>null!==e.rating&&void 0!==e.rating).map(e=>e.trace_id)).size},[j]),ie=e=>{let t=e||"";const n=/{input}|{{\s*inputs\s*}}/i.test(t),r=/{output}|{{\s*outputs\s*}}/i.test(t);return n||(t+=(t.trim().length?"\n\n":"")+"Input: {input}"),r||(t+="\nOutput: {output}"),t};Nt.useEffect(()=>{if(e){le();const n=`judge-evaluations-${e}`,r=localStorage.getItem(n);if(r)try{const e=JSON.parse(r);Date.now()-e.timestamp<36e5?(x(e.evaluations),y(e.metrics),R(!0)):localStorage.removeItem(n)}catch(t){localStorage.removeItem(n)}}},[e]),Nt.useEffect(()=>{const e=l!==_;P(e),e&&(R(!1),G(!1),Z(null))},[l,_]);const oe=Nt.useMemo(()=>{if(!r||!j.length)return[];const e=new Set(j.filter(e=>void 0!==e.rating&&null!==e.rating).map(e=>e.trace_id));return r.filter(t=>e.has(t.id))},[r,j]);Nt.useEffect(()=>{oe&&oe.length>0&&A(1)},[oe]),Nt.useEffect(()=>{M(null)},[D]);const le=async()=>{var t,n;if(e){a.invalidateQueries({queryKey:["workshop",e]}),z(!0),U(null);try{const[r,s,a,i]=await Promise.all([$m.getJudgePromptsWorkshopsWorkshopIdJudgePromptsGet(e).catch(e=>[]),$m.getRubricWorkshopsWorkshopIdRubricGet(e).catch(e=>null),$m.getAnnotationsWorkshopsWorkshopIdAnnotationsGet(e).catch(e=>[]),$m.getMlflowConfigWorkshopsWorkshopIdMlflowConfigGet(e).catch(e=>null)]);o(r),w(s),k(a),S(i);const l=cM(!!i),u=(null==(t=l.find(e=>!e.disabled))?void 0:t.value)||(null==(n=l[0])?void 0:n.value)||"GPT-5.1";if(0===r.length&&s){const e=ce(s.question);c(e),C(e),p(u),m(u)}else if(r.length>0){const e=r[0];if(d(e.id),c(e.prompt_text),C(e.prompt_text),e.model_name){const t=lM(e.model_name);l.some(e=>e.value===t)?(p(t),m(t)):(p(u),m(u))}else p(u),m(u);e.performance_metrics&&y(e.performance_metrics),ue(e.id)}}catch(SF){}finally{z(!1)}}},ce=e=>`You are an expert evaluator. Please evaluate the following response based on this criteria: "${e}"\n\nRate the response on a scale of 1-5, where:\n- 1 = Poor (does not meet criteria)\n- 2 = Below Average (partially meets criteria)\n- 3 = Average (meets basic criteria)\n- 4 = Good (exceeds criteria in some ways)\n- 5 = Excellent (fully exceeds criteria)\n\nInput: {input}\nOutput: {output}\n\nThink step by step about how well the output addresses the criteria, then provide your rating.\n\nYour response MUST start with a single integer rating (1, 2, 3, 4, or 5) on its own line, followed by your reasoning.\n\nExample format:\n3\nThe response partially meets the criteria because...`,ue=async t=>{if(e)try{const n=await $m.getJudgeEvaluationsWorkshopsWorkshopIdJudgeEvaluationsPromptIdGet(e,t);x(n),n&&n.length>0&&(R(!0),n.length>=10&&G(!0));const r=i.find(e=>e.id===t);(null==r?void 0:r.performance_metrics)&&y(r.performance_metrics)}catch(SF){}},de=async()=>{if(!e||!l.trim())return void KS.error("Please enter a judge prompt first");if(!ne.trim())return void KS.error("Please enter a judge name");if(!N){const e="Databricks configuration required for AI judge evaluation. Please configure MLflow settings in the Intake phase.";return q(e),void KS.error(e)}B(!0),q(null),se(["Starting evaluation job..."]),te(!0),Z(null),G(!1),y(null),x([]);const t=ie(l);try{KS.info("Aggregating SME feedback..."),await s.mutateAsync()}catch(SF){const t=(null==SF?void 0:SF.message)||"Failed to aggregate SME feedback";return KS.error(t),q(t),void B(!1)}try{console.log("[EVAL] Starting evaluation with polling approach...");const n=await fetch(`/workshops/${e}/start-evaluation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({judge_name:ne,judge_prompt:t,evaluation_model_name:oM(h),alignment_model_name:oM(f),prompt_id:u||void 0})});if(!n.ok){const e=await n.text();throw new Error(`Failed to start evaluation: ${n.status} ${e}`)}const{job_id:r}=await n.json();console.log("[EVAL] Job started with ID:",r),se(e=>[...e,`Evaluation job started (ID: ${r.substring(0,8)}...)`]);let s=0,a=0;const i=600,c=async()=>{var t;a++;try{const n=await fetch(`/workshops/${e}/evaluation-job/${r}?since_log_index=${s}`);if(!n.ok)return void console.error("[EVAL] Status poll failed:",n.status);const u=await n.json();if(u.logs&&u.logs.length>0&&(se(e=>[...e,...u.logs]),s=u.log_count),"completed"===u.status){if(console.log("[EVAL] Job completed!",u.result),null==(t=u.result)?void 0:t.success){if(y(u.result.metrics||null),x(u.result.evaluations||[]),R(!0),G(!0),KS.success("Evaluation complete!"),u.result.saved_prompt_id){const t=await $m.getJudgePromptsWorkshopsWorkshopIdJudgePromptsGet(e);o(t),d(u.result.saved_prompt_id),C(l),P(!1),ue(u.result.saved_prompt_id)}const t=`judge-evaluations-${e}`;localStorage.setItem(t,JSON.stringify({evaluations:u.result.evaluations||[],metrics:u.result.metrics||null,timestamp:Date.now()}))}return void B(!1)}if("failed"===u.status)return console.error("[EVAL] Job failed:",u.error),KS.error(`Evaluation failed: ${u.error||"Unknown error"}`),q(u.error||"Unknown error"),se(e=>[...e,`ERROR: ${u.error||"Unknown error"}`]),void B(!1);"running"===u.status&&a<i?setTimeout(c,2e3):a>=i&&(console.warn("[EVAL] Max poll count reached"),se(e=>[...e,"Warning: Polling timeout reached. Job may still be running."]),B(!1))}catch(n){console.error("[EVAL] Poll error:",n),a<i&&setTimeout(c,5e3)}};await c()}catch(n){console.error("[EVAL] Exception caught:",n);const e=(null==n?void 0:n.message)||"Evaluation failed";KS.error(`Evaluation failed: ${e}`),se(t=>[...t,`ERROR: ${e}`]),q(e),B(!1)}},he=(e,t)=>"correlation"===t||"accuracy"===t?e>=.8?"text-green-600":e>=.6?"text-yellow-600":"text-red-600":"text-gray-600";return Dt.jsxs("div",{className:"h-full bg-gray-50 p-6 space-y-6",children:[Dt.jsxs("div",{className:"mb-6",children:[Dt.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Dt.jsx(Cx,{className:"h-8 w-8 text-blue-600"}),Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Judge Tuning"}),Dt.jsx("div",{className:"ml-auto",children:i.length>0&&Dt.jsxs(Mv,{variant:"outline",children:[i.length," Prompt",1===i.length?"":"s"]})})]}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx("p",{className:"text-gray-600",children:"Create and refine AI judges using your workshop's human annotation data."}),Dt.jsx("div",{className:"text-sm",children:N?Dt.jsxs(Mv,{className:"bg-green-100 text-green-800",children:[Dt.jsx(Bx,{className:"h-3 w-3 mr-1"}),"MLflow Connected"]}):Dt.jsxs(Mv,{className:"bg-yellow-100 text-yellow-800",children:[Dt.jsx(Ox,{className:"h-3 w-3 mr-1"}),"MLflow Not Configured"]})})]})]}),W&&Dt.jsxs(QC,{variant:"destructive",className:"mb-6",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsx(KC,{children:W})]}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[Dt.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[i.length>0&&Dt.jsxs("div",{children:[Dt.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Prompt History"}),Dt.jsxs(XI,{value:u||void 0,onValueChange:e=>{d(e);const t=i.find(t=>t.id===e);if(t){if(c(t.prompt_text),C(t.prompt_text),t.model_name){const e=lM(t.model_name);p(e),m(e)}R(!1),q(null),ue(e)}},children:[Dt.jsx(eM,{className:"w-full bg-white",children:Dt.jsx(ZI,{placeholder:u&&E?"Modified (unsaved changes)":"Select a previous prompt"})}),Dt.jsx(rM,{children:i.map(e=>{var t;return Dt.jsx(sM,{value:e.id,children:Dt.jsxs("div",{className:"flex items-center justify-between w-full",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsxs("span",{children:["v",e.version]}),Dt.jsx(Mv,{variant:"outline",className:"text-xs",children:(null==(t=e.model_parameters)?void 0:t.aligned)?"Aligned":"demo"===e.model_name?"Demo":uM(lM(e.model_name||""))})]}),e.performance_metrics&&Dt.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["=",(100*e.performance_metrics.correlation).toFixed(0),"%"]})]})},e.id)})})]})]}),Dt.jsxs(hx,{className:"flex-1 flex flex-col",children:[Dt.jsxs(px,{className:"pb-3",children:[Dt.jsxs(fx,{className:"flex items-center gap-2 text-lg",children:[Dt.jsx(Ev,{className:"h-4 w-4"}),"Judge Prompt"]}),Dt.jsxs(mx,{className:"text-xs",children:["The prompt in the textbox below is what gets evaluated. Use ","{input}"," and ","{output}"," as placeholders."]})]}),Dt.jsxs(gx,{className:"flex-1 flex flex-col space-y-3",children:[Dt.jsx("div",{className:"flex-1",children:Dt.jsx(fC,{value:l,onChange:e=>c(e.target.value),placeholder:"Enter your judge prompt here...",className:"min-h-[300px] h-full font-mono text-sm resize-none"})}),Dt.jsx("div",{className:"space-y-3",children:Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsx(Vv,{onClick:async()=>{if(e&&l.trim()){z(!0),U(null);try{const r={prompt_text:l,few_shot_examples:[],model_name:oM(h),model_parameters:"demo"===h?null:{temperature:0,max_tokens:10}},s=await $m.createJudgePromptWorkshopsWorkshopIdJudgePromptsPost(e,r);if(v)try{const t=await fetch(`/workshops/${e}/judge-prompts/${s.id}/metrics`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({correlation:v.correlation,accuracy:v.accuracy,mean_absolute_error:0,total_evaluations:v.total_evaluations,agreement_by_rating:v.agreement_by_rating,confusion_matrix:v.confusion_matrix})});if(!t.ok){const e=await t.text();throw new Error(`HTTP ${t.status}: ${e}`)}await t.json()}catch(t){}if(g&&g.length>0)try{const t=await fetch(`/workshops/${e}/judge-evaluations/${s.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g.map(e=>({prompt_id:s.id,trace_id:e.trace_id,predicted_rating:e.predicted_rating,human_rating:e.human_rating,confidence:e.confidence,reasoning:e.reasoning})))});if(t.ok){await t.json()}else{await t.text()}}catch(n){}const a=await $m.getJudgePromptsWorkshopsWorkshopIdJudgePromptsGet(e);o(a),d(s.id),C(l),R(!1),KS.success(`Prompt saved as v${s.version}`)}catch(SF){U(SF.message||"Failed to save prompt"),KS.error("Failed to save prompt: "+(SF.message||"Unknown error"))}finally{z(!1)}}},disabled:!l.trim()||F,variant:"outline",className:"flex-1",size:"sm",title:"Save prompt to database as new version",children:F?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx($x,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Bx,{className:"mr-2 h-4 w-4"}),"Save as New Version"]})}),Dt.jsx(Vv,{onClick:()=>{if(!l.trim())return;const t={prompt_text:l,model_name:oM(h),model_parameters:"demo"===h?null:{temperature:0,max_tokens:10},exported_at:(new Date).toISOString(),workshop_id:e,metrics:v||null},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`judge-prompt-${e}-${Date.now()}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),KS.success("Prompt downloaded successfully")},disabled:!l.trim(),variant:"outline",size:"sm",title:"Download prompt as JSON file",children:Dt.jsx(Hx,{className:"h-4 w-4"})})]})})]})]})]}),Dt.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[$&&Dt.jsxs(QC,{variant:"destructive",className:"mb-4",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsxs(KC,{children:[$,Dt.jsx(Vv,{size:"sm",variant:"outline",onClick:()=>de(),className:"mt-2",children:"Retry"})]})]}),!N&&"demo"!==h&&j.length>0&&Dt.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:Dt.jsxs("div",{className:"flex gap-3",children:[Dt.jsx(Ox,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-amber-900",children:"Databricks Configuration Required"}),Dt.jsx("p",{className:"text-sm text-amber-800 mt-1",children:"Configure your Databricks workspace connection in the Intake phase to use AI judges."})]})]})}),v&&(()=>{const e=v.agreement_by_rating||{};return Dt.jsxs("div",{className:"bg-white rounded-lg border p-4 mb-4",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center gap-6",children:[Dt.jsxs("div",{children:[Dt.jsx("span",{className:"text-sm text-gray-500",children:"Mode"}),Dt.jsx("div",{className:"flex items-center gap-2",children:"demo"===h?Dt.jsxs(Mv,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:[Dt.jsx(jv,{className:"h-3 w-3 mr-1"}),"Demo"]}):Dt.jsxs(Mv,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[Dt.jsx(Ev,{className:"h-3 w-3 mr-1"}),"MLflow"]})})]}),Dt.jsxs("div",{children:[Dt.jsxs("span",{className:"text-sm text-gray-500",children:["Cohen's ",v.total_evaluations<3&&Dt.jsx("span",{className:"text-xs text-amber-600 ml-1",children:"(limited data)"})]}),Dt.jsxs("div",{className:`text-xl font-bold ${he(v.correlation,"correlation")}`,children:[(100*v.correlation).toFixed(1),"%",v.total_evaluations<3&&Dt.jsx("span",{className:"text-xs text-amber-600 ml-1",children:"*"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("span",{className:"text-sm text-gray-500",children:"Accuracy"}),Dt.jsxs("div",{className:`text-xl font-bold ${he(v.accuracy,"accuracy")}`,children:[(100*v.accuracy).toFixed(1),"%"]})]}),Dt.jsxs("div",{children:[Dt.jsx("span",{className:"text-sm text-gray-500",children:"Total"}),Dt.jsx("div",{className:"text-xl font-bold text-blue-600",children:v.total_evaluations})]})]}),Dt.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(t=>Dt.jsxs("div",{className:"text-center",children:[Dt.jsxs("div",{className:"text-xs text-gray-500",children:[t,""]}),Dt.jsxs("div",{className:"text-sm font-semibold "+((e[t.toString()]||0)>=.8?"text-green-600":(e[t.toString()]||0)>=.6?"text-yellow-600":"text-red-600"),children:[(100*(e[t.toString()]||0)).toFixed(0),"%"]})]},t))})]}),v.total_evaluations<3&&Dt.jsxs("div",{className:"mt-3 text-xs text-amber-700 bg-amber-50 px-3 py-2 rounded",children:[Dt.jsx("strong",{children:"Note:"})," Cohen's kappa with fewer than 3 evaluations shows simple agreement rate instead of statistical kappa. Get more annotation data for reliable inter-rater agreement metrics."]})]})})(),Dt.jsxs(hx,{className:"flex flex-col",children:[Dt.jsx(px,{className:"pb-3",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs(fx,{className:"flex items-center gap-2 text-lg",children:[Dt.jsx(wv,{className:"h-4 w-4"}),"Evaluation Results"]}),Dt.jsx("div",{className:"flex items-center gap-2",children:g.length>0&&Dt.jsxs(Dt.Fragment,{children:["demo"===h?Dt.jsxs(Mv,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:[Dt.jsx(jv,{className:"h-3 w-3 mr-1"}),"Demo Judge"]}):Dt.jsxs(Mv,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[Dt.jsx(Ev,{className:"h-3 w-3 mr-1"}),h.replace("databricks-","").replace("openai-","")]}),Dt.jsxs(Mv,{variant:"outline",children:[g.length," evaluations"]})]})})]})}),Dt.jsx(gx,{className:"flex-1 overflow-hidden p-0",children:oe.length>0?Dt.jsxs("div",{className:"h-full overflow-auto",children:[Dt.jsxs("table",{className:"w-full text-sm",children:[Dt.jsx("thead",{className:"sticky top-0 bg-gray-50 border-b",children:Dt.jsxs("tr",{children:[Dt.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Input"}),Dt.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Output"}),Dt.jsx("th",{className:"text-center p-3 font-medium text-gray-700 w-20",children:"Human"}),Dt.jsx("th",{className:"text-center p-3 font-medium text-gray-700 w-20",children:"Judge"}),Dt.jsx("th",{className:"text-center p-3 font-medium text-gray-700 w-20",children:"Diff"}),Dt.jsx("th",{className:"text-center p-3 font-medium text-gray-700 w-20",children:"Match"})]})}),Dt.jsx("tbody",{children:(()=>{const e=(D-1)*L,t=e+L;return oe.slice(e,t).map((t,n)=>{const r=j.filter(e=>e.trace_id===t.id),s=r.length>0?r.map(e=>e.rating).sort((e,t)=>r.filter(e=>e.rating===t).length-r.filter(t=>t.rating===e).length)[0]:null,a=g.find(e=>e.workshop_uuid===t.id||e.trace_id===t.id),i=null==a?void 0:a.predicted_rating,o=s&&i?Math.abs(i-s):null,l=0===o,c=I===t.id;return Dt.jsxs(St.Fragment,{children:[Dt.jsxs("tr",{className:"border-b hover:bg-gray-50 cursor-pointer "+((e+n)%2==0?"bg-white":"bg-gray-50/50"),onClick:()=>M(c?null:t.id),children:[Dt.jsx("td",{className:"p-3 max-w-xs",children:Dt.jsx("div",{className:"text-xs text-gray-700 "+(c?"whitespace-pre-wrap break-words":"truncate"),children:t.input||"N/A"})}),Dt.jsx("td",{className:"p-3 max-w-xs",children:Dt.jsx("div",{className:"text-xs text-gray-700 "+(c?"whitespace-pre-wrap break-words":"truncate"),children:t.output||"N/A"})}),Dt.jsx("td",{className:"text-center p-3",children:s?Dt.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-semibold",children:s}):Dt.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-400 font-semibold",children:""})}),Dt.jsx("td",{className:"text-center p-3",children:i?Dt.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full font-semibold "+(0===o?"bg-green-100 text-green-800":1===o?"bg-yellow-100 text-yellow-800":o&&o>1?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:i}):Dt.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-400 font-semibold",children:""})}),Dt.jsx("td",{className:"text-center p-3",children:null!==o?Dt.jsx("span",{className:"font-semibold "+(0===o?"text-green-600":1===o?"text-yellow-600":"text-red-600"),children:0===o?"0":`${o}`}):Dt.jsx("span",{className:"text-gray-400",children:""})}),Dt.jsx("td",{className:"text-center p-3",children:null!==o?l?Dt.jsx(Fx,{className:"h-5 w-5 text-green-500 mx-auto"}):1===o?Dt.jsx(Ox,{className:"h-5 w-5 text-yellow-500 mx-auto"}):Dt.jsx(zx,{className:"h-5 w-5 text-red-500 mx-auto"}):Dt.jsx("span",{className:"text-gray-400",children:""})})]}),c&&Dt.jsx("tr",{children:Dt.jsx("td",{colSpan:6,className:"p-0",children:Dt.jsx("div",{className:"bg-gray-50 border-t",children:Dt.jsx(pC,{trace:t,showContext:!0,className:"m-4"})})})})]},t.id)})})()})]}),oe.length>L&&Dt.jsx("div",{className:"border-t bg-gray-50 p-4",children:Dt.jsx(dM,{currentPage:D,totalPages:Math.ceil(oe.length/L),totalItems:oe.length,itemsPerPage:L,onPageChange:A,onItemsPerPageChange:e=>{O(e),A(1)},showItemsPerPageSelector:!0,showQuickJump:!0,showKeyboardShortcuts:!0})})]}):r&&0!==r.length?0===j.length?Dt.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:Dt.jsxs("div",{className:"text-center p-8",children:[Dt.jsx(Cv,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Waiting for Annotation Data"}),Dt.jsx("p",{className:"text-gray-600 max-w-md",children:"Participants need to complete annotations before you can create AI judges."})]})}):Dt.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Cx,{className:"h-12 w-12 mx-auto mb-3 opacity-20"}),Dt.jsx("p",{className:"text-sm",children:"No evaluations yet"}),Dt.jsx("p",{className:"text-xs mt-1",children:'Click "Evaluate Current Prompt" to generate AI judge ratings'}),Dt.jsx("p",{className:"text-xs mt-1",children:"This will compare the AI judge against human annotations"})]})}):Dt.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:Dt.jsxs("div",{className:"text-center p-8",children:[Dt.jsx(Bx,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Traces Available"}),Dt.jsx("p",{className:"text-gray-600 max-w-md",children:"No traces found. Please check the intake phase and ensure traces have been ingested."})]})})})]})]})]}),Dt.jsxs(hx,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Cx,{className:"h-5 w-5 text-purple-600"}),"Judge Alignment"]}),Dt.jsx(mx,{children:"Run mlflow.genai.evaluate() and align() using the prompt and model above. Ensure traces are tagged for alignment in Results Review."})]}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Traces Included"}),Dt.jsxs("div",{className:"px-3 py-2 bg-white border border-gray-200 rounded-md mt-1",children:[Dt.jsx("span",{className:"text-lg font-bold text-purple-600",children:ae}),Dt.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["SME-annotated trace",1===ae?"":"s"]})]})]}),Dt.jsxs("div",{children:[Dt.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Evaluation Status"}),Dt.jsx("div",{className:"mt-2",children:K&&g.length>=10?Dt.jsxs(Mv,{className:"bg-green-100 text-green-800",children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Ready for alignment"]}):Dt.jsx(Mv,{className:"bg-gray-100 text-gray-600",children:"Pending evaluate() (need 10 samples)"})}),Dt.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Evaluated traces: ",Math.min(g.length,10),"/10"]})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Evaluation LLM Judge"}),Dt.jsxs(XI,{value:h,onValueChange:p,children:[Dt.jsx(eM,{className:"w-full",children:Dt.jsx(ZI,{placeholder:"Choose evaluation model"})}),Dt.jsx(rM,{children:cM(!!N).map(e=>Dt.jsx(sM,{value:e.value,disabled:e.disabled,children:Dt.jsxs("div",{className:"flex items-center justify-between w-full",children:[Dt.jsx("span",{children:e.label}),e.requiresDatabricks&&!N&&Dt.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Requires Databricks)"})]})},e.value))})]}),Dt.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for evaluate() job"})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Alignment LLM"}),Dt.jsxs(XI,{value:f,onValueChange:m,children:[Dt.jsx(eM,{className:"w-full",children:Dt.jsx(ZI,{placeholder:"Choose alignment model"})}),Dt.jsx(rM,{children:cM(!!N).map(e=>Dt.jsx(sM,{value:e.value,disabled:e.disabled,children:Dt.jsxs("div",{className:"flex items-center justify-between w-full",children:[Dt.jsx("span",{children:e.label}),e.requiresDatabricks&&!N&&Dt.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Requires Databricks)"})]})},e.value))})]}),Dt.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for SIMBA optimizer"})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Judge Name"}),Dt.jsx(wC,{value:ne,readOnly:!0,className:"bg-gray-50",placeholder:"workshop_judge"}),Dt.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set in Annotation Phase (Facilitator Dashboard)"})]})]}),Dt.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[Dt.jsx(Vv,{onClick:de,disabled:!l.trim()||!ne.trim()||V||H,className:"bg-purple-600 hover:bg-purple-700",children:V?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(fv,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Evaluate()..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(wv,{className:"h-4 w-4 mr-2"}),"Run Evaluate()"]})}),Dt.jsx(Vv,{onClick:async()=>{if(console.log("[ALIGN] ===== FUNCTION CALLED ====="),!e||!l.trim())return void KS.error("Please enter a judge prompt first");if(!ne.trim())return void KS.error("Please enter a judge name");if(!N)return void KS.error("Databricks configuration required for alignment");if(!K)return void KS.error("Please run evaluate() first");if(g.length<10)return void KS.error("Need at least 10 evaluated traces before running align()");console.log("[ALIGN] Starting alignment with polling approach..."),Q(!0),se(["Starting alignment job..."]),te(!0),Z(null);const t=ie(l);try{const n={judge_name:ne,judge_prompt:t,evaluation_model_name:oM(h),alignment_model_name:oM(f)},r=await fetch(`/workshops/${e}/start-alignment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const e=await r.text();throw new Error(`Failed to start alignment: ${r.status} ${e}`)}const{job_id:s}=await r.json();console.log("[ALIGN] Job started with ID:",s),se(e=>[...e,`Alignment job started (ID: ${s.substring(0,8)}...)`]);let a=0,i=0;const l=1800,u=async()=>{i++;try{const n=await fetch(`/workshops/${e}/alignment-job/${s}?since_log_index=${a}`);if(!n.ok)return void console.error("[ALIGN] Status poll failed:",n.status);const r=await n.json();if(r.logs&&r.logs.length>0&&(se(e=>[...e,...r.logs]),a=r.log_count),"completed"===r.status){if(console.log("[ALIGN] Job completed!",r.result),r.result&&(Z(r.result),r.result.success&&(KS.success("Alignment complete! Judge has been optimized."),r.result.aligned_instructions&&(c(r.result.aligned_instructions),C(r.result.aligned_instructions),P(!1)),r.result.saved_prompt_id)))try{const t=await $m.getJudgePromptsWorkshopsWorkshopIdJudgePromptsGet(e);o(t),d(r.result.saved_prompt_id);const n=t.find(e=>e.id===r.result.saved_prompt_id);n&&(c(n.prompt_text),C(n.prompt_text),P(!1)),x([]),y(null),R(!1),G(!1)}catch(t){console.error("[ALIGN] Failed to refresh prompts:",t)}return void Q(!1)}if("failed"===r.status)return console.error("[ALIGN] Job failed:",r.error),KS.error(`Alignment failed: ${r.error||"Unknown error"}`),se(e=>[...e,`ERROR: ${r.error||"Unknown error"}`]),void Q(!1);"running"===r.status&&i<l?setTimeout(u,2e3):i>=l&&(console.warn("[ALIGN] Max poll count reached"),se(e=>[...e,"Warning: Polling timeout reached. Job may still be running."]),Q(!1))}catch(n){console.error("[ALIGN] Poll error:",n),i<l&&setTimeout(u,5e3)}};await u()}catch(n){console.error("[ALIGN] Exception caught:",n);const e=(null==n?void 0:n.message)||"Alignment failed";KS.error(`Alignment failed: ${e}`),se(t=>[...t,`ERROR: ${e}`]),Q(!1)}},disabled:H||V||!ne.trim(),className:K&&g.length>=10?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-600 hover:bg-gray-700 text-white",children:H?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(fv,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Align()..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Cx,{className:"h-4 w-4 mr-2"}),"Run Align()"]})}),(!K||g.length<10)&&Dt.jsx("span",{className:"text-sm text-gray-500",children:" Run evaluate() on at least 10 traces to enable alignment"})]}),Dt.jsxs("div",{className:"mt-4",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Dt.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Execution Logs"}),Dt.jsx(Vv,{variant:"ghost",size:"sm",onClick:()=>te(e=>!e),children:ee?"Hide Logs":"Show Logs"})]}),ee&&Dt.jsx("div",{className:"bg-gray-900 rounded-lg p-4 max-h-[300px] overflow-y-auto",children:0===Y.length?Dt.jsx("p",{className:"text-sm text-gray-400 font-mono",children:"No logs yet."}):Dt.jsx("pre",{className:"text-sm text-green-400 font-mono whitespace-pre-wrap",children:Y.map((e,t)=>Dt.jsx("div",{className:e.includes("ERROR")?"text-red-400":"",children:e},t))})})]}),X&&X.success&&Dt.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx(Fx,{className:"h-5 w-5 text-green-600"}),Dt.jsx("span",{className:"font-medium text-green-800",children:"Alignment Successful"})]}),Dt.jsxs("p",{className:"text-sm text-green-700",children:['Judge "',X.judge_name,'" tuned on ',X.trace_count," traces.",X.saved_prompt_version&&Dt.jsxs("span",{className:"ml-1",children:["(Saved as v",X.saved_prompt_version,")"]})]}),X.aligned_instructions&&Dt.jsxs("div",{className:"mt-3 space-y-2",children:[Dt.jsx(Vv,{onClick:()=>{c(X.aligned_instructions),C(X.aligned_instructions)},className:"bg-green-600 hover:bg-green-700 text-white",children:"Use Aligned Prompt"}),Dt.jsxs("details",{className:"text-sm",children:[Dt.jsx("summary",{className:"cursor-pointer text-green-600 hover:text-green-800",children:"View Aligned Instructions"}),Dt.jsx("pre",{className:"mt-2 p-2 bg-white rounded text-xs overflow-auto max-h-[200px]",children:X.aligned_instructions})]})]})]})]})]})]})}function pM(){var e;const{workshopId:t}=Ym(),{data:n}=rg(t),r=$p(),s=()=>{if(!t)return{};const e=`dbsql-export-state-${t}`,n=localStorage.getItem(e);if(n)try{const t=JSON.parse(n);if(Date.now()-t.timestamp<864e5)return t.state;localStorage.removeItem(e)}catch(r){localStorage.removeItem(e)}return{}},[a,i]=Nt.useState(()=>s().databricksHost||""),[o,l]=Nt.useState(()=>s().databricksToken||""),[c,u]=Nt.useState(()=>s().httpPath||""),[d,h]=Nt.useState(()=>s().catalog||""),[p,f]=Nt.useState(()=>s().schemaName||""),[m,g]=Nt.useState(()=>s().volumePath||""),[x,v]=Nt.useState(()=>s().fileName||""),[y,b]=Nt.useState(!1),[w,j]=Nt.useState(null),[k,N]=Nt.useState(null),[S,_]=Nt.useState(!1),[C,E]=Nt.useState(!1),[P,T]=Nt.useState(null),[R,I]=Nt.useState(0),{data:M}=Kp({queryKey:["dbsql-export-result",t],queryFn:async()=>null,staleTime:1/0,cacheTime:1/0}),{data:D,refetch:A}=Kp({queryKey:["dbsql-export-status",t],queryFn:async()=>{if(!t)return null;const e=await fetch(`/dbsql-export/${t}/export-status`);if(e.ok)return await e.json();throw new Error("Failed to check export status")},enabled:!!t,staleTime:3e5}),L=e=>{if(!t)return;const n=`dbsql-export-state-${t}`,r={databricksHost:a,databricksToken:o,httpPath:c,catalog:d,schemaName:p,scrollPosition:R,...e};localStorage.setItem(n,JSON.stringify({state:r,timestamp:Date.now()}))};Nt.useEffect(()=>{L({})},[a,o,c,d,p]),Nt.useEffect(()=>{const e=()=>{const e=window.scrollY;I(e),L({scrollPosition:e})};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),Nt.useEffect(()=>{R>0&&window.scrollTo(0,R)},[R]),Nt.useEffect(()=>{t&&A()},[t,A]);return Dt.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center space-y-2",children:[Dt.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[Dt.jsx(Bx,{className:"h-8 w-8"}),"Export to Databricks DBSQL"]}),Dt.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Export all workshop data from SQLite to Databricks DBSQL tables. This creates tables in your Unity Catalog and inserts all workshop data for analysis and reporting."})]}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Gx,{className:"h-5 w-5"}),"Workshop Summary"]})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"Workshop Name:"}),Dt.jsx("span",{className:"font-medium",children:(null==n?void 0:n.name)||"Loading..."})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"Current Phase:"}),Dt.jsx(Mv,{variant:"outline",children:(null==n?void 0:n.current_phase)||"Loading..."})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"Workshop ID:"}),Dt.jsx("span",{className:"font-mono text-sm",children:t})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(xv,{className:"h-5 w-5"}),"DBSQL Configuration"]}),Dt.jsx(mx,{children:"Configure your Databricks workspace and DBSQL warehouse settings"})]}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"databricks-host",children:"Databricks Host"}),Dt.jsx(wC,{id:"databricks-host",placeholder:"https://your-workspace.cloud.databricks.com",value:a,onChange:e=>{i(e.target.value),L({databricksHost:e.target.value})}})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"databricks-token",children:"Databricks Token"}),Dt.jsx(wC,{id:"databricks-token",type:"password",placeholder:"dapi...",value:o,onChange:e=>{l(e.target.value),L({databricksToken:e.target.value})}})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"http-path",children:"DBSQL Warehouse HTTP Path"}),Dt.jsx(wC,{id:"http-path",placeholder:"/sql/1.0/warehouses/xxxxxx",value:c,onChange:e=>{u(e.target.value),L({httpPath:e.target.value})}})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"catalog",children:"Unity Catalog"}),Dt.jsx(wC,{id:"catalog",placeholder:"your_catalog",value:d,onChange:e=>{h(e.target.value),L({catalog:e.target.value})}})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"schema",children:"Schema"}),Dt.jsx(wC,{id:"schema",placeholder:"your_schema",value:p,onChange:e=>{f(e.target.value),L({schemaName:e.target.value})}})]}),Dt.jsxs("div",{className:"flex gap-2 pt-4",children:[Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>{if(!t)return;const e=`dbsql-export-state-${t}`;localStorage.removeItem(e),i(""),l(""),u(""),h(""),f(""),g(""),v(""),j(null),N(null),I(0)},className:"flex-1",children:"Clear Form"}),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>L({}),className:"flex-1",children:"Save State"})]})]})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Ex,{className:"h-5 w-5"}),"Data Status"]}),Dt.jsx(mx,{children:"Check what data is available for export"})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsx(Vv,{variant:"outline",onClick:async()=>{if(t){E(!0),T(null);try{await A()}catch(SF){T("Failed to check export status")}finally{E(!1)}}},disabled:C,className:"w-full",children:C?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"h-4 w-4 mr-2 animate-spin"}),"Checking Status..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Ex,{className:"h-4 w-4 mr-2"}),"Check Export Status"]})}),D&&Dt.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(yv,{className:"h-4 w-4"}),Dt.jsx("span",{children:"Rubrics:"}),Dt.jsx(Mv,{variant:D.export_requirements.has_rubrics?"default":"secondary",children:D.data_summary.rubrics_count})]}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Fx,{className:"h-4 w-4"}),Dt.jsx("span",{children:"Annotations:"}),Dt.jsx(Mv,{variant:D.export_requirements.has_annotations?"default":"secondary",children:D.data_summary.annotations_count})]}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Bx,{className:"h-4 w-4"}),Dt.jsx("span",{children:"Traces:"}),Dt.jsx(Mv,{variant:D.export_requirements.has_traces?"default":"secondary",children:D.data_summary.traces_count})]}),Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Cv,{className:"h-4 w-4"}),Dt.jsx("span",{children:"Users:"}),Dt.jsx(Mv,{variant:D.export_requirements.has_users?"default":"secondary",children:D.data_summary.users_count})]})]})]})})]})]}),Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Hx,{className:"h-5 w-5"}),"Export to DBSQL"]}),Dt.jsx(mx,{children:"Export all workshop data to Databricks DBSQL tables"})]}),Dt.jsx(gx,{children:Dt.jsx(Vv,{onClick:async()=>{if(t&&a&&o&&c&&d&&p){_(!0),T(null);try{const e=await fetch(`/dbsql-export/${t}/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({databricks_host:a,databricks_token:o,http_path:c,catalog:d,schema_name:p})});if(e.ok){const n=await e.json();r.setQueryData(["dbsql-export-result",t],n)}else{const t=await e.json();T("string"==typeof t.detail?t.detail:"Export failed")}}catch(SF){T("Export failed")}finally{_(!1)}}else T("Please provide all required DBSQL configuration fields")},disabled:S||!a||!o||!c||!d||!p,className:"w-full",size:"lg",children:S?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting to DBSQL..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Bx,{className:"h-4 w-4 mr-2"}),"Export to DBSQL"]})})})]}),P&&Dt.jsxs(QC,{variant:"destructive",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsx(KC,{children:P})]}),M&&Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Fx,{className:"h-5 w-5 text-green-600"}),"Export Successful"]})}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs(QC,{children:[Dt.jsx(Fx,{className:"h-4 w-4"}),Dt.jsx(KC,{children:Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("p",{className:"font-medium",children:M.message}),Dt.jsxs("div",{className:"text-sm space-y-1",children:[Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Total Rows:"})," ",M.total_rows]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Tables Exported:"})," ",(null==(e=M.tables_exported)?void 0:e.length)||0]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Target Location:"})," ",d,".",p]})]})]})})]}),M.tables_exported&&M.tables_exported.length>0&&Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("h4",{className:"text-sm font-medium",children:"Exported Tables"}),Dt.jsx("div",{className:"space-y-2",children:M.tables_exported.map((e,t)=>Dt.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(bv,{className:"h-3 w-3"}),Dt.jsx("span",{className:"text-sm font-mono",children:e.table_name})]}),Dt.jsxs(Mv,{variant:"outline",children:[e.rows_exported," rows"]})]},t))})]}),M.errors&&M.errors.length>0&&Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("h4",{className:"text-sm font-medium text-red-600",children:"Errors"}),Dt.jsx("div",{className:"space-y-1",children:M.errors.map((e,t)=>Dt.jsx("p",{className:"text-sm text-red-600",children:e},t))})]}),Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>{return e=`${d}.${p}`,void navigator.clipboard.writeText(e);var e},children:[Dt.jsx(Vx,{className:"h-4 w-4 mr-2"}),"Copy Location"]}),Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:()=>window.open(`https://${a.replace("https://","").replace("http://","")}`,"_blank"),children:[Dt.jsx(Qx,{className:"h-4 w-4 mr-2"}),"View in Databricks"]})]})]})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Nv,{className:"h-5 w-5"}),"Upload SQLite to Unity Catalog Volume"]}),Dt.jsx(mx,{children:"Upload the SQLite database file to a Unity Catalog volume for backup and sharing"})]}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"volume-path",children:"Volume Path"}),Dt.jsx(wC,{id:"volume-path",placeholder:"main.marketing.raw_files",value:m,onChange:e=>{g(e.target.value),L({volumePath:e.target.value})},className:"font-mono text-sm"}),Dt.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: catalog.schema.volume_name"})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"file-name",children:"File Name (Optional)"}),Dt.jsx(wC,{id:"file-name",placeholder:"workshop_data.db",value:x,onChange:e=>{v(e.target.value),L({fileName:e.target.value})},className:"font-mono text-sm"}),Dt.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Default: workshop_",t,".db"]})]}),Dt.jsx(Vv,{onClick:async()=>{if(t&&m&&a&&o){b(!0),N(null),j(null);try{const e=m.trim().split(".");if(3!==e.length)throw new Error("Volume path must be in format: catalog.schema.volume_name");const[n,r,s]=e,i=x||`workshop_${t}.db`,l=await fetch(`/workshops/${t}/upload-to-volume`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({volume_path:m,file_name:i,databricks_host:a,databricks_token:o})});if(!l.ok){const e=await l.json();throw new Error(e.detail||`Upload failed: ${l.statusText}`)}const c=await l.json();j(c),N(null)}catch(SF){N(SF.message||"Upload failed"),j(null)}finally{b(!1)}}else N("Missing required fields: workshop ID, volume path, Databricks host, or token")},disabled:y||!a||!o||!m,className:"w-full",size:"lg",children:y?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading to Volume..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Nv,{className:"h-4 w-4 mr-2"}),"Upload to Unity Catalog Volume"]})}),w&&Dt.jsxs(QC,{children:[Dt.jsx(Fx,{className:"h-4 w-4"}),Dt.jsx(KC,{children:Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("p",{className:"font-medium",children:"Upload Successful!"}),Dt.jsxs("div",{className:"text-sm space-y-1",children:[Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Volume Path:"})," ",m]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"File Path:"})," ",w.file_path]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"File Size:"})," ",w.file_size," bytes"]})]})]})})]}),k&&Dt.jsxs(QC,{variant:"destructive",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsx(KC,{children:k})]})]})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(nv,{className:"h-5 w-5"}),"What Gets Exported"]})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-3 text-sm",children:[Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(bv,{className:"h-4 w-4 mt-0.5"}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"All Tables:"})," Complete SQLite database exported to DBSQL tables"]})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(yv,{className:"h-4 w-4 mt-0.5"}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Rubrics:"})," Evaluation criteria and questions"]})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(Fx,{className:"h-4 w-4 mt-0.5"}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Annotations:"})," Human ratings and comments"]})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(Bx,{className:"h-4 w-4 mt-0.5"}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Traces:"})," Input/output pairs and context"]})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(Cv,{className:"h-4 w-4 mt-0.5"}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Users:"})," Workshop participants and roles"]})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx(Hx,{className:"h-4 w-4 mt-0.5"}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Automatic Schema:"})," Tables created with proper data types"]})]})]})})]})]})]})]})}function fM(){const{workshopId:e}=Ym(),{data:t}=rg(e),[n,r]=Nt.useState(""),[s,a]=Nt.useState(""),[i,o]=Nt.useState(""),[l,c]=Nt.useState(`workshop_${e}.db`),[u,d]=Nt.useState(!1),[h,p]=Nt.useState(!1),[f,m]=Nt.useState(0),[g,x]=Nt.useState(null),{data:v}=Kp({queryKey:["all-traces",e],queryFn:async()=>{if(!e)return[];const t=await fetch(`/workshops/${e}/all-traces`);if(!t.ok)throw new Error("Failed to fetch traces");return t.json()},enabled:!!e}),{data:y}=Kp({queryKey:["annotations",e],queryFn:async()=>{if(!e)return[];const t=await fetch(`/workshops/${e}/annotations`);if(!t.ok)throw new Error("Failed to fetch annotations");return t.json()},enabled:!!e});return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Dt.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Manage Workshop Data"}),Dt.jsx("p",{className:"text-lg text-gray-600",children:"Upload workshop data to Unity Volume or download locally for analysis"})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Bx,{className:"h-5 w-5"}),"Workshop Database Summary"]}),Dt.jsx(mx,{children:"Overview of the data that will be uploaded/downloaded"})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Dt.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==v?void 0:v.length)||0}),Dt.jsx("div",{className:"text-sm text-gray-600",children:"Total Traces"})]}),Dt.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl font-bold text-green-600",children:(null==y?void 0:y.length)||0}),Dt.jsx("div",{className:"text-sm text-gray-600",children:"Total Annotations"})]}),Dt.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(null==t?void 0:t.name)||"Workshop"}),Dt.jsx("div",{className:"text-sm text-gray-600",children:"Workshop Name"})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(qx,{className:"h-5 w-5"}),"Upload to Unity Volume"]}),Dt.jsx(mx,{children:"Upload the workshop database to a Unity Catalog volume for sharing and analysis"})]}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs(QC,{children:[Dt.jsx(nv,{className:"h-4 w-4"}),Dt.jsxs(KC,{children:["The volume path should be in the format: ",Dt.jsx("code",{children:"catalog.schema.volume_name"}),Dt.jsx("br",{}),"Example: ",Dt.jsx("code",{children:"main.default.workshop_data"})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"databricks-host-upload",children:"Databricks Host"}),Dt.jsx(wC,{id:"databricks-host-upload",placeholder:"https://your-workspace.cloud.databricks.com",value:n,onChange:e=>r(e.target.value)})]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"databricks-token-upload",children:"Databricks Token"}),Dt.jsx(wC,{id:"databricks-token-upload",type:"password",placeholder:"dapi...",value:s,onChange:e=>a(e.target.value)})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"volume-path",children:"Volume Path"}),Dt.jsx(wC,{id:"volume-path",placeholder:"catalog.schema.volume_name",value:i,onChange:e=>o(e.target.value)})]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"file-name",children:"File Name"}),Dt.jsx(wC,{id:"file-name",placeholder:"workshop_database.db",value:l,onChange:e=>c(e.target.value)})]})]}),Dt.jsx(Vv,{onClick:async()=>{if(n.trim()&&s.trim()&&i.trim()&&l.trim()){d(!0),m(0),x(null);try{const t=setInterval(()=>{m(e=>e>=90?(clearInterval(t),90):e+10)},200),r=await fetch(`/workshops/${e}/upload-to-volume`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({databricks_host:n,databricks_token:s,volume_path:i,file_name:l})});if(clearInterval(t),m(100),!r.ok){const e=await r.json();throw new Error(e.detail||"Failed to upload to volume")}await r.json();KS.success("Workshop database uploaded to Unity volume successfully!"),setTimeout(()=>{m(0)},2e3)}catch(SF){x(SF.message||"Failed to upload to volume"),KS.error("Failed to upload to volume")}finally{d(!1)}}else x("Please provide all required fields: Databricks host, token, volume path, and file name")},disabled:u||!n.trim()||!s.trim()||!i.trim()||!l.trim(),className:"w-full",variant:"outline",children:u?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading to Volume... ",f,"%"]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Nv,{className:"mr-2 h-4 w-4"}),"Upload to Unity Volume"]})}),f>0&&Dt.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Dt.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Zx,{className:"h-5 w-5"}),"Download Database"]}),Dt.jsx(mx,{children:"Download the workshop database file to your local machine"})]}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs(QC,{children:[Dt.jsx(nv,{className:"h-4 w-4"}),Dt.jsx(KC,{children:"This will download the complete workshop database including all traces, annotations, rubric data, and workshop configuration."})]}),Dt.jsx(Vv,{onClick:async()=>{p(!0),x(null);try{const t=await fetch(`/workshops/${e}/download-database`);if(!t.ok)throw new Error("Failed to download database");const n=await t.blob(),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`workshop_${e}_${(new Date).toISOString().split("T")[0]}.db`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),KS.success("Workshop database downloaded successfully!")}catch(SF){x(SF.message||"Failed to download database"),KS.error("Failed to download database")}finally{p(!1)}},disabled:h,className:"w-full",variant:"outline",children:h?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"mr-2 h-4 w-4 animate-spin"}),"Downloading Database..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Hx,{className:"mr-2 h-4 w-4"}),"Download Workshop Database"]})})]})]}),g&&Dt.jsxs(QC,{variant:"destructive",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsx(KC,{children:g})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(nv,{className:"h-5 w-5"}),"How It Works"]})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium mb-2",children:"Unity Volume Upload"}),Dt.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[Dt.jsx("li",{children:" Uploads the complete workshop.db file"}),Dt.jsx("li",{children:" Uses provided Databricks credentials (not stored)"}),Dt.jsx("li",{children:" Stores in Unity Catalog for team access"}),Dt.jsx("li",{children:" Enables sharing and collaboration"}),Dt.jsx("li",{children:" Supports version control and backup"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium mb-2",children:"Local Download"}),Dt.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[Dt.jsx("li",{children:" Downloads the complete database file"}),Dt.jsx("li",{children:" Includes all workshop data and history"}),Dt.jsx("li",{children:" Can be used for offline analysis"}),Dt.jsx("li",{children:" Compatible with SQLite tools"})]})]})]})})]})]})})}const mM=({onBack:e})=>{const{workshopId:t}=Ym(),{user:n}=Vm(),{isFacilitator:r}=Hm(),s=$p(),[a,i]=Nt.useState(""),[o,l]=Nt.useState("all"),[c,u]=Nt.useState(null),{data:d}=Kp({queryKey:["facilitator-findings-with-users",t],queryFn:async()=>{const e=await fetch(`/workshops/${t}/findings-with-users`);if(!e.ok)throw new Error("Failed to fetch findings");return e.json()},enabled:!!t}),{data:h}=ig(t),{data:p,refetch:f}=Kp({queryKey:["discovery-completion-status",t],queryFn:async()=>{const e=await fetch(`/workshops/${t}/discovery-completion-status`);if(!e.ok)throw new Error("Failed to fetch completion status");return e.json()},enabled:!!t});if(!r)return Dt.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Gx,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-slate-900 mb-2",children:"Facilitator Access Required"}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"This findings review is only available to workshop facilitators"})]})});const m=St.useMemo(()=>{if(!d||!h)return new Map;const e=new Map;return d.forEach(t=>{e.has(t.trace_id)||e.set(t.trace_id,[]),e.get(t.trace_id).push(t)}),e},[d,h]),g=St.useMemo(()=>d?Array.from(new Set(d.map(e=>e.user_id))):[],[d]),x=St.useMemo(()=>{if(!d)return[];let e=d;return"all"!==o&&(e=e.filter(e=>e.user_id===o)),a&&(e=e.filter(e=>e.insight.toLowerCase().includes(a.toLowerCase())||e.user_name.toLowerCase().includes(a.toLowerCase())||e.user_email.toLowerCase().includes(a.toLowerCase()))),e},[d,o,a]),v=e=>null==h?void 0:h.find(t=>t.id===e),y=e=>e.startsWith("demo_")?e.replace("_"," ").toUpperCase():e;return Dt.jsx("div",{className:"p-6 h-full overflow-auto",children:Dt.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[Dt.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e&&Dt.jsxs(Vv,{variant:"outline",size:"sm",onClick:e,children:[Dt.jsx(kx,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center",children:Dt.jsx(Gx,{className:"w-6 h-6 text-white"})}),Dt.jsxs("div",{children:[Dt.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Discovery Findings Review"}),Dt.jsx("p",{className:"text-slate-600",children:"Review all participant insights and discoveries from the workshop"})]})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Dt.jsx(hx,{children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Gx,{className:"w-5 h-5 text-emerald-600"}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"text-2xl font-bold text-slate-900",children:(null==d?void 0:d.length)||0}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"Total Findings"})]})]})})}),Dt.jsx(hx,{children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Cv,{className:"w-5 h-5 text-blue-600"}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"text-2xl font-bold text-slate-900",children:g.length}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"Active Users"})]})]})})}),Dt.jsx(hx,{children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Kx,{className:"w-5 h-5 text-purple-600"}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"text-2xl font-bold text-slate-900",children:m.size}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"Traces Reviewed"})]})]})})}),Dt.jsx(hx,{children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Jx,{className:"w-5 h-5 text-orange-600"}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"text-2xl font-bold text-slate-900",children:x.length}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"Filtered Results"})]})]})})})]}),p&&Dt.jsxs(hx,{className:"border-blue-200 bg-blue-50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2 text-blue-900",children:[Dt.jsx(Cv,{className:"w-5 h-5"}),"Discovery Completion Status"]}),Dt.jsx(mx,{className:"text-blue-700",children:"Track participant progress and manage phase progression"})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center gap-4",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[p.completed_participants,"/",p.total_participants]}),Dt.jsx("div",{className:"text-sm text-blue-700",children:"Participants Complete"})]}),Dt.jsxs("div",{className:"text-center",children:[Dt.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Math.round(p.completion_percentage),"%"]}),Dt.jsx("div",{className:"text-sm text-blue-700",children:"Completion Rate"})]})]}),Dt.jsx("div",{className:"flex-1 max-w-md",children:Dt.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3",children:Dt.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${p.completion_percentage}%`}})})})]}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.values(p.participant_status).map(e=>Dt.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx("div",{className:"w-3 h-3 rounded-full "+(e.completed?"bg-green-500":"bg-gray-300")}),Dt.jsxs("div",{className:"flex flex-col",children:[Dt.jsx("span",{className:"text-sm font-medium",children:e.user_name}),Dt.jsx("span",{className:"text-xs text-gray-500",children:e.user_email})]}),Dt.jsx(Mv,{variant:"outline",className:"text-xs",children:e.role})]}),Dt.jsx(Mv,{className:e.completed?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:e.completed?"Complete":"In Progress"})]},e.user_id))}),Dt.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-blue-200",children:[Dt.jsx("div",{className:"text-sm text-blue-700",children:p.all_completed?Dt.jsxs("span",{className:"flex items-center gap-2",children:[Dt.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"All participants have completed discovery"]}):Dt.jsxs("span",{className:"flex items-center gap-2",children:[Dt.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Waiting for ",p.total_participants-p.completed_participants," participants to complete"]})}),Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>f(),children:"Refresh Status"}),p.all_completed&&Dt.jsx(Vv,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:async()=>{if(confirm("Are you sure you want to move to Rubric Creation? This will complete the discovery phase."))try{const n=await fetch(`/workshops/${t}`);if(!n.ok)throw new Error(`Failed to fetch workshop: ${n.statusText}`);const r=await n.json();if("discovery"!==r.current_phase)throw new Error(`Cannot advance to rubric: workshop is in ${r.current_phase} phase, not discovery phase`);if(!d||0===d.length)throw new Error("Cannot advance to rubric: No discovery findings submitted yet");const a=await fetch(`/workshops/${t}/complete-phase/discovery`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok){const e=await a.json().catch(()=>({}));throw new Error(`Failed to complete discovery phase: ${e.detail||a.statusText}`)}const i=await fetch(`/workshops/${t}/advance-to-rubric`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(`Failed to advance to rubric phase: ${e.detail||i.statusText}`)}KS.success("Discovery phase completed! Moving to Rubric Creation."),s.invalidateQueries({queryKey:["workshop",t]}),s.invalidateQueries({queryKey:["discovery-completion-status",t]}),e&&e()}catch(n){const e=n instanceof Error?n.message:"Failed to complete discovery phase. Please try again.";KS.error(e)}},children:"Move to Rubric Creation"})]})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{className:"pb-4",children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(mv,{className:"w-5 h-5"}),"Search & Filter Findings"]})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"flex gap-4",children:[Dt.jsx("div",{className:"flex-1",children:Dt.jsx(wC,{placeholder:"Search findings by content or user...",value:a,onChange:e=>i(e.target.value),className:"w-full"})}),Dt.jsxs(XI,{value:o,onValueChange:l,children:[Dt.jsx(eM,{className:"w-48",children:Dt.jsx(ZI,{placeholder:"Filter by user"})}),Dt.jsxs(rM,{children:[Dt.jsx(sM,{value:"all",children:"All Users"}),g.map(e=>{const t=null==d?void 0:d.find(t=>t.user_id===e);return Dt.jsx(sM,{value:e,children:t?`${t.user_name} (${t.user_email})`:y(e)},e)})]})]})]})})]}),Dt.jsxs(rC,{defaultValue:"by-finding",className:"space-y-4",children:[Dt.jsxs(sC,{children:[Dt.jsx(aC,{value:"by-finding",children:"All Findings"}),Dt.jsx(aC,{value:"by-trace",children:"By Trace"}),Dt.jsx(aC,{value:"by-user",children:"By User"})]}),Dt.jsx(iC,{value:"by-finding",children:Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{children:["All Findings (",x.length,")"]}),Dt.jsx(mx,{children:"Chronological list of all discovery findings"})]}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"space-y-4",children:x.length>0?x.map(e=>{var t;const n=v(e.trace_id);return Dt.jsxs("div",{className:"border rounded-lg p-4 bg-slate-50",children:[Dt.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsxs("div",{className:"flex flex-col",children:[Dt.jsx(Mv,{variant:"outline",className:"text-xs",children:e.user_name}),Dt.jsx("span",{className:"text-xs text-slate-500",children:e.user_email})]}),Dt.jsxs("span",{className:"text-xs text-slate-500",children:["Trace: ",(null==(t=null==n?void 0:n.id)?void 0:t.slice(0,8))||"Unknown","..."]})]}),Dt.jsx("span",{className:"text-xs text-slate-400",children:new Date(e.created_at).toLocaleString()})]}),Dt.jsx("div",{className:"prose prose-sm max-w-none",children:Dt.jsx("div",{className:"whitespace-pre-wrap text-slate-700",children:e.insight})})]},e.id)}):Dt.jsxs("div",{className:"text-center py-8 text-slate-500",children:[Dt.jsx(Gx,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),Dt.jsx("p",{children:"No findings match your current filters"})]})})})]})}),Dt.jsx(iC,{value:"by-trace",children:Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsx(fx,{children:"Findings Organized by Trace"}),Dt.jsx(mx,{children:"See all findings grouped by the traces they analyze"})]}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"space-y-6",children:Array.from(m.entries()).map(([e,t])=>{const n=v(e),r=t.filter(e=>x.some(t=>t.id===e.id));return 0===r.length?null:Dt.jsxs("div",{className:"border rounded-lg p-4",children:[Dt.jsxs("div",{className:"mb-4",children:[Dt.jsxs("h3",{className:"font-semibold text-slate-900 mb-2",children:["Trace: ",e.slice(0,8),"...",Dt.jsxs(Mv,{variant:"secondary",className:"ml-2",children:[r.length," finding",1!==r.length?"s":""]})]}),n&&Dt.jsxs("div",{className:"text-xs text-slate-600 mb-3 p-2 bg-slate-100 rounded",children:[Dt.jsx("strong",{children:"Input:"})," ",n.input.slice(0,100),"..."]})]}),Dt.jsx("div",{className:"space-y-3",children:r.map(e=>Dt.jsxs("div",{className:"pl-4 border-l-2 border-emerald-200 bg-emerald-50 p-3 rounded-r",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Dt.jsxs("div",{className:"flex flex-col",children:[Dt.jsx(Mv,{variant:"outline",className:"text-xs",children:e.user_name}),Dt.jsx("span",{className:"text-xs text-slate-500",children:e.user_email})]}),Dt.jsx("span",{className:"text-xs text-slate-400",children:new Date(e.created_at).toLocaleString()})]}),Dt.jsx("div",{className:"whitespace-pre-wrap text-slate-700 text-sm",children:e.insight})]},e.id))})]},e)})})})]})}),Dt.jsx(iC,{value:"by-user",children:Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsx(fx,{children:"Findings Organized by User"}),Dt.jsx(mx,{children:"See all findings grouped by contributor"})]}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"space-y-6",children:g.map(e=>{const t=x.filter(t=>t.user_id===e);if(0===t.length)return null;const n=null==d?void 0:d.find(t=>t.user_id===e);return Dt.jsxs("div",{className:"border rounded-lg p-4",children:[Dt.jsxs("div",{className:"mb-4",children:[Dt.jsxs("h3",{className:"font-semibold text-slate-900 mb-2",children:[n?n.user_name:y(e),Dt.jsxs(Mv,{variant:"secondary",className:"ml-2",children:[t.length," finding",1!==t.length?"s":""]})]}),n&&Dt.jsx("p",{className:"text-sm text-slate-600",children:n.user_email})]}),Dt.jsx("div",{className:"space-y-3",children:t.map(e=>{var t;const n=v(e.trace_id);return Dt.jsxs("div",{className:"pl-4 border-l-2 border-blue-200 bg-blue-50 p-3 rounded-r",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Dt.jsxs("span",{className:"text-xs text-slate-600",children:["Trace: ",(null==(t=null==n?void 0:n.id)?void 0:t.slice(0,8))||"Unknown","..."]}),Dt.jsx("span",{className:"text-xs text-slate-400",children:new Date(e.created_at).toLocaleString()})]}),Dt.jsx("div",{className:"whitespace-pre-wrap text-slate-700 text-sm",children:e.insight})]},e.id)})})]},e)})})})]})})]})]})})};function gM(){const{workshopId:e}=Ym(),{setCurrentPhase:t}=gg(),n=$p(),[r,s]=Nt.useState({databricks_host:"",databricks_token:"",experiment_id:"",max_traces:100,filter_string:""}),[a,i]=Nt.useState(null),[o,l]=Nt.useState(!1),[c,u]=Nt.useState(null),[d,h]=Nt.useState(null),[p,f]=Nt.useState(!1);Nt.useEffect(()=>{m()},[e]);const m=async()=>{if(e)try{const t=await fetch(`/workshops/${e}/mlflow-status`);if(t.ok){const e=await t.json();i(e),e.config&&s(e.config)}}catch(SF){}},g=(e,t)=>{s(n=>({...n,[e]:t}))};return Dt.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[Dt.jsxs("div",{className:"mb-8",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"MLflow Trace Intake"}),Dt.jsx("p",{className:"text-gray-600",children:"Configure and pull MLflow traces from your Databricks workspace to begin the workshop."})]}),Dt.jsxs(hx,{className:"mb-6",children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Bx,{className:"h-5 w-5"}),"Intake Status"]})}),Dt.jsx(gx,{children:a?Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Mv,{variant:a.is_configured?"default":"secondary",children:a.is_configured?"Configured":"Not Configured"}),Dt.jsx(Mv,{variant:a.is_ingested?"default":"secondary",children:a.is_ingested?"Ingested":"Not Ingested"}),a.trace_count>0&&Dt.jsxs(Mv,{variant:"outline",children:[a.trace_count," traces"]})]}),a.last_ingestion_time&&Dt.jsxs("p",{className:"text-sm text-gray-600",children:["Last ingested: ",new Date(a.last_ingestion_time).toLocaleString()]}),a.error_message&&Dt.jsxs(QC,{variant:"destructive",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsx(KC,{children:a.error_message})]})]}):Dt.jsx("p",{className:"text-gray-500",children:"Loading status..."})})]}),Dt.jsxs(hx,{className:"mb-6",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(xv,{className:"h-5 w-5"}),"MLflow Configuration"]}),Dt.jsx(mx,{children:"Configure your Databricks workspace and MLflow experiment details."})]}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"databricks_host",children:"Databricks Host"}),Dt.jsx(wC,{id:"databricks_host",placeholder:"https://your-workspace.cloud.databricks.com",value:r.databricks_host,onChange:e=>g("databricks_host",e.target.value)})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"experiment_id",children:"Experiment ID"}),Dt.jsx(wC,{id:"experiment_id",placeholder:"1234567890123456",value:r.experiment_id,onChange:e=>g("experiment_id",e.target.value)})]})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"databricks_token",children:"Databricks Token"}),Dt.jsx(wC,{id:"databricks_token",type:"password",placeholder:"dapi...",value:r.databricks_token,onChange:e=>g("databricks_token",e.target.value)})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"max_traces",children:"Max Traces"}),Dt.jsx(wC,{id:"max_traces",type:"number",min:"1",max:"1000",value:r.max_traces,onChange:e=>g("max_traces",parseInt(e.target.value))})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{htmlFor:"filter_string",children:"Filter String (Optional)"}),Dt.jsx(wC,{id:"filter_string",placeholder:"attributes.status = 'OK'",value:r.filter_string||"",onChange:e=>g("filter_string",e.target.value)})]})]})]})]}),Dt.jsxs(hx,{className:"mb-6",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Hx,{className:"h-5 w-5"}),"Ingest Traces"]}),Dt.jsx(mx,{children:"Pull traces from MLflow into the workshop for analysis."})]}),Dt.jsxs(gx,{children:[Dt.jsx(Vv,{onClick:async()=>{if(e)if(r.databricks_host&&r.databricks_token&&r.experiment_id){l(!0),u(null);try{const t=await fetch(`/workshops/${e}/mlflow-config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok){const e=await t.json();return void u(e.detail||"Failed to save configuration")}const s=await fetch(`/workshops/${e}/mlflow-ingest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(s.ok){const t=await s.json();await m(),n.invalidateQueries({queryKey:["traces",e]}),n.invalidateQueries({queryKey:["all-traces",e]}),0===t.trace_count?KS.info("Traces from this experiment have already been ingested. No new traces were added."):KS.success(`Successfully ingested ${t.trace_count} traces!`)}else if(404===s.status)u("Workshop or MLflow endpoint not found. Please check your configuration and try again.");else{const e=await s.json().catch(()=>({}));u(e.detail||`Failed to ingest traces (HTTP ${s.status})`)}}catch(SF){u("Network error: Unable to connect to the server. Please check your connection and try again.")}finally{l(!1)}}else u("Please fill in all required fields: Databricks Host, Token, and Experiment ID.");else u("No workshop available. Please create a workshop first.")},disabled:o||!r.databricks_host||!r.databricks_token||!r.experiment_id,className:"w-full",children:o?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"mr-2 h-4 w-4 animate-spin"}),"Ingesting Traces..."]}):"Ingest Traces from MLflow"}),c&&Dt.jsxs(QC,{variant:"destructive",className:"mt-4",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsx(KC,{children:c})]})]})]}),Dt.jsxs(hx,{className:"mb-6",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Nv,{className:"h-5 w-5"}),"Upload Traces from CSV"]}),Dt.jsx(mx,{children:'Upload traces from an MLflow trace export CSV for customers without direct MLflow access. CSV must have "request_preview" and "response_preview" columns.'})]}),Dt.jsxs(gx,{className:"space-y-4",children:[Dt.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[Dt.jsx(Gx,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),Dt.jsx("div",{className:"mb-4",children:Dt.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[Dt.jsx("input",{id:"csv-upload",type:"file",accept:".csv",className:"hidden",onChange:e=>{e.target.files&&e.target.files[0]&&(h(e.target.files[0]),u(null))}}),Dt.jsx(Vv,{variant:"outline",type:"button",asChild:!0,children:Dt.jsxs("span",{children:[Dt.jsx(Gx,{className:"mr-2 h-4 w-4"}),"Select CSV File"]})})]})}),d&&Dt.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Selected: ",Dt.jsx("span",{className:"font-medium",children:d.name})]}),Dt.jsx("p",{className:"text-xs text-gray-500",children:'Expected format: MLflow trace export CSV with "request_preview" and "response_preview" columns'})]}),Dt.jsx(Vv,{onClick:async()=>{if(e)if(d){f(!0),u(null);try{const t=new FormData;t.append("file",d);const r=await fetch(`/workshops/${e}/csv-upload`,{method:"POST",body:t});if(r.ok){const t=await r.json();await m(),n.invalidateQueries({queryKey:["traces",e]}),n.invalidateQueries({queryKey:["all-traces",e]}),KS.success(`Successfully uploaded ${t.trace_count} traces from CSV!`),h(null)}else{const e=await r.json().catch(()=>({}));u(e.detail||`Failed to upload CSV (HTTP ${r.status})`)}}catch(SF){u("Network error: Unable to connect to the server. Please check your connection and try again.")}finally{f(!1)}}else u("Please select a CSV file to upload.");else u("No workshop available. Please create a workshop first.")},disabled:p||!d,className:"w-full",children:p?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading CSV..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Nv,{className:"mr-2 h-4 w-4"}),"Upload CSV Traces"]})})]})]}),(null==a?void 0:a.is_ingested)&&a.trace_count>0&&Dt.jsx(hx,{className:"mb-6 border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:Dt.jsx(Fx,{className:"w-5 h-5 text-green-600"})}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("h4",{className:"font-semibold text-green-900",children:"Ready for Discovery Phase"}),Dt.jsx("p",{className:"text-sm text-green-700",children:"Traces have been successfully ingested. Use the sidebar workflow to start the discovery phase."})]})]})})})]})}var xM="horizontal",vM=["horizontal","vertical"],yM=Nt.forwardRef((e,t)=>{const{decorative:n,orientation:r=xM,...s}=e,a=function(e){return vM.includes(e)}(r)?r:xM,i=n?{role:"none"}:{"aria-orientation":"vertical"===a?a:void 0,role:"separator"};return Dt.jsx(h_.div,{"data-orientation":a,...i,...s,ref:t})});yM.displayName="Separator";var bM=yM;const wM=Nt.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>Dt.jsx(bM,{ref:s,decorative:n,orientation:t,className:dx("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));wM.displayName=bM.displayName;var jM=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=Nt.useState(),r=Nt.useRef(null),s=Nt.useRef(e),a=Nt.useRef("none"),i=e?"mounted":"unmounted",[o,l]=function(e,t){return Nt.useReducer((e,n)=>t[e][n]??e,e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Nt.useEffect(()=>{const e=kM(r.current);a.current="mounted"===o?e:"none"},[o]),l_(()=>{const t=r.current,n=s.current;if(n!==e){const r=a.current,i=kM(t);if(e)l("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,l]),l_(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,i=a=>{const i=kM(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&i&&(l("ANIMATION_END"),!s.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},o=e=>{e.target===t&&(a.current=kM(r.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:Nt.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),s="function"==typeof n?n({present:r.isPresent}):Nt.Children.only(n),a=Ov(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof n||r.isPresent?Nt.cloneElement(s,{ref:a}):null};function kM(e){return(null==e?void 0:e.animationName)||"none"}function NM(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}jM.displayName="Presence";var SM="ScrollArea",[_M,CM]=a_(SM),[EM,PM]=_M(SM),TM=Nt.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[o,l]=Nt.useState(null),[c,u]=Nt.useState(null),[d,h]=Nt.useState(null),[p,f]=Nt.useState(null),[m,g]=Nt.useState(null),[x,v]=Nt.useState(0),[y,b]=Nt.useState(0),[w,j]=Nt.useState(!1),[k,N]=Nt.useState(!1),S=Ov(t,e=>l(e)),_=v_(s);return Dt.jsx(EM,{scope:n,type:r,dir:_,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:f,scrollbarXEnabled:w,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:N,onCornerWidthChange:v,onCornerHeightChange:b,children:Dt.jsx(h_.div,{dir:_,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});TM.displayName=SM;var RM="ScrollAreaViewport",IM=Nt.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=PM(RM,n),o=Ov(t,Nt.useRef(null),i.onViewportChange);return Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),Dt.jsx(h_.div,{"data-radix-scroll-area-viewport":"",...a,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Dt.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});IM.displayName=RM;var MM="ScrollAreaScrollbar",DM=Nt.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=PM(MM,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,o="horizontal"===e.orientation;return Nt.useEffect(()=>(o?a(!0):i(!0),()=>{o?a(!1):i(!1)}),[o,a,i]),"hover"===s.type?Dt.jsx(AM,{...r,ref:t,forceMount:n}):"scroll"===s.type?Dt.jsx(LM,{...r,ref:t,forceMount:n}):"auto"===s.type?Dt.jsx(OM,{...r,ref:t,forceMount:n}):"always"===s.type?Dt.jsx(FM,{...r,ref:t}):null});DM.displayName=MM;var AM=Nt.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=PM(MM,e.__scopeScrollArea),[a,i]=Nt.useState(!1);return Nt.useEffect(()=>{const e=s.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),i(!0)},r=()=>{t=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}},[s.scrollArea,s.scrollHideDelay]),Dt.jsx(jM,{present:n||a,children:Dt.jsx(OM,{"data-state":a?"visible":"hidden",...r,ref:t})})}),LM=Nt.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=PM(MM,e.__scopeScrollArea),a="horizontal"===e.orientation,i=rD(()=>l("SCROLL_END"),100),[o,l]=(c="hidden",u={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},Nt.useReducer((e,t)=>u[e][t]??e,c));var c,u;return Nt.useEffect(()=>{if("idle"===o){const e=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[o,s.scrollHideDelay,l]),Nt.useEffect(()=>{const e=s.viewport,t=a?"scrollLeft":"scrollTop";if(e){let n=e[t];const r=()=>{const r=e[t];n!==r&&(l("SCROLL"),i()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[s.viewport,a,l,i]),Dt.jsx(jM,{present:n||"hidden"!==o,children:Dt.jsx(FM,{"data-state":"hidden"===o?"hidden":"visible",...r,ref:t,onPointerEnter:NM(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:NM(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),OM=Nt.forwardRef((e,t)=>{const n=PM(MM,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=Nt.useState(!1),o="horizontal"===e.orientation,l=rD(()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;i(o?e:t)}},10);return sD(n.viewport,l),sD(n.content,l),Dt.jsx(jM,{present:r||a,children:Dt.jsx(FM,{"data-state":a?"visible":"hidden",...s,ref:t})})}),FM=Nt.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=PM(MM,e.__scopeScrollArea),a=Nt.useRef(null),i=Nt.useRef(0),[o,l]=Nt.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=JM(o.viewport,o.content),u={...r,sizes:o,onSizesChange:l,hasThumb:Boolean(c>0&&c<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function d(e,t){return function(e,t,n,r="ltr"){const s=XM(n),a=s/2,i=t||a,o=s-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,u=n.content-n.viewport,d="ltr"===r?[0,u]:[-1*u,0];return eD([l,c],d)(e)}(e,i.current,o,t)}return"horizontal"===n?Dt.jsx(zM,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const e=ZM(s.viewport.scrollLeft,o,s.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollLeft=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollLeft=d(e,s.dir))}}):"vertical"===n?Dt.jsx(WM,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const e=ZM(s.viewport.scrollTop,o);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollTop=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollTop=d(e))}}):null}),zM=Nt.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=PM(MM,e.__scopeScrollArea),[i,o]=Nt.useState(),l=Nt.useRef(null),c=Ov(t,l,a.onScrollbarXChange);return Nt.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),Dt.jsx(qM,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":XM(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),tD(r,n)&&t.preventDefault()}},onResize:()=>{l.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:YM(i.paddingLeft),paddingEnd:YM(i.paddingRight)}})}})}),WM=Nt.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=PM(MM,e.__scopeScrollArea),[i,o]=Nt.useState(),l=Nt.useRef(null),c=Ov(t,l,a.onScrollbarYChange);return Nt.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),Dt.jsx(qM,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":XM(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),tD(r,n)&&t.preventDefault()}},onResize:()=>{l.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:YM(i.paddingTop),paddingEnd:YM(i.paddingBottom)}})}})}),[UM,$M]=_M(MM),qM=Nt.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=e,p=PM(MM,n),[f,m]=Nt.useState(null),g=Ov(t,e=>m(e)),x=Nt.useRef(null),v=Nt.useRef(""),y=p.viewport,b=r.content-r.viewport,w=f_(u),j=f_(l),k=rD(d,10);function N(e){if(x.current){const t=e.clientX-x.current.left,n=e.clientY-x.current.top;c({x:t,y:n})}}return Nt.useEffect(()=>{const e=e=>{const t=e.target;(null==f?void 0:f.contains(t))&&w(e,b)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[y,f,b,w]),Nt.useEffect(j,[r,j]),sD(f,k),sD(p.content,k),Dt.jsx(UM,{scope:n,scrollbar:f,hasThumb:s,onThumbChange:f_(a),onThumbPointerUp:f_(i),onThumbPositionChange:j,onThumbPointerDown:f_(o),children:Dt.jsx(h_.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:NM(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),x.current=f.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(e)}}),onPointerMove:NM(e.onPointerMove,N),onPointerUp:NM(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),VM="ScrollAreaThumb",BM=Nt.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=$M(VM,e.__scopeScrollArea);return Dt.jsx(jM,{present:n||s.hasThumb,children:Dt.jsx(HM,{ref:t,...r})})}),HM=Nt.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=PM(VM,n),i=$M(VM,n),{onThumbPositionChange:o}=i,l=Ov(t,e=>i.onThumbChange(e)),c=Nt.useRef(void 0),u=rD(()=>{c.current&&(c.current(),c.current=void 0)},100);return Nt.useEffect(()=>{const e=a.viewport;if(e){const t=()=>{if(u(),!c.current){const t=nD(e,o);c.current=t,o()}};return o(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[a.viewport,u,o]),Dt.jsx(h_.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:NM(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;i.onThumbPointerDown({x:n,y:r})}),onPointerUp:NM(e.onPointerUp,i.onThumbPointerUp)})});BM.displayName=VM;var QM="ScrollAreaCorner",KM=Nt.forwardRef((e,t)=>{const n=PM(QM,e.__scopeScrollArea),r=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&r?Dt.jsx(GM,{...e,ref:t}):null});KM.displayName=QM;var GM=Nt.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=PM(QM,n),[a,i]=Nt.useState(0),[o,l]=Nt.useState(0),c=Boolean(a&&o);return sD(s.scrollbarX,()=>{var e;const t=(null==(e=s.scrollbarX)?void 0:e.offsetHeight)||0;s.onCornerHeightChange(t),l(t)}),sD(s.scrollbarY,()=>{var e;const t=(null==(e=s.scrollbarY)?void 0:e.offsetWidth)||0;s.onCornerWidthChange(t),i(t)}),c?Dt.jsx(h_.div,{...r,ref:t,style:{width:a,height:o,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function YM(e){return e?parseInt(e,10):0}function JM(e,t){const n=e/t;return isNaN(n)?0:n}function XM(e){const t=JM(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ZM(e,t,n="ltr"){const r=XM(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,o=a-r,l=GC(e,"ltr"===n?[0,i]:[-1*i,0]);return eD([0,i],[0,o])(l)}function eD(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function tD(e,t){return e>0&&e<t}var nD=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,o=n.top!==a.top;(i||o)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function rD(e,t){const n=f_(e),r=Nt.useRef(0);return Nt.useEffect(()=>()=>window.clearTimeout(r.current),[]),Nt.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function sD(e,t){const n=f_(t);l_(()=>{let t=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,n])}var aD=TM,iD=IM,oD=KM;const lD=Nt.forwardRef(({className:e,children:t,...n},r)=>Dt.jsxs(aD,{ref:r,className:dx("relative overflow-hidden",e),...n,children:[Dt.jsx(iD,{className:"h-full w-full rounded-[inherit]",children:t}),Dt.jsx(cD,{}),Dt.jsx(oD,{})]}));lD.displayName=aD.displayName;const cD=Nt.forwardRef(({className:e,orientation:t="vertical",...n},r)=>Dt.jsx(DM,{ref:r,orientation:t,className:dx("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:Dt.jsx(BM,{className:"relative flex-1 rounded-full bg-border"})}));cD.displayName=DM.displayName;var uD={exports:{}},dD={},hD=Nt;var pD="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},fD=hD.useState,mD=hD.useEffect,gD=hD.useLayoutEffect,xD=hD.useDebugValue;function vD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pD(e,n)}catch(r){return!0}}var yD="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=fD({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return gD(function(){s.value=n,s.getSnapshot=t,vD(s)&&a({inst:s})},[e,n,t]),mD(function(){return vD(s)&&a({inst:s}),e(function(){vD(s)&&a({inst:s})})},[e]),xD(n),n};dD.useSyncExternalStore=void 0!==hD.useSyncExternalStore?hD.useSyncExternalStore:yD,uD.exports=dD;var bD=uD.exports;function wD(){return()=>{}}var jD="Avatar",[kD,ND]=a_(jD),[SD,_D]=kD(jD),CD=Nt.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=Nt.useState("idle");return Dt.jsx(SD,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:Dt.jsx(h_.span,{...r,ref:t})})});CD.displayName=jD;var ED="AvatarImage",PD=Nt.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=_D(ED,n),o=function(e,{referrerPolicy:t,crossOrigin:n}){const r=bD.useSyncExternalStore(wD,()=>!0,()=>!1),s=Nt.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,o]=Nt.useState(()=>ID(a,e));return l_(()=>{o(ID(a,e))},[a,e]),l_(()=>{const e=e=>()=>{o(e)};if(!a)return;const r=e("loaded"),s=e("error");return a.addEventListener("load",r),a.addEventListener("error",s),t&&(a.referrerPolicy=t),"string"==typeof n&&(a.crossOrigin=n),()=>{a.removeEventListener("load",r),a.removeEventListener("error",s)}},[a,n,t]),i}(r,a),l=f_(e=>{s(e),i.onImageLoadingStatusChange(e)});return l_(()=>{"idle"!==o&&l(o)},[o,l]),"loaded"===o?Dt.jsx(h_.img,{...a,ref:t,src:r}):null});PD.displayName=ED;var TD="AvatarFallback",RD=Nt.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=_D(TD,n),[i,o]=Nt.useState(void 0===r);return Nt.useEffect(()=>{if(void 0!==r){const e=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(e)}},[r]),i&&"loaded"!==a.imageLoadingStatus?Dt.jsx(h_.span,{...s,ref:t}):null});function ID(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}RD.displayName=TD;var MD=CD,DD=PD,AD=RD;const LD=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(MD,{ref:n,className:dx("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));LD.displayName=MD.displayName;Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(DD,{ref:n,className:dx("aspect-square h-full w-full",e),...t})).displayName=DD.displayName;const OD=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(AD,{ref:n,className:dx("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));OD.displayName=AD.displayName;var FD=["Enter"," "],zD=["ArrowUp","PageDown","End"],WD=["ArrowDown","PageUp","Home",...zD],UD={ltr:[...FD,"ArrowRight"],rtl:[...FD,"ArrowLeft"]},$D={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qD="Menu",[VD,BD,HD]=o_(qD),[QD,KD]=a_(qD,[HD,uT,__]),GD=uT(),YD=__(),[JD,XD]=QD(qD),[ZD,eA]=QD(qD),tA=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:i=!0}=e,o=GD(t),[l,c]=Nt.useState(null),u=Nt.useRef(!1),d=f_(a),h=v_(s);return Nt.useEffect(()=>{const e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),Dt.jsx(_T,{...o,children:Dt.jsx(JD,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:Dt.jsx(ZD,{scope:t,onClose:Nt.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:i,children:r})})})};tA.displayName=qD;var nA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=GD(n);return Dt.jsx(CT,{...s,...r,ref:t})});nA.displayName="MenuAnchor";var rA="MenuPortal",[sA,aA]=QD(rA,{forceMount:void 0}),iA=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=XD(rA,t);return Dt.jsx(sA,{scope:t,forceMount:n,children:Dt.jsx(O_,{present:n||a.open,children:Dt.jsx(TT,{asChild:!0,container:s,children:r})})})};iA.displayName=rA;var oA="MenuContent",[lA,cA]=QD(oA),uA=Nt.forwardRef((e,t)=>{const n=aA(oA,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=XD(oA,e.__scopeMenu),i=eA(oA,e.__scopeMenu);return Dt.jsx(VD.Provider,{scope:e.__scopeMenu,children:Dt.jsx(O_,{present:r||a.open,children:Dt.jsx(VD.Slot,{scope:e.__scopeMenu,children:i.modal?Dt.jsx(dA,{...s,ref:t}):Dt.jsx(hA,{...s,ref:t})})})})}),dA=Nt.forwardRef((e,t)=>{const n=XD(oA,e.__scopeMenu),r=Nt.useRef(null),s=Ov(t,r);return Nt.useEffect(()=>{const e=r.current;if(e)return FT(e)},[]),Dt.jsx(fA,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:s_(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),hA=Nt.forwardRef((e,t)=>{const n=XD(oA,e.__scopeMenu);return Dt.jsx(fA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pA=Fv("MenuContent.ScrollLock"),fA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:f,...m}=e,g=XD(oA,n),x=eA(oA,n),v=GD(n),y=YD(n),b=BD(n),[w,j]=Nt.useState(null),k=Nt.useRef(null),N=Ov(t,k,g.onContentChange),S=Nt.useRef(0),_=Nt.useRef(""),C=Nt.useRef(0),E=Nt.useRef(null),P=Nt.useRef("right"),T=Nt.useRef(0),R=f?SR:Nt.Fragment,I=f?{as:pA,allowPinchZoom:!0}:void 0,M=e=>{var t,n;const r=_.current+e,s=b().filter(e=>!e.disabled),a=document.activeElement,i=null==(t=s.find(e=>e.ref.current===a))?void 0:t.textValue,o=function(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0]),s=r?t[0]:t,a=n?e.indexOf(n):-1;let i=(o=e,l=Math.max(a,0),o.map((e,t)=>o[(l+t)%o.length]));var o,l;1===s.length&&(i=i.filter(e=>e!==n));const c=i.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}(s.map(e=>e.textValue),r,i),l=null==(n=s.find(e=>e.textValue===o))?void 0:n.ref.current;!function e(t){_.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout(()=>e(""),1e3))}(r),l&&setTimeout(()=>l.focus())};Nt.useEffect(()=>()=>window.clearTimeout(S.current),[]),aE();const D=Nt.useCallback(e=>{var t,n;return P.current===(null==(t=E.current)?void 0:t.side)&&function(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return function(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a],o=t[i],l=e.x,c=e.y,u=o.x,d=o.y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}(n,t)}(e,null==(n=E.current)?void 0:n.area)},[]);return Dt.jsx(lA,{scope:n,searchRef:_,onItemEnter:Nt.useCallback(e=>{D(e)&&e.preventDefault()},[D]),onItemLeave:Nt.useCallback(e=>{var t;D(e)||(null==(t=k.current)||t.focus(),j(null))},[D]),onTriggerLeave:Nt.useCallback(e=>{D(e)&&e.preventDefault()},[D]),pointerGraceTimerRef:C,onPointerGraceIntentChange:Nt.useCallback(e=>{E.current=e},[]),children:Dt.jsx(R,{...I,children:Dt.jsx(uE,{asChild:!0,trapped:s,onMountAutoFocus:s_(a,e=>{var t;e.preventDefault(),null==(t=k.current)||t.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:Dt.jsx(tE,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:Dt.jsx(A_,{asChild:!0,...y,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:j,onEntryFocus:s_(l,e=>{x.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:Dt.jsx(ET,{role:"menu","aria-orientation":"vertical","data-state":WA(g.open),"data-radix-menu-content":"",dir:x.dir,...v,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:s_(m.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&M(e.key));const s=k.current;if(e.target!==s)return;if(!WD.includes(e.key))return;e.preventDefault();const a=b().filter(e=>!e.disabled).map(e=>e.ref.current);zD.includes(e.key)&&a.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(a)}),onBlur:s_(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),_.current="")}),onPointerMove:s_(e.onPointerMove,qA(e=>{const t=e.target,n=T.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>T.current?"right":"left";P.current=t,T.current=e.clientX}}))})})})})})})});uA.displayName=oA;var mA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return Dt.jsx(h_.div,{role:"group",...r,ref:t})});mA.displayName="MenuGroup";var gA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return Dt.jsx(h_.div,{...r,ref:t})});gA.displayName="MenuLabel";var xA="MenuItem",vA="menu.itemSelect",yA=Nt.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=Nt.useRef(null),i=eA(xA,e.__scopeMenu),o=cA(xA,e.__scopeMenu),l=Ov(t,a),c=Nt.useRef(!1);return Dt.jsx(bA,{...s,ref:l,disabled:n,onClick:s_(e.onClick,()=>{const e=a.current;if(!n&&e){const t=new CustomEvent(vA,{bubbles:!0,cancelable:!0});e.addEventListener(vA,e=>null==r?void 0:r(e),{once:!0}),p_(e,t),t.defaultPrevented?c.current=!1:i.onClose()}}),onPointerDown:t=>{var n;null==(n=e.onPointerDown)||n.call(e,t),c.current=!0},onPointerUp:s_(e.onPointerUp,e=>{var t;c.current||null==(t=e.currentTarget)||t.click()}),onKeyDown:s_(e.onKeyDown,e=>{const t=""!==o.searchRef.current;n||t&&" "===e.key||FD.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});yA.displayName=xA;var bA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,i=cA(xA,n),o=YD(n),l=Nt.useRef(null),c=Ov(t,l),[u,d]=Nt.useState(!1),[h,p]=Nt.useState("");return Nt.useEffect(()=>{const e=l.current;e&&p((e.textContent??"").trim())},[a.children]),Dt.jsx(VD.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:Dt.jsx(L_,{asChild:!0,...o,focusable:!r,children:Dt.jsx(h_.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:s_(e.onPointerMove,qA(e=>{if(r)i.onItemLeave(e);else if(i.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:s_(e.onPointerLeave,qA(e=>i.onItemLeave(e))),onFocus:s_(e.onFocus,()=>d(!0)),onBlur:s_(e.onBlur,()=>d(!1))})})})}),wA=Nt.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return Dt.jsx(PA,{scope:e.__scopeMenu,checked:n,children:Dt.jsx(yA,{role:"menuitemcheckbox","aria-checked":UA(n)?"mixed":n,...s,ref:t,"data-state":$A(n),onSelect:s_(s.onSelect,()=>null==r?void 0:r(!!UA(n)||!n),{checkForDefaultPrevented:!1})})})});wA.displayName="MenuCheckboxItem";var jA="MenuRadioGroup",[kA,NA]=QD(jA,{value:void 0,onValueChange:()=>{}}),SA=Nt.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=f_(r);return Dt.jsx(kA,{scope:e.__scopeMenu,value:n,onValueChange:a,children:Dt.jsx(mA,{...s,ref:t})})});SA.displayName=jA;var _A="MenuRadioItem",CA=Nt.forwardRef((e,t)=>{const{value:n,...r}=e,s=NA(_A,e.__scopeMenu),a=n===s.value;return Dt.jsx(PA,{scope:e.__scopeMenu,checked:a,children:Dt.jsx(yA,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":$A(a),onSelect:s_(r.onSelect,()=>{var e;return null==(e=s.onValueChange)?void 0:e.call(s,n)},{checkForDefaultPrevented:!1})})})});CA.displayName=_A;var EA="MenuItemIndicator",[PA,TA]=QD(EA,{checked:!1}),RA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=TA(EA,n);return Dt.jsx(O_,{present:r||UA(a.checked)||!0===a.checked,children:Dt.jsx(h_.span,{...s,ref:t,"data-state":$A(a.checked)})})});RA.displayName=EA;var IA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return Dt.jsx(h_.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});IA.displayName="MenuSeparator";var MA=Nt.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=GD(n);return Dt.jsx(PT,{...s,...r,ref:t})});MA.displayName="MenuArrow";var[DA,AA]=QD("MenuSub"),LA="MenuSubTrigger",OA=Nt.forwardRef((e,t)=>{const n=XD(LA,e.__scopeMenu),r=eA(LA,e.__scopeMenu),s=AA(LA,e.__scopeMenu),a=cA(LA,e.__scopeMenu),i=Nt.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:e.__scopeMenu},u=Nt.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return Nt.useEffect(()=>u,[u]),Nt.useEffect(()=>{const e=o.current;return()=>{window.clearTimeout(e),l(null)}},[o,l]),Dt.jsx(nA,{asChild:!0,...c,children:Dt.jsx(bA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":WA(n.open),...e,ref:Lv(t,s.onTriggerChange),onClick:t=>{var r;null==(r=e.onClick)||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:s_(e.onPointerMove,qA(t=>{a.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||i.current||(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:s_(e.onPointerLeave,qA(e=>{var t,r;u();const s=null==(t=n.content)?void 0:t.getBoundingClientRect();if(s){const t=null==(r=n.content)?void 0:r.dataset.side,i="right"===t,l=i?-5:5,c=s[i?"left":"right"],u=s[i?"right":"left"];a.onPointerGraceIntentChange({area:[{x:e.clientX+l,y:e.clientY},{x:c,y:s.top},{x:u,y:s.top},{x:u,y:s.bottom},{x:c,y:s.bottom}],side:t}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:s_(e.onKeyDown,t=>{var s;const i=""!==a.searchRef.current;e.disabled||i&&" "===t.key||UD[r.dir].includes(t.key)&&(n.onOpenChange(!0),null==(s=n.content)||s.focus(),t.preventDefault())})})})});OA.displayName=LA;var FA="MenuSubContent",zA=Nt.forwardRef((e,t)=>{const n=aA(oA,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=XD(oA,e.__scopeMenu),i=eA(oA,e.__scopeMenu),o=AA(FA,e.__scopeMenu),l=Nt.useRef(null),c=Ov(t,l);return Dt.jsx(VD.Provider,{scope:e.__scopeMenu,children:Dt.jsx(O_,{present:r||a.open,children:Dt.jsx(VD.Slot,{scope:e.__scopeMenu,children:Dt.jsx(fA,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:c,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;i.isUsingKeyboardRef.current&&(null==(t=l.current)||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:s_(e.onFocusOutside,e=>{e.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:s_(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:s_(e.onKeyDown,e=>{var t;const n=e.currentTarget.contains(e.target),r=$D[i.dir].includes(e.key);n&&r&&(a.onOpenChange(!1),null==(t=o.trigger)||t.focus(),e.preventDefault())})})})})})});function WA(e){return e?"open":"closed"}function UA(e){return"indeterminate"===e}function $A(e){return UA(e)?"indeterminate":e?"checked":"unchecked"}function qA(e){return t=>"mouse"===t.pointerType?e(t):void 0}zA.displayName=FA;var VA=tA,BA=nA,HA=iA,QA=uA,KA=mA,GA=gA,YA=yA,JA=wA,XA=SA,ZA=CA,eL=RA,tL=IA,nL=MA,rL=OA,sL=zA,aL="DropdownMenu",[iL,oL]=a_(aL,[KD]),lL=KD(),[cL,uL]=iL(aL),dL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=lL(t),c=Nt.useRef(null),[u,d]=g_({prop:s,defaultProp:a??!1,onChange:i,caller:aL});return Dt.jsx(cL,{scope:t,triggerId:d_(),triggerRef:c,contentId:d_(),open:u,onOpenChange:d,onOpenToggle:Nt.useCallback(()=>d(e=>!e),[d]),modal:o,children:Dt.jsx(VA,{...l,open:u,onOpenChange:d,dir:r,modal:o,children:n})})};dL.displayName=aL;var hL="DropdownMenuTrigger",pL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=uL(hL,n),i=lL(n);return Dt.jsx(BA,{asChild:!0,...i,children:Dt.jsx(h_.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Lv(t,a.triggerRef),onPointerDown:s_(e.onPointerDown,e=>{r||0!==e.button||!1!==e.ctrlKey||(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:s_(e.onKeyDown,e=>{r||(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});pL.displayName=hL;var fL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=lL(t);return Dt.jsx(HA,{...r,...n})};fL.displayName="DropdownMenuPortal";var mL="DropdownMenuContent",gL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=uL(mL,n),a=lL(n),i=Nt.useRef(!1);return Dt.jsx(QA,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:s_(e.onCloseAutoFocus,e=>{var t;i.current||null==(t=s.triggerRef.current)||t.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:s_(e.onInteractOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;s.modal&&!r||(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gL.displayName=mL;Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(KA,{...s,...r,ref:t})}).displayName="DropdownMenuGroup";var xL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(GA,{...s,...r,ref:t})});xL.displayName="DropdownMenuLabel";var vL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(YA,{...s,...r,ref:t})});vL.displayName="DropdownMenuItem";var yL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(JA,{...s,...r,ref:t})});yL.displayName="DropdownMenuCheckboxItem";Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(XA,{...s,...r,ref:t})}).displayName="DropdownMenuRadioGroup";var bL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(ZA,{...s,...r,ref:t})});bL.displayName="DropdownMenuRadioItem";var wL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(eL,{...s,...r,ref:t})});wL.displayName="DropdownMenuItemIndicator";var jL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(tL,{...s,...r,ref:t})});jL.displayName="DropdownMenuSeparator";Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(nL,{...s,...r,ref:t})}).displayName="DropdownMenuArrow";var kL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(rL,{...s,...r,ref:t})});kL.displayName="DropdownMenuSubTrigger";var NL=Nt.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=lL(n);return Dt.jsx(sL,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NL.displayName="DropdownMenuSubContent";var SL=fL,_L=gL,CL=xL,EL=vL,PL=yL,TL=bL,RL=wL,IL=jL,ML=kL,DL=NL;const AL=dL,LL=pL;Nt.forwardRef(({className:e,inset:t,children:n,...r},s)=>Dt.jsxs(ML,{ref:s,className:dx("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,Dt.jsx(Mx,{className:"ml-auto h-4 w-4"})]})).displayName=ML.displayName;Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(DL,{ref:n,className:dx("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=DL.displayName;const OL=Nt.forwardRef(({className:e,sideOffset:t=4,...n},r)=>Dt.jsx(SL,{children:Dt.jsx(_L,{ref:r,sideOffset:t,className:dx("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));OL.displayName=_L.displayName;const FL=Nt.forwardRef(({className:e,inset:t,...n},r)=>Dt.jsx(EL,{ref:r,className:dx("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));FL.displayName=EL.displayName;Nt.forwardRef(({className:e,children:t,checked:n,...r},s)=>Dt.jsxs(PL,{ref:s,className:dx("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[Dt.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Dt.jsx(RL,{children:Dt.jsx(Tx,{className:"h-4 w-4"})})}),t]})).displayName=PL.displayName;Nt.forwardRef(({className:e,children:t,...n},r)=>Dt.jsxs(TL,{ref:r,className:dx("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[Dt.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Dt.jsx(RL,{children:Dt.jsx(Wx,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=TL.displayName;const zL=Nt.forwardRef(({className:e,inset:t,...n},r)=>Dt.jsx(CL,{ref:r,className:dx("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));zL.displayName=CL.displayName;const WL=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(IL,{ref:n,className:dx("-mx-1 my-1 h-px bg-muted",e),...t}));WL.displayName=IL.displayName;const UL=({onNavigate:e})=>{const{user:t}=Vm(),{workshopId:n}=Ym();$p();const{isFacilitator:r,isSME:s}=Hm(),{currentPhase:a,isPhaseComplete:i}=gg(),[o,l]=St.useState(!1),[c,u]=St.useState(null),d=i("discovery"),h=i("rubric"),p=i("annotation"),f=i("results"),m=i("judge_tuning"),{data:g}=Kp({queryKey:["user-discovery-complete",n,null==t?void 0:t.id],queryFn:async()=>{if(!(null==t?void 0:t.id)||!n)return!1;const e=await fetch(`/workshops/${n}/users/${t.id}/discovery-complete`);if(!e.ok)return!1;return(await e.json()).discovery_complete},enabled:!!(null==t?void 0:t.id)&&!!n&&"discovery"===a}),{data:x}=Kp({queryKey:["discovery-completion-status",n],queryFn:async()=>{if(!n)return null;const e=await fetch(`/workshops/${n}/discovery-completion-status`);return e.ok?e.json():null},enabled:!!n&&"discovery"===a});if(!t)return Dt.jsx(hx,{children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"text-center text-gray-500",children:[Dt.jsx(Ox,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),Dt.jsx("h3",{className:"text-lg font-medium mb-2",children:"Please log in"}),Dt.jsx("p",{className:"mb-4",children:"Choose your role to join the workshop."}),Dt.jsx(Vv,{onClick:()=>window.location.reload(),children:"Refresh Page"})]})})});const{data:v}=cg(n),y=!!v,b=()=>{const t=[],n=d||(null==x?void 0:x.all_completed)||["rubric","annotation","results","judge_tuning","dbsql_export"].includes(a);if("intake"===a?t.push({title:"Intake Phase",description:r?"Configure and pull MLflow traces":"Waiting for facilitator to load traces",status:r?"in_progress":"waiting",action:()=>e("intake"),accessible:r}):t.push({title:"Intake Phase",description:"MLflow traces loaded and ready",status:"completed",action:()=>e("intake"),accessible:r}),"intake"===a)t.push({title:"Discovery Phase",description:r?"Ready to begin discovery phase":"Waiting for facilitator to start discovery phase",status:r?"available":"waiting",action:()=>e("discovery"),accessible:!0});else{let s="upcoming",i="Explore traces and provide insights";n?(s="completed",i="Discovery phase completed for all participants"):g?(s="completed",i="You have completed discovery - waiting for others"):(s="in_progress",i="Explore traces and provide insights");const o="rubric"===a?"completed":s,l="rubric"===a?"Discovery phase completed for all participants":i;t.push({title:"Discovery Phase",description:r?"Monitor discovery progress and review findings":l,status:o,action:()=>e("discovery"),accessible:!0})}return n&&r&&!y?t.push({title:"Rubric Creation",description:"Create evaluation rubric for the annotation phase",status:"available",action:()=>e("rubric"),accessible:r}):!n||r||y?y&&!h?t.push({title:"Rubric Creation",description:r?"Rubric created - ready to start annotation phase":"Evaluation criteria ready - click to view",status:"completed",action:()=>e("rubric"),accessible:r}):h?t.push({title:"Rubric Creation",description:r?"View or edit the evaluation rubric":"View the evaluation rubric",status:"completed",action:()=>e("rubric"),accessible:r}):t.push({title:"Rubric Creation",description:"Complete discovery phase first",status:"upcoming",action:()=>e("rubric"),accessible:r}):t.push({title:"Rubric Creation",description:"Facilitator preparing evaluation criteria",status:"pending",action:()=>e("rubric"),accessible:r}),"discovery"===a&&n&&y&&r?t.push({title:"Annotation Phase",description:"Ready to start annotation phase - use discovery dashboard to begin",status:"available",action:()=>e("annotation"),accessible:!0}):"annotation"===a?s?t.push({title:"Annotation Phase",description:"Rate traces using the rubric",status:p?"completed":"in_progress",action:()=>e("annotation"),accessible:!0}):r?t.push({title:"Annotation Phase",description:"Monitor annotation progress (SMEs only)",status:p?"completed":"in_progress",action:()=>e("annotation"),accessible:!0}):t.push({title:"Annotation Phase",description:"SMEs are currently annotating the traces",status:"in_progress",action:()=>e("annotation"),accessible:!0}):p?t.push({title:"Annotation Phase",description:"View completed annotations",status:"completed",action:()=>e("annotation"),accessible:!0}):t.push({title:"Annotation Phase",description:s?"SMEs will annotate traces using the rubric":"SMEs will annotate traces (you will observe)",status:"upcoming",action:()=>e("annotation"),accessible:!0}),p?r?t.push({title:"Results Review",description:"View analysis and IRR results (share screen with participants)",status:f?"completed":"results"===a?"in_progress":"available",action:()=>e("results"),accessible:!0}):t.push({title:"Results Review",description:"Workshop complete! Facilitator will share the IRR results",status:f?"completed":"waiting",action:()=>e("results"),accessible:!0}):t.push({title:"Results Review",description:r?"Review IRR results and share with participants":"Facilitator will share results",status:"upcoming",action:()=>e("results"),accessible:r}),p&&r?t.push({title:"Judge Tuning",description:"Create and refine AI judges using annotation data",status:"judge_tuning"===a?"in_progress":"dbsql_export"===a||m?"completed":"available",action:()=>e("judge_tuning"),accessible:r}):p&&!r?t.push({title:"Judge Tuning",description:"Facilitator is creating AI judges (advanced feature)",status:"dbsql_export"===a||m?"completed":"waiting",action:()=>e("judge_tuning"),accessible:r}):t.push({title:"Judge Tuning",description:r?"Create AI judges from human annotations":"AI judge creation (facilitator only)",status:"upcoming",action:()=>e("judge_tuning"),accessible:r}),"unity_volume"===a?t.push({title:"Manage Workshop Data",description:"Upload to Unity Volume or download workshop data",status:"in_progress",action:()=>e("unity_volume"),accessible:!0}):m?t.push({title:"Manage Workshop Data",description:"Upload to Unity Volume or download workshop data",status:"available",action:()=>e("unity_volume"),accessible:!0}):t.push({title:"Manage Workshop Data",description:"Upload to Unity Volume or download workshop data after judge tuning",status:"upcoming",action:()=>e("unity_volume"),accessible:!0}),t},w=e=>{switch(e){case"completed":return Dt.jsx(Fx,{className:"w-4 h-4"});case"in_progress":case"available":case"pending":case"upcoming":default:return Dt.jsx($x,{className:"w-4 h-4"});case"action_required":return Dt.jsx(hv,{className:"w-4 h-4"});case"waiting":return Dt.jsx(Ox,{className:"w-4 h-4"})}};return Dt.jsxs("div",{className:"space-y-3",children:[c&&Dt.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3",children:Dt.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsxs("span",{className:"text-xs font-medium",children:["Error: ",c]})]})}),r&&Dt.jsxs("div",{className:"rounded-lg border bg-card p-3 space-y-2",children:[Dt.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-foreground",children:[Dt.jsx(Cv,{className:"w-3.5 h-3.5"}),"Management"]}),Dt.jsxs("div",{className:"flex flex-col gap-1.5",children:[Dt.jsxs(Vv,{variant:"ghost",size:"sm",onClick:()=>e("user-management"),className:"justify-start h-8 px-2 text-xs",children:[Dt.jsx(Cv,{className:"w-3.5 h-3.5 mr-2"}),"Invite Participants"]}),Dt.jsxs(Vv,{variant:"ghost",size:"sm",onClick:()=>e("dashboard-general"),className:"justify-start h-8 px-2 text-xs",children:[Dt.jsx(xv,{className:"w-3.5 h-3.5 mr-2"}),"Dashboard"]})]})]}),Dt.jsx("div",{className:"space-y-2",children:b().map((e,t)=>{const n="in_progress"===e.status||"action_required"===e.status,r="completed"===e.status,s="waiting"===e.status,i=(()=>{const t=e.title.toLowerCase();return t.includes("discovery")?"discovery"===a:t.includes("rubric")?"rubric"===a:t.includes("annotation")?"annotation"===a:t.includes("results")?"results"===a:t.includes("judge")?"judge_tuning"===a:!!t.includes("dbsql")&&"dbsql_export"===a})();return Dt.jsxs("button",{onClick:()=>{o||e.action()},className:"relative w-full rounded-lg border p-3 text-left transition-all "+(i&&!r?"border-primary bg-primary/5 shadow-sm ring-2 ring-primary/20":n?"border-primary/50 bg-primary/5":r?"border-emerald-200 bg-emerald-50/50":s?"border-amber-200 bg-amber-50/50":"border-border bg-card hover:bg-accent"),children:[Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full "+(r?"bg-emerald-100 text-emerald-700":n?"bg-primary/10 text-primary":s?"bg-amber-100 text-amber-700":"bg-muted text-muted-foreground"),children:w(e.status)}),Dt.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx("h4",{className:"text-xs font-semibold leading-none",children:e.title}),i&&!r&&Dt.jsx("span",{className:"rounded-full bg-primary/10 px-1.5 py-0.5 text-[10px] font-medium text-primary",children:"Current"})]}),Dt.jsx("p",{className:"text-[11px] leading-snug text-muted-foreground line-clamp-2",children:e.description})]})]}),t<b().length-1&&Dt.jsx("div",{className:"absolute left-[22px] top-10 h-3 w-px bg-border"})]},t)})})]})};function $L({onNavigate:e,showUserSwitching:t=!1}){const{user:n,setUser:r}=Vm(),{isFacilitator:s,isSME:a}=Hm();return Dt.jsxs("div",{className:"flex h-screen w-64 flex-col border-r bg-background",children:[Dt.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-6",children:[Dt.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600",children:Dt.jsx(Cx,{className:"h-5 w-5 text-white"})}),Dt.jsxs("div",{className:"flex flex-col",children:[Dt.jsx("span",{className:"text-sm font-semibold leading-none",children:"LLM Workshop"}),Dt.jsx("span",{className:"text-xs text-muted-foreground",children:"Annotation Tool"})]})]}),Dt.jsx(lD,{className:"flex-1 px-3 py-4",children:Dt.jsx(UL,{onNavigate:e})}),Dt.jsx(wM,{}),Dt.jsx("div",{className:"p-4",children:Dt.jsxs(AL,{children:[Dt.jsx(LL,{asChild:!0,children:Dt.jsxs(Vv,{variant:"ghost",className:"w-full justify-start gap-3 px-2 py-6 hover:bg-accent",children:[Dt.jsx(LD,{className:"h-9 w-9",children:Dt.jsx(OD,{className:`bg-gradient-to-br ${s?"from-cyan-500 to-teal-600":a?"from-purple-500 to-blue-600":"from-yellow-500 to-red-600"} text-sm font-semibold text-white`,children:(null==n?void 0:n.name)?n.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U"})}),Dt.jsxs("div",{className:"flex flex-1 flex-col items-start text-left",children:[Dt.jsx("span",{className:"text-sm font-medium",children:(null==n?void 0:n.name)||"User"}),Dt.jsx("span",{className:`text-xs ${s?"bg-cyan-100 text-cyan-700 border-cyan-200":a?"bg-purple-100 text-purple-700 border-purple-200":"bg-yellow-100 text-yellow-700 border-yellow-200"} rounded-full px-2 py-0.5 border mt-1`,children:(null==n?void 0:n.role)||"Participant"})]}),Dt.jsx(Rx,{className:"h-4 w-4 text-muted-foreground"})]})}),Dt.jsxs(OL,{align:"end",className:"w-56",children:[Dt.jsx(zL,{children:Dt.jsxs("div",{className:"flex flex-col space-y-1",children:[Dt.jsx("p",{className:"text-sm font-medium leading-none",children:(null==n?void 0:n.name)||"User"}),Dt.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(null==n?void 0:n.email)||"No email"})]})}),Dt.jsx(WL,{}),Dt.jsxs(FL,{disabled:!0,children:[Dt.jsx(_v,{className:"mr-2 h-4 w-4"}),Dt.jsx("span",{children:"Profile"})]}),Dt.jsxs(FL,{disabled:!0,children:[Dt.jsx(xv,{className:"mr-2 h-4 w-4"}),Dt.jsx("span",{children:"Settings"})]}),t&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(WL,{}),Dt.jsxs(FL,{onClick:()=>r(null),children:[Dt.jsx(av,{className:"mr-2 h-4 w-4"}),Dt.jsx("span",{children:"Switch User"})]})]})]})]})})]})}var qL="Progress",VL=100,[BL,HL]=a_(qL),[QL,KL]=BL(qL),GL=Nt.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=XL,...i}=e;!s&&0!==s||tO(s)||console.error(`Invalid prop \`max\` of value \`${`${s}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const o=tO(s)?s:VL;null===r||nO(r,o)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${r}`,"Progress"));const l=nO(r,o)?r:null,c=eO(l)?a(l,o):void 0;return Dt.jsx(QL,{scope:n,value:l,max:o,children:Dt.jsx(h_.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":eO(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":ZL(l,o),"data-value":l??void 0,"data-max":o,...i,ref:t})})});GL.displayName=qL;var YL="ProgressIndicator",JL=Nt.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=KL(YL,n);return Dt.jsx(h_.div,{"data-state":ZL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});function XL(e,t){return`${Math.round(e/t*100)}%`}function ZL(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function eO(e){return"number"==typeof e}function tO(e){return eO(e)&&!isNaN(e)&&e>0}function nO(e,t){return eO(e)&&!isNaN(e)&&e<=t&&e>=0}JL.displayName=YL;var rO=GL,sO=JL;const aO=Nt.forwardRef(({className:e,value:t,...n},r)=>Dt.jsx(rO,{ref:r,className:dx("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:Dt.jsx(sO,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));aO.displayName=rO.displayName;const iO=()=>{const{workshopId:e}=Ym(),{user:t}=Vm(),{canAssignAnnotations:n}=Hm(),[r,s]=Nt.useState([]),[a,i]=Nt.useState([]),[o,l]=Nt.useState([]),[c,u]=Nt.useState(!0),[d,h]=Nt.useState(null),[p,f]=Nt.useState(!1);Nt.useEffect(()=>{e&&n&&m()},[e,n]);const m=async()=>{var t,n;try{u(!0),h(null);const[t,n,r]=await Promise.all([Um.getWorkshopParticipantsUsersWorkshopsWorkshopIdParticipantsGet(e),Um.listUsersUsersUsersGet(e),$m.getTracesWorkshopsWorkshopIdTracesGet(e,"all")]);s(t),i(n),l(r)}catch(SF){h((null==(n=null==(t=SF.response)?void 0:t.data)?void 0:n.detail)||"Failed to load data")}finally{u(!1)}};if(!n)return Dt.jsx(hx,{children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"text-center text-gray-500",children:[Dt.jsx(Ox,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),Dt.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),Dt.jsx("p",{children:"You don't have permission to manage annotation assignments."})]})})});if(c)return Dt.jsx(hx,{children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(fv,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-blue-500"}),Dt.jsx("p",{className:"text-gray-600",children:"Loading assignment data..."})]})})});const g=r.filter(e=>"sme"===e.role||"participant"===e.role),x=(()=>{const e=o.length,t=new Set;return g.forEach(e=>{e.assigned_traces.forEach(e=>{t.add(e)})}),{totalTraces:e,assignedTraces:t.size,unassignedTraces:e-t.size,totalAnnotators:g.length}})();return Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(xv,{className:"h-5 w-5"}),"Annotation Assignment Manager"]})}),Dt.jsxs(gx,{children:[d&&Dt.jsxs(QC,{className:"mb-4",children:[Dt.jsx(Ox,{className:"h-4 w-4"}),Dt.jsx(KC,{children:d})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Dt.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.totalTraces}),Dt.jsx("div",{className:"text-sm text-gray-600",children:"Total Traces"})]}),Dt.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.assignedTraces}),Dt.jsx("div",{className:"text-sm text-gray-600",children:"Assigned"})]}),Dt.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl font-bold text-orange-600",children:x.unassignedTraces}),Dt.jsx("div",{className:"text-sm text-gray-600",children:"Unassigned"})]}),Dt.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x.totalAnnotators}),Dt.jsx("div",{className:"text-sm text-gray-600",children:"Annotators"})]})]}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Dt.jsx("span",{className:"text-sm font-medium",children:"Assignment Progress"}),Dt.jsxs("span",{className:"text-sm text-gray-600",children:[x.assignedTraces," / ",x.totalTraces," traces assigned"]})]}),Dt.jsx(aO,{value:x.totalTraces>0?x.assignedTraces/x.totalTraces*100:0,className:"h-2"})]}),Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsxs(Vv,{onClick:async()=>{var t,n;try{f(!0),h(null);const t=await Um.autoAssignAnnotationsUsersWorkshopsWorkshopIdAutoAssignAnnotationsPost(e);await m(),KS.success(`Successfully assigned annotations to ${t.total_annotators} users across ${t.total_traces} traces`)}catch(SF){h((null==(n=null==(t=SF.response)?void 0:t.data)?void 0:n.detail)||"Failed to auto-assign annotations")}finally{f(!1)}},disabled:p,className:"flex items-center gap-2",children:[p?Dt.jsx(fv,{className:"h-4 w-4 animate-spin"}):Dt.jsx(Ex,{className:"h-4 w-4"}),"Auto-Assign Annotations"]}),Dt.jsxs(Vv,{variant:"outline",onClick:m,disabled:c,children:[Dt.jsx(fv,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})]}),Dt.jsxs(rC,{defaultValue:"participants",className:"w-full",children:[Dt.jsxs(sC,{children:[Dt.jsx(aC,{value:"participants",children:"Participants"}),Dt.jsx(aC,{value:"traces",children:"Traces"})]}),Dt.jsx(iC,{value:"participants",className:"space-y-4",children:g.map(e=>{const t=(n=e.user_id,a.find(e=>e.id===n));var n;return Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:["sme"===e.role?Dt.jsx(Sv,{className:"h-4 w-4 text-blue-500"}):Dt.jsx(Cv,{className:"h-4 w-4 text-gray-500"}),Dt.jsx("span",{children:(null==t?void 0:t.name)||"Unknown User"}),Dt.jsx(Mv,{variant:"outline",className:"capitalize",children:e.role})]}),Dt.jsxs(Mv,{variant:"secondary",children:[e.assigned_traces.length," traces assigned"]})]})}),Dt.jsxs(gx,{children:[Dt.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Email: ",(null==t?void 0:t.email)||"Unknown"]}),Dt.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Joined: ",new Date(e.joined_at).toLocaleDateString()]}),e.assigned_traces.length>0&&Dt.jsxs("div",{children:[Dt.jsx("div",{className:"text-sm font-medium mb-2",children:"Assigned Traces:"}),Dt.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.assigned_traces.slice(0,10).map(e=>Dt.jsxs(Mv,{variant:"outline",className:"text-xs",children:[e.slice(0,8),"..."]},e)),e.assigned_traces.length>10&&Dt.jsxs(Mv,{variant:"outline",className:"text-xs",children:["+",e.assigned_traces.length-10," more"]})]})]})]})]},e.user_id)})}),Dt.jsx(iC,{value:"traces",className:"space-y-4",children:Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsx(fx,{children:"Trace Assignment Status"})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-2",children:[o.slice(0,20).map(e=>{const t=g.filter(t=>t.assigned_traces.includes(e.id));return Dt.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs("div",{className:"font-medium text-sm",children:["Trace ",e.id.slice(0,8),"..."]}),Dt.jsxs("div",{className:"text-xs text-gray-500",children:[e.input.slice(0,100),"..."]})]}),Dt.jsx("div",{className:"flex items-center gap-2",children:t.length>0?Dt.jsxs(Mv,{variant:"default",className:"text-xs",children:[t.length," annotator",t.length>1?"s":""]}):Dt.jsx(Mv,{variant:"outline",className:"text-xs",children:"Unassigned"})})]},e.id)}),o.length>20&&Dt.jsxs("div",{className:"text-center text-sm text-gray-500 pt-4",children:["... and ",o.length-20," more traces"]})]})})]})})]})]})},oO=({phase:e,onStatusChange:t})=>{var n;const{workshopId:r}=Ym(),{data:s}=rg(r),a=$p(),[i,o]=St.useState(!1);if(!["discovery","annotation"].includes(e))return null;const l=(null==(n=null==s?void 0:s.completed_phases)?void 0:n.includes(e))||!1;return Dt.jsx(Vv,{onClick:async()=>{if(r){o(!0);try{const n=l?`/workshops/${r}/resume-phase/${e}`:`/workshops/${r}/complete-phase/${e}`,s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok){const e=await s.json();throw new Error(e.detail||"Failed to update phase status")}await a.invalidateQueries({queryKey:["workshop",r]}),t&&t()}catch(n){KS.error(`Failed to ${l?"resume":"pause"} phase: ${n.message}`)}finally{o(!1)}}},disabled:i,variant:l?"default":"destructive",size:"sm",className:"flex items-center gap-2 min-w-[100px] justify-center",children:i?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"w-4 h-4 border-2 border-current/30 border-t-current rounded-full animate-spin"}),Dt.jsx("span",{className:"text-sm",children:"Working..."})]}):l?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(hv,{className:"w-4 h-4"}),Dt.jsxs("span",{className:"text-sm font-medium",children:["Resume ",e]})]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(uv,{className:"w-4 h-4"}),Dt.jsxs("span",{className:"text-sm font-medium",children:["Pause ",e]})]})})},lO=({onNavigate:e,focusPhase:t=null})=>{var n,r,s;const{workshopId:a}=Ym(),{currentPhase:i,setCurrentPhase:o}=gg(),{user:l}=Vm(),{isFacilitator:c}=Hm(),u=$p(),{data:d}=rg(a),{data:h}=function(e){const{isFacilitator:t}=Hm();return Kp({queryKey:Xm(e,"all_findings"),queryFn:()=>$m.getFindingsWorkshopsWorkshopIdFindingsGet(e,void 0),enabled:!!e&&t})}(a),{data:p}=lg(a),{data:f}=ig(a),{data:m}=cg(a),{data:g}=ug(a),{data:x}=dg(a);if(!c)return Dt.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-slate-900 mb-2",children:"Facilitator Access Required"}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"This dashboard is only available to workshop facilitators"})]})});const v="discovery"!==(null==d?void 0:d.current_phase)&&"discovery"!==t||!(null==(n=null==d?void 0:d.active_discovery_trace_ids)?void 0:n.length)?(null==f?void 0:f.length)||0:d.active_discovery_trace_ids.length,y="annotation"===(null==d?void 0:d.current_phase)&&(null==(r=null==d?void 0:d.active_annotation_trace_ids)?void 0:r.length)?d.active_annotation_trace_ids.length:(null==f?void 0:f.length)||0;null==f||f.length;const b=h?new Set(h.map(e=>e.trace_id)):new Set,w=Math.min(b.size,v),j=v>0?w/v*100:0,k=h?new Set(h.map(e=>e.user_id)):new Set,N=g?new Set(g.map(e=>e.user_id)):new Set,S=St.useMemo(()=>"annotation"===t?x?Object.entries(x.reduce((e,t)=>{const n=t.user_id;return e[n]||(e[n]={count:0,userName:t.user_name||n}),e[n].count+=1,e},{})).map(([e,t])=>({userId:e,userName:t.userName,count:t.count})):[]:p?Object.entries(p.reduce((e,t)=>{const n=t.user_id;return e[n]||(e[n]={count:0,userName:t.user_name||n}),e[n].count+=1,e},{})).map(([e,t])=>({userId:e,userName:t.userName,count:t.count})):[],[t,p,x]),_=St.useMemo(()=>{var e,n;if(!f||!h)return[];let r=f;if("discovery"===t&&(null==(e=null==d?void 0:d.active_discovery_trace_ids)?void 0:e.length))r=f.filter(e=>d.active_discovery_trace_ids.includes(e.id));else if("annotation"===t)if(g&&g.length>0){const e=new Set(g.map(e=>e.trace_id)),t=new Set((null==d?void 0:d.active_annotation_trace_ids)||[]),n=new Set([...e,...t]);r=f.filter(e=>n.has(e.id))}else(null==(n=null==d?void 0:d.active_annotation_trace_ids)?void 0:n.length)&&(r=f.filter(e=>d.active_annotation_trace_ids.includes(e.id)));return r.map(e=>{if("annotation"===t&&g){const t=g.filter(t=>t.trace_id===e.id),n=new Set(t.map(e=>e.user_id)),r=Math.min(2,N.size);return{traceId:e.mlflow_trace_id||e.id,input:e.input,reviewCount:t.length,uniqueReviewers:n.size,reviewers:Array.from(n),isFullyReviewed:N.size>0&&n.size>=r}}{const t=h.filter(t=>t.trace_id===e.id),n=new Set(t.map(e=>e.user_id));return{traceId:e.mlflow_trace_id||e.id,input:e.input,reviewCount:t.length,uniqueReviewers:n.size,reviewers:Array.from(n),isFullyReviewed:k.size>0&&n.size>=Math.min(3,k.size)}}}).sort((e,t)=>e.isFullyReviewed&&!t.isFullyReviewed?-1:!e.isFullyReviewed&&t.isFullyReviewed?1:t.reviewCount-e.reviewCount)},[f,h,g,k.size,N.size,t,null==d?void 0:d.active_discovery_trace_ids,null==d?void 0:d.active_annotation_trace_ids]),C=g?new Set(g.map(e=>e.trace_id)):new Set,E=y>0?C.size/y*100:0,P=St.useMemo(()=>{if(!g)return{smeCount:0,participantCount:0,avgRating:0,ratingDistribution:{}};const e=g.filter(e=>e.user_id.includes("sme")||e.user_id.includes("SME")),t=g.filter(e=>!e.user_id.includes("sme")&&!e.user_id.includes("SME")),n=g.length>0?g.reduce((e,t)=>e+t.rating,0)/g.length:0,r=g.reduce((e,t)=>(e[t.rating]=(e[t.rating]||0)+1,e),{});return{smeCount:e.length,participantCount:t.length,avgRating:Math.round(10*n)/10,ratingDistribution:r}},[g]),T=()=>{const e=["intake","discovery","rubric","annotation","results"],t=e.indexOf(i);return t<e.length-1?e[t+1]:null},[R,I]=St.useState(""),[M,D]=St.useState(""),[A,L]=St.useState(!1),[O,F]=St.useState(!1),[z,W]=St.useState((null==d?void 0:d.judge_name)||"workshop_judge"),[U,$]=St.useState(!1);St.useEffect(()=>{if((null==d?void 0:d.judge_name)&&"workshop_judge"!==d.judge_name)W(d.judge_name);else if(null==m?void 0:m.question){const e=NC(m.question);if(e.length>0&&e[0].title){const t=`${e[0].title.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"")}_judge`;W(t)}}},[null==d?void 0:d.judge_name,m]);const q=async()=>{const e=t||i,n="annotation"===e?"annotation":"discovery",r="annotation"===e?D:I,s=parseInt("annotation"===e?M:R);if(!s||s<=0)KS.error("Please enter a valid number of traces to add.");else{L(!0);try{const t=await fetch(`/workshops/${a}/add-traces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({additional_count:s,phase:"annotation"===e?"annotation":"discovery"})});if(!t.ok){const e=await t.json();throw new Error(e.detail||"Failed to add traces")}const i=await t.json();r(""),await u.refetchQueries({queryKey:["workshop",a]}),await u.refetchQueries({queryKey:["traces",a]}),u.invalidateQueries({queryKey:["findings",a]}),u.invalidateQueries({queryKey:["annotations",a]}),KS.success(`Successfully added ${i.traces_added} traces to ${n}! (Total: ${i.total_active_traces})`)}catch(o){KS.error(`Failed to add traces: ${o.message}`)}finally{L(!1)}}};return Dt.jsx("div",{className:"p-6",children:Dt.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[Dt.jsxs("div",{className:"flex items-center justify-between gap-3 mb-8",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:Dt.jsx(Px,{className:"w-6 h-6 text-white"})}),Dt.jsxs("div",{children:[Dt.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"discovery"===t?"Discovery Phase Monitoring":"annotation"===t?"Annotation Phase Monitoring":"Facilitator Dashboard"}),Dt.jsx("p",{className:"text-slate-600",children:"discovery"===t?"Monitor participant discovery progress and insights":"annotation"===t?"Monitor SME annotation progress and ratings":"Workshop progress tracking and management"})]})]}),Dt.jsx("div",{className:"flex items-center gap-3",children:null!==T()&&!t&&Dt.jsxs(Vv,{onClick:async()=>{const e=T();if(!e)return;const t=`Ready to start the ${e} phase?\n\nThis will move the workshop forward for all participants. Current progress:\n Discovery: ${Math.round(j)}% complete\n Active users: ${k.size}`;if(confirm(t))try{const t=`/workshops/${a}/advance-to-${e}`,n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.json();throw new Error(e.detail||"Failed to advance phase")}await n.json();o(e),u.invalidateQueries()}catch(n){KS.error(`Failed to start ${e} phase: ${n.message}`)}},className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",size:"sm",children:[Dt.jsx(hv,{className:"w-4 h-4 mr-2"}),(()=>{const e=T();if(!e)return null;return`Start ${{discovery:"Discovery",rubric:"Rubric Creation",annotation:"Annotation",results:"Results Review"}[e]||e}`})(),Dt.jsx(Mx,{className:"w-4 h-4 ml-1"})]})})]}),Dt.jsxs("div",{className:"grid grid-cols-1 gap-6 "+("discovery"===t||"annotation"===t?"md:grid-cols-1 max-w-md mx-auto":"md:grid-cols-3"),children:["annotation"!==t&&Dt.jsxs(hx,{className:"bg-gradient-to-br from-green-50 to-green-50 border-green-200 "+("discovery"===t?"ring-2 ring-green-400 shadow-lg":""),children:[Dt.jsx(px,{className:"pb-3",children:Dt.jsxs(fx,{className:"flex items-center gap-2 text-green-800",children:[Dt.jsx(Gx,{className:"w-5 h-5"}),"Discovery Phase",100===j?Dt.jsx(Mv,{className:"ml-2 bg-emerald-100 text-emerald-700",children:"Completed"}):"discovery"===t?Dt.jsx(Mv,{className:"ml-2 bg-slate-100 text-slate-600",children:"Viewing"}):null]})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex justify-between items-center",children:[Dt.jsx("span",{className:"text-sm text-green-700",children:"Traces Analyzed"}),Dt.jsxs("span",{className:"text-sm font-medium text-green-800",children:[w,"/",v]})]}),Dt.jsx(aO,{value:j,className:"h-2"}),Dt.jsxs("div",{className:"flex justify-between items-center text-xs text-green-600",children:[Dt.jsxs("span",{children:[Math.round(j),"% Complete"]}),Dt.jsxs("span",{children:[k.size," Active Users"]})]})]})})]}),100===j&&!m&&"discovery"===t&&Dt.jsx(hx,{className:"border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:Dt.jsx(Fx,{className:"w-5 h-5 text-green-600"})}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("h4",{className:"font-semibold text-green-900",children:"Ready for Rubric Creation"}),Dt.jsx("p",{className:"text-sm text-green-700",children:"Discovery phase complete! Use the sidebar workflow to create the evaluation rubric."})]})]})})}),"discovery"!==t&&"annotation"!==t&&Dt.jsxs(hx,{className:"bg-gradient-to-br from-blue-50 to-blue-50 border-blue-200",children:[Dt.jsx(px,{className:"pb-3",children:Dt.jsxs(fx,{className:"flex items-center gap-2 text-blue-800",children:[Dt.jsx(xv,{className:"w-5 h-5"}),"Rubric Status"]})}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"space-y-3",children:m?Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Fx,{className:"w-4 h-4 text-green-600"}),Dt.jsx("span",{className:"text-sm text-blue-700",children:"Rubric Created"})]}),Dt.jsx("p",{className:"text-xs text-blue-600 line-clamp-2",children:(null==m?void 0:m.question)&&(null==(s=NC(m.question)[0])?void 0:s.title)||"Evaluation rubric is ready"}),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>e("rubric"),className:"w-full text-xs",children:"View Rubric"})]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx($x,{className:"w-4 h-4 text-amber-500"}),Dt.jsx("span",{className:"text-sm text-blue-700",children:"Rubric Needed"})]}),Dt.jsx("p",{className:"text-xs text-blue-600",children:"Create evaluation criteria for annotation phase"}),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:()=>e("rubric"),className:"w-full text-xs",children:"Create Rubric"})]})})})]}),"discovery"!==t&&Dt.jsxs(hx,{className:"bg-gradient-to-br from-purple-50 to-purple-50 border-purple-200 "+("annotation"===t?"ring-2 ring-purple-400 shadow-lg":""),children:[Dt.jsx(px,{className:"pb-3",children:Dt.jsxs(fx,{className:"flex items-center gap-2 text-purple-800",children:[Dt.jsx(Cv,{className:"w-5 h-5"}),"Annotation Phase",100===E?Dt.jsx(Mv,{className:"ml-2 bg-emerald-100 text-emerald-700",children:"Completed"}):"annotation"===t?Dt.jsx(Mv,{className:"ml-2 bg-slate-100 text-slate-600",children:"Viewing"}):null]})}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"space-y-3",children:"annotation"===i||"annotation"===t?Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"flex justify-between items-center",children:[Dt.jsx("span",{className:"text-sm text-purple-700",children:"Traces Annotated"}),Dt.jsxs("span",{className:"text-sm font-medium text-purple-800",children:[C.size,"/",y]})]}),Dt.jsx(aO,{value:E,className:"h-2"}),"annotation"===t?Dt.jsxs("div",{className:"space-y-2 text-xs",children:[Dt.jsxs("div",{className:"flex justify-between text-purple-600",children:[Dt.jsx("span",{children:"Average Rating:"}),Dt.jsxs("span",{className:"font-medium",children:[P.avgRating,"/5"]})]}),Dt.jsxs("div",{className:"flex justify-between text-purple-600",children:[Dt.jsx("span",{children:"SME Annotations:"}),Dt.jsx("span",{className:"font-medium",children:P.smeCount})]}),Dt.jsxs("div",{className:"flex justify-between text-purple-600",children:[Dt.jsx("span",{children:"Participant Annotations:"}),Dt.jsx("span",{className:"font-medium",children:P.participantCount})]}),Object.keys(P.ratingDistribution).length>0&&Dt.jsxs("div",{className:"pt-1 border-t border-purple-200",children:[Dt.jsx("div",{className:"text-purple-700 font-medium mb-1",children:"Rating Distribution:"}),[5,4,3,2,1].map(e=>P.ratingDistribution[e]&&Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsxs("span",{children:[e,":"]}),Dt.jsx("span",{children:P.ratingDistribution[e]})]},e))]})]}):Dt.jsxs("div",{className:"text-xs text-purple-600",children:[Math.round(E),"% Complete"]})]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx($x,{className:"w-4 h-4 text-purple-500"}),Dt.jsx("span",{className:"text-sm text-purple-700",children:"discovery"===i?"Pending Discovery":"Not Started"})]}),Dt.jsx("p",{className:"text-xs text-purple-600",children:"SMEs will annotate traces using the rubric"})]})})})]})]}),100===E&&"annotation"===i&&"annotation"===t&&Dt.jsx("div",{className:"mb-6",children:Dt.jsx(hx,{className:"border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:Dt.jsx(gx,{className:"pt-6",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:Dt.jsx(Fx,{className:"w-5 h-5 text-green-600"})}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("h4",{className:"font-semibold text-green-900",children:"Ready for Results Review & Judge Tuning"}),Dt.jsx("p",{className:"text-sm text-green-700",children:"Annotation phase complete! Use the sidebar workflow to review IRR results and proceed to judge tuning."})]})]})})})}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Kx,{className:"w-5 h-5"}),"discovery"===t?"Discovery Analysis":"Workshop Analysis"]}),Dt.jsx(mx,{children:"discovery"===t?"Detailed breakdown of discovery progress and trace coverage":"User participation and trace coverage analysis"})]}),Dt.jsx(gx,{children:Dt.jsxs(rC,{defaultValue:"users",className:"space-y-4",children:[Dt.jsxs(sC,{children:[Dt.jsx(aC,{value:"users",children:"User Participation"}),Dt.jsx(aC,{value:"traces",children:"Trace Coverage"})]}),Dt.jsx(iC,{value:"users",children:S.length>0?Dt.jsx("div",{className:"space-y-3",children:S.map(({userId:e,userName:t,count:n})=>{const r=_.filter(t=>t.reviewers.includes(e)).length;return Dt.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:t.slice(0,2).toUpperCase()}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"text-sm font-medium text-slate-900",children:t}),Dt.jsxs("div",{className:"text-xs text-slate-600",children:[n," finding",1!==n?"s":"","  ",r," trace",1!==r?"s":""," reviewed"]})]})]}),Dt.jsx("div",{className:"text-right",children:Dt.jsx(Mv,{variant:n>=3?"default":"secondary",className:"text-xs",children:n>=3?"Active":"Participating"})})]},e)})}):Dt.jsxs("div",{className:"text-center py-8 text-slate-500",children:[Dt.jsx(Cv,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),Dt.jsx("p",{className:"text-sm",children:"No user participation data yet"}),Dt.jsx("p",{className:"text-xs",children:"Users will appear here once they start contributing findings"})]})}),Dt.jsx(iC,{value:"traces",children:_.length>0?Dt.jsx("div",{className:"space-y-3","data-testid":"trace-coverage",children:_.map(e=>Dt.jsx("div",{className:"border rounded-lg p-4 bg-slate-50","data-testid":"trace-item",children:Dt.jsxs("div",{className:"flex items-start justify-between mb-3",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsxs("h4",{className:"font-medium text-slate-900 text-sm",children:["Trace: ",e.traceId.slice(0,20),"..."]}),Dt.jsxs(Mv,{variant:e.isFullyReviewed?"default":"secondary",className:"text-xs",children:[e.reviewCount," review",1!==e.reviewCount?"s":""]}),Dt.jsxs(Mv,{variant:e.uniqueReviewers>=2?"default":"outline",className:"text-xs",children:[e.uniqueReviewers," reviewer",1!==e.uniqueReviewers?"s":""]})]}),Dt.jsxs("p",{className:"text-xs text-slate-600 line-clamp-2 mb-2",children:[e.input.slice(0,120),"..."]}),e.reviewers.length>0&&Dt.jsx("div",{className:"flex flex-wrap gap-1",children:e.reviewers.map(e=>{const t=null==p?void 0:p.find(t=>t.user_id===e),n=(null==t?void 0:t.user_name)||e;return Dt.jsx(Mv,{variant:"outline",className:"text-xs px-2 py-0",children:n},e)})})]}),Dt.jsx("div",{className:"flex flex-col items-end gap-1",children:Dt.jsx("div",{className:"text-right text-xs",children:Dt.jsx("div",{className:"font-medium status-text "+(e.isFullyReviewed?"text-green-600":e.reviewCount>0?"text-amber-600":"text-slate-400"),children:e.isFullyReviewed?" Complete":e.reviewCount>0?"In Progress":"Pending"})})})]})},e.traceId))}):Dt.jsxs("div",{className:"text-center py-8 text-slate-500",children:[Dt.jsx(Gx,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),Dt.jsx("p",{className:"text-sm",children:"No trace coverage data yet"}),Dt.jsx("p",{className:"text-xs",children:"Traces will appear here once they start being reviewed"})]})})]})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsx(fx,{children:"Quick Actions"}),Dt.jsx(mx,{children:"discovery"===t?"Discovery phase management tools":"annotation"===t?"Annotation phase management tools":"Common facilitator tasks and workshop management"})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"grid grid-cols-1 gap-4 "+("discovery"===t||"annotation"===t?"md:grid-cols-2 lg:grid-cols-3":"md:grid-cols-3"),children:["discovery"!==t&&"annotation"!==t&&Dt.jsxs(Vv,{variant:"outline",className:"flex items-center gap-2 justify-start p-4 h-auto",onClick:()=>e("view-all-findings"),children:[Dt.jsx(Gx,{className:"w-5 h-5"}),Dt.jsxs("div",{className:"text-left",children:[Dt.jsx("div",{className:"font-medium",children:"View All Findings"}),Dt.jsx("div",{className:"text-xs text-muted-foreground",children:"Review participant insights"})]})]}),"discovery"===t&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"border rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[Dt.jsx(pv,{className:"w-5 h-5 text-green-600"}),Dt.jsxs("div",{className:"text-left",children:[Dt.jsx("div",{className:"font-medium",children:"Add More Traces"}),Dt.jsx("div",{className:"text-xs text-muted-foreground",children:"Include additional traces in discovery"})]})]}),Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsx(wC,{type:"number",min:"1",placeholder:"Number of traces",value:R,onChange:e=>I(e.target.value),className:"flex-1 h-8 text-xs",disabled:A}),Dt.jsx(Vv,{onClick:q,disabled:A||!R,size:"sm",className:"h-8 px-3 bg-green-600 hover:bg-green-700 text-white",children:A?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"w-3 h-3 border border-white/30 border-t-white rounded-full animate-spin mr-1"}),"Adding..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(pv,{className:"w-3 h-3 mr-1"}),"Add"]})})]})]}),Dt.jsxs("div",{className:"border rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[Dt.jsx(hv,{className:"w-5 h-5 text-blue-600"}),Dt.jsxs("div",{className:"text-left",children:[Dt.jsx("div",{className:"font-medium",children:"Discovery Control"}),Dt.jsx("div",{className:"text-xs text-muted-foreground",children:"Pause or resume discovery phase"})]})]}),Dt.jsx("div",{className:"flex justify-center",children:Dt.jsx(oO,{phase:"discovery"})})]})]}),"annotation"===t&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"border rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[Dt.jsx(pv,{className:"w-5 h-5 text-purple-600"}),Dt.jsxs("div",{className:"text-left",children:[Dt.jsx("div",{className:"font-medium",children:"Add More Traces"}),Dt.jsx("div",{className:"text-xs text-muted-foreground",children:"Include additional traces for annotation"})]})]}),Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsx(wC,{type:"number",min:"1",placeholder:"Number of traces",value:M,onChange:e=>D(e.target.value),className:"flex-1 h-8 text-xs",disabled:A}),Dt.jsx(Vv,{onClick:q,disabled:A||!M,size:"sm",className:"h-8 px-3",children:A?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"w-3 h-3 border border-white/30 border-t-white rounded-full animate-spin mr-1"}),"Adding..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(pv,{className:"w-3 h-3 mr-1"}),"Add"]})})]})]}),Dt.jsxs("div",{className:"border rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[Dt.jsx(xv,{className:"w-5 h-5 text-purple-600"}),Dt.jsxs("div",{className:"text-left",children:[Dt.jsx("div",{className:"font-medium",children:"Judge Name"}),Dt.jsx("div",{className:"text-xs text-muted-foreground",children:"Used for MLflow feedback entries"})]})]}),Dt.jsxs("div",{className:"flex gap-2",children:[Dt.jsx(wC,{type:"text",placeholder:"workshop_judge",value:z,onChange:e=>W(e.target.value),className:"flex-1 h-8 text-xs",disabled:U||g&&g.length>0}),Dt.jsx(Vv,{onClick:async()=>{if(z.trim()){$(!0);try{if(!(await fetch(`/workshops/${a}/judge-name?judge_name=${encodeURIComponent(z.trim())}`,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to save judge name");u.invalidateQueries({queryKey:["workshop",a]}),KS.success("Judge name saved successfully")}catch(e){KS.error(`Failed to save judge name: ${e.message}`)}finally{$(!1)}}else KS.error("Please enter a valid judge name")},disabled:U||!z.trim()||g&&g.length>0,size:"sm",className:"h-8 px-3",children:U?"...":"Save"})]}),g&&g.length>0&&Dt.jsx("p",{className:"text-xs text-amber-600 mt-1",children:" Locked (annotations exist)"})]}),Dt.jsxs("div",{className:"border rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[Dt.jsx(hv,{className:"w-5 h-5 text-purple-600"}),Dt.jsxs("div",{className:"text-left",children:[Dt.jsx("div",{className:"font-medium",children:"Annotation Control"}),Dt.jsx("div",{className:"text-xs text-muted-foreground",children:"Pause or resume annotation phase"})]})]}),Dt.jsx("div",{className:"flex justify-center",children:Dt.jsx(oO,{phase:"annotation"})})]})]})]})})]})]})})},cO=()=>{var e;const{user:t}=Vm(),{workshopId:n}=Ym(),{data:r}=rg(n),[s,a]=Nt.useState([]),[i,o]=Nt.useState(!1),[l,c]=Nt.useState(null),[u,d]=Nt.useState(null),[h,p]=Nt.useState({email:"",name:"",role:"participant"});Nt.useEffect(()=>{n&&f()},[n]);const f=async()=>{if(n){o(!0),c(null);try{const e=await Um.listWorkshopUsersUsersWorkshopsWorkshopIdUsersGet(n);a(e.users||[])}catch(e){c(`Failed to load users: ${e.message||"Unknown error"}`)}finally{o(!1)}}},m=e=>{switch(e){case"facilitator":return"bg-blue-100 text-blue-800";case"sme":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return t&&"facilitator"===t.role?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Dt.jsxs("div",{className:"max-w-6xl mx-auto",children:[Dt.jsxs("div",{className:"mb-8",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Facilitator Dashboard"}),Dt.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your workshop and participants"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsx(fx,{children:"Add New User"}),Dt.jsx(mx,{children:"Add SMEs and participants to your workshop"})]}),Dt.jsx(gx,{children:Dt.jsxs("form",{onSubmit:async e=>{var t,r;if(e.preventDefault(),n){o(!0),c(null),d(null);try{await Um.addUserToWorkshopUsersWorkshopsWorkshopIdUsersPost(n,{email:h.email,name:h.name,role:h.role,workshop_id:n});d(`User ${h.email} added successfully.`),p({email:"",name:"",role:"participant"}),f()}catch(s){c((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to add user")}finally{o(!1)}}},className:"space-y-4",children:[Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"email",children:"Email"}),Dt.jsx(wC,{id:"email",type:"email",placeholder:"user@example.com",value:h.email,onChange:e=>p({...h,email:e.target.value}),required:!0})]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"name",children:"Name"}),Dt.jsx(wC,{id:"name",type:"text",placeholder:"Full Name",value:h.name,onChange:e=>p({...h,name:e.target.value}),required:!0})]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"role",children:"Role"}),Dt.jsxs(XI,{value:h.role,onValueChange:e=>p({...h,role:e}),children:[Dt.jsx(eM,{children:Dt.jsx(ZI,{placeholder:"Select role"})}),Dt.jsxs(rM,{children:[Dt.jsx(sM,{value:"sme",children:"Subject Matter Expert (SME)"}),Dt.jsx(sM,{value:"participant",children:"Participant"})]})]})]}),l&&Dt.jsx(QC,{variant:"destructive",children:Dt.jsx(KC,{children:l})}),u&&Dt.jsx(QC,{children:Dt.jsx(KC,{children:u})}),Dt.jsx(Vv,{type:"submit",className:"w-full",disabled:i,children:i?"Adding User...":"Add User"})]})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsx(fx,{children:"Workshop Information"}),Dt.jsx(mx,{children:"Current workshop details"})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-4",children:[r?Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{children:[Dt.jsx(vC,{className:"text-sm font-medium text-gray-500",children:"Workshop Name"}),Dt.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.name})]}),r.description&&Dt.jsxs("div",{children:[Dt.jsx(vC,{className:"text-sm font-medium text-gray-500",children:"Description"}),Dt.jsx("p",{className:"text-sm text-gray-600",children:r.description})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{className:"text-sm font-medium text-gray-500",children:"Current Phase"}),Dt.jsx(Mv,{variant:"outline",className:"capitalize",children:(null==(e=r.current_phase)?void 0:e.replace("_"," "))||"Unknown"})]})]}):Dt.jsx("div",{className:"text-sm text-gray-500",children:"Loading workshop information..."}),Dt.jsxs("div",{children:[Dt.jsx(vC,{className:"text-sm font-medium text-gray-500",children:"Workshop ID"}),Dt.jsx("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:n})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{className:"text-sm font-medium text-gray-500",children:"Total Users"}),Dt.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),Dt.jsxs("div",{children:[Dt.jsx(vC,{className:"text-sm font-medium text-gray-500",children:"User Breakdown"}),Dt.jsxs("div",{className:"flex gap-2 mt-1",children:[Dt.jsxs(Mv,{variant:"secondary",children:[s.filter(e=>"sme"===e.role).length," SMEs"]}),Dt.jsxs(Mv,{variant:"secondary",children:[s.filter(e=>"participant"===e.role).length," Participants"]})]})]})]})})]})]}),Dt.jsxs(hx,{className:"mt-6",children:[Dt.jsx(px,{children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx(fx,{children:"Workshop Users"}),Dt.jsx(mx,{children:"All users in your workshop"})]}),Dt.jsx(Vv,{variant:"outline",size:"sm",onClick:f,disabled:i,children:i?"Loading...":"Refresh"})]})}),Dt.jsx(gx,{children:i?Dt.jsx("div",{className:"text-center py-8",children:"Loading users..."}):l?Dt.jsxs("div",{className:"text-center py-8",children:[Dt.jsx(QC,{variant:"destructive",children:Dt.jsx(KC,{children:l})}),Dt.jsx(Vv,{variant:"outline",onClick:f,className:"mt-4",children:"Retry"})]}):Dt.jsxs(oC,{children:[Dt.jsx(lC,{children:Dt.jsxs(uC,{children:[Dt.jsx(dC,{children:"Name"}),Dt.jsx(dC,{children:"Email"}),Dt.jsx(dC,{children:"Role"}),Dt.jsx(dC,{children:"Status"}),Dt.jsx(dC,{children:"Joined"})]})}),Dt.jsx(cC,{children:s.map(e=>Dt.jsxs(uC,{children:[Dt.jsx(hC,{className:"font-medium",children:e.name}),Dt.jsx(hC,{children:e.email}),Dt.jsx(hC,{children:Dt.jsx(Mv,{className:m(e.role),children:e.role.toUpperCase()})}),Dt.jsx(hC,{children:Dt.jsx(Mv,{variant:"active"===e.status?"default":"pending"===e.status?"outline":"secondary",className:"pending"===e.status?"border-yellow-500 text-yellow-700 bg-yellow-50":"",children:e.status})}),Dt.jsx(hC,{children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center max-w-md",children:[Dt.jsx(Ox,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),Dt.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Only facilitators can access this dashboard."})]})})},uO=()=>{const{setUser:e}=Vm(),{workshopId:t}=Ym(),[n,r]=Nt.useState(!1),[s,a]=Nt.useState(null),[i,o]=Nt.useState({email:"",password:""});return Dt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:Dt.jsxs(hx,{className:"w-full max-w-md",children:[Dt.jsxs(px,{className:"text-center",children:[Dt.jsx(fx,{className:"text-2xl font-bold",children:"Workshop Portal"}),Dt.jsx(mx,{children:"Sign in to access your workshop"}),Dt.jsxs("div",{className:"mt-3 text-sm text-slate-600 bg-blue-50 p-3 rounded-lg",children:[Dt.jsx("strong",{children:"Participants & SMEs:"})," Enter your email only (leave password blank)",Dt.jsx("br",{}),Dt.jsx("strong",{children:"Facilitators:"})," Enter both email and password"]})]}),Dt.jsxs(gx,{children:[Dt.jsxs("form",{onSubmit:async t=>{var n,s;t.preventDefault(),r(!0),a(null);try{const t=await Um.loginUsersAuthLoginPost({email:i.email,password:i.password});await e(t.user)}catch(o){a((null==(s=null==(n=o.response)?void 0:n.data)?void 0:s.detail)||"Login failed. Please check your credentials.")}finally{r(!1)}},className:"space-y-4",children:[Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"email",children:"Email"}),Dt.jsx(wC,{id:"email",type:"email",placeholder:"Enter your email",value:i.email,onChange:e=>o({...i,email:e.target.value}),required:!0})]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsxs(vC,{htmlFor:"password",children:["Password ",Dt.jsx("span",{className:"text-slate-500",children:"(facilitators only)"})]}),Dt.jsx(wC,{id:"password",type:"password",placeholder:"Leave blank for participants/SMEs",value:i.password,onChange:e=>o({...i,password:e.target.value})})]}),s&&Dt.jsx(QC,{variant:"destructive",children:Dt.jsx(KC,{children:s})}),Dt.jsx(Vv,{type:"submit",className:"w-full",disabled:n,children:n?"Signing in...":"Sign In"})]}),Dt.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:Dt.jsx("p",{children:"Need help? Contact your workshop facilitator."})})]})]})})};function dO(){const{setWorkshopId:e}=Ym(),{user:t}=Vm(),n=sg(),[r,s]=Nt.useState({name:"LLM Judge Calibration Workshop",description:"A collaborative workshop to calibrate LLM judges through structured evaluation and consensus building."});return Dt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-6",children:Dt.jsxs("div",{className:"w-full max-w-2xl",children:[Dt.jsxs("div",{className:"text-center mb-8",children:[Dt.jsxs("div",{className:"flex justify-center items-center gap-3 mb-4",children:[Dt.jsx(vv,{className:"h-12 w-12 text-blue-600"}),Dt.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome, Facilitator!"})]}),Dt.jsx("p",{className:"text-xl text-gray-600 max-w-xl mx-auto",children:"Create your LLM Judge Calibration workshop to get started"})]}),Dt.jsxs(hx,{className:"mb-6 border-blue-200 bg-blue-50/50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(wv,{className:"h-5 w-5 text-blue-600"}),"Quick Start"]}),Dt.jsx(mx,{children:"Get started immediately with a pre-configured workshop"})]}),Dt.jsx(gx,{children:Dt.jsx(Vv,{onClick:async()=>{try{const r=await n.mutateAsync({name:`LLM Judge Calibration Workshop - ${(new Date).toLocaleDateString()}`,description:"A collaborative workshop to calibrate LLM judges through structured evaluation and consensus building.",facilitator_id:(null==t?void 0:t.id)||"demo_facilitator"});e(r.id),window.history.pushState({},"",`?workshop=${r.id}`)}catch(r){}},disabled:n.isPending,className:"w-full",size:"lg",children:n.isPending?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Workshop..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(vv,{className:"h-4 w-4 mr-2"}),"Start Workshop Now"]})})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Cv,{className:"h-5 w-5 text-purple-600"}),"Create Custom Workshop"]}),Dt.jsx(mx,{children:"Customize your workshop details and settings"})]}),Dt.jsxs(gx,{children:[n.error&&Dt.jsx(QC,{className:"mb-4",children:Dt.jsxs(KC,{children:["Failed to create workshop: ",n.error.message]})}),Dt.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),r.name.trim())try{const s=await n.mutateAsync({name:r.name.trim(),description:r.description.trim(),facilitator_id:(null==t?void 0:t.id)||"demo_facilitator"});e(s.id),window.history.pushState({},"",`?workshop=${s.id}`)}catch(a){}else alert("Please enter a workshop name")},className:"space-y-4",children:[Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"name",children:"Workshop Name *"}),Dt.jsx(wC,{id:"name",value:r.name,onChange:e=>s({...r,name:e.target.value}),placeholder:"e.g., Customer Support Quality Assessment Workshop",required:!0}),Dt.jsx("p",{className:"text-sm text-gray-500",children:"Choose a descriptive name that reflects your workshop's purpose"})]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx(vC,{htmlFor:"description",children:"Description"}),Dt.jsx(fC,{id:"description",value:r.description,onChange:e=>s({...r,description:e.target.value}),placeholder:"Describe the workshop goals, context, and what you hope to achieve...",rows:4}),Dt.jsx("p",{className:"text-sm text-gray-500",children:"This description will help participants understand the workshop's purpose and objectives"})]}),Dt.jsx(Vv,{type:"submit",disabled:n.isPending,className:"w-full",variant:"outline",children:n.isPending?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(sv,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Workshop..."]}):"Create Custom Workshop"})]})]})]}),Dt.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:Dt.jsxs("p",{children:["You're logged in as: ",Dt.jsx("strong",{children:null==t?void 0:t.name})," (",null==t?void 0:t.role,")"]})})]})})}const hO=()=>{const{currentPhase:e,isPhaseComplete:t}=gg();return Dt.jsx("div",{className:"p-8 h-full flex items-center justify-center",children:Dt.jsxs(hx,{className:"max-w-2xl w-full",children:[Dt.jsxs(px,{className:"text-center",children:[Dt.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Dt.jsx(xv,{className:"h-8 w-8 text-amber-600"})}),Dt.jsx(fx,{className:"text-xl text-slate-900",children:" Evaluation Criteria Being Prepared"}),Dt.jsx(mx,{className:"text-base",children:"The facilitator is creating the evaluation rubric that will be used to rate traces."})]}),Dt.jsxs(gx,{className:"space-y-6",children:[Dt.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[Dt.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"What happens next:"}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold "+(t("discovery")?"bg-green-500 text-white":"bg-slate-300 text-slate-600"),children:t("discovery")?"":"1"}),Dt.jsxs("span",{className:"text-sm "+(t("discovery")?"text-green-700":"text-slate-600"),children:["Discovery insights collected ",t("discovery")?"(Complete)":"(In Progress)"]})]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold "+("rubric"===e?"bg-amber-500 text-white":"bg-slate-300 text-slate-600"),children:"rubric"===e?Dt.jsx($x,{className:"h-3 w-3"}):"2"}),Dt.jsxs("span",{className:"text-sm "+("rubric"===e?"text-amber-700 font-medium":"text-slate-600"),children:["Facilitator creates evaluation criteria ","rubric"===e?"(Current)":""]})]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold bg-slate-300 text-slate-600",children:"3"}),Dt.jsx("span",{className:"text-sm text-slate-600",children:"Facilitator shares screen to explain rubric"})]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold bg-slate-300 text-slate-600",children:"4"}),Dt.jsx("span",{className:"text-sm text-slate-600",children:"Annotation phase begins"})]})]})]}),Dt.jsx("div",{className:"text-center",children:Dt.jsxs(Mv,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[Dt.jsx($x,{className:"h-3 w-3 mr-1"}),"You'll be notified when ready to proceed"]})})]})]})})};function pO(){const{workshopId:e}=Ym(),{data:t,isLoading:n,error:r}=cg(e);if(n)return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading rubric..."}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Fetching evaluation criteria"})]})});if(r||!t)return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"text-lg font-medium text-gray-600 mb-2",children:"No rubric available"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"The facilitator has not created evaluation criteria yet."})]})});const s=(e=>e&&e.question?NC(e.question).map((t,n)=>({id:`${e.id}_${n}`,title:t.title,description:t.description})):[])(t);return Dt.jsx("div",{className:"h-full",children:Dt.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Evaluation Rubric"}),Dt.jsx("p",{className:"text-lg text-gray-600",children:"Review the evaluation criteria created by the facilitator"})]}),Dt.jsxs("div",{className:"flex justify-center gap-2",children:[Dt.jsxs(Mv,{className:"bg-green-500",children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Rubric Created"]}),Dt.jsxs(Mv,{variant:"outline",children:[Dt.jsx(Cv,{className:"h-3 w-3 mr-1"}),"Read Only"]})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Ux,{className:"h-5 w-5 text-blue-600"}),"Evaluation Criteria"]})}),Dt.jsxs(gx,{className:"space-y-4",children:[s.map((e,t)=>Dt.jsx("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("h3",{className:"font-medium text-green-900 mb-2",children:e.title}),Dt.jsx("p",{className:"text-green-700 text-sm mb-3",children:e.description}),Dt.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[Dt.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Rating Scale (1-5)"}),Dt.jsx("div",{className:"flex justify-between items-center",children:[1,2,3,4,5].map(e=>Dt.jsxs("div",{className:"flex flex-col items-center gap-1",children:[Dt.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300 bg-white"}),Dt.jsxs("span",{className:"text-xs text-gray-600",children:[1===e&&"Strongly Disagree",2===e&&"Disagree",3===e&&"Neutral",4===e&&"Agree",5===e&&"Strongly Agree"]})]},e))})]})]})]})},e.id)),0===s.length&&Dt.jsxs("div",{className:"text-center text-gray-500 py-8",children:[Dt.jsx(Ux,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),Dt.jsx("p",{children:"No evaluation criteria defined yet."})]})]})]}),s.length>0&&Dt.jsx(hx,{className:"bg-blue-50 border-blue-200",children:Dt.jsxs(gx,{className:"pt-6",children:[Dt.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Dt.jsx(Ux,{className:"h-4 w-4 text-blue-600"}),Dt.jsx("span",{className:"font-medium text-blue-800",children:"Rubric Summary"})]}),Dt.jsxs("p",{className:"text-sm text-blue-700",children:[s.length," evaluation criteria",1!==s.length?"":"a"," created by the facilitator. Each criterion will be rated on a 1-5 Likert scale during the annotation phase."]})]})}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(yv,{className:"h-5 w-5 text-yellow-600"}),"Next Steps"]})}),Dt.jsx(gx,{children:Dt.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:Dt.jsx("p",{className:"text-sm text-yellow-800",children:"The facilitator will start the annotation phase when ready. During annotation, you will use these evaluation criteria to rate LLM responses on a 1-5 scale."})})})]})]})})}const fO=()=>{const{currentPhase:e,isPhaseComplete:t}=gg();return Dt.jsx("div",{className:"p-8 h-full flex items-center justify-center",children:Dt.jsxs(hx,{className:"max-w-2xl w-full",children:[Dt.jsxs(px,{className:"text-center",children:[Dt.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Dt.jsx(Cv,{className:"h-8 w-8 text-purple-600"})}),Dt.jsx(fx,{className:"text-xl text-slate-900",children:" Annotation Phase Not Ready"}),Dt.jsx(mx,{className:"text-base",children:"The facilitator is preparing the annotation phase. You'll be able to rate traces once everything is ready."})]}),Dt.jsxs(gx,{className:"space-y-6",children:[Dt.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[Dt.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Requirements for annotation:"}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+(t("discovery")?"bg-green-500 text-white":"bg-slate-300 text-slate-600"),children:t("discovery")?Dt.jsx(Fx,{className:"h-3 w-3"}):Dt.jsx($x,{className:"h-3 w-3"})}),Dt.jsxs("span",{className:"text-sm "+(t("discovery")?"text-green-700":"text-slate-600"),children:["Discovery insights have been collected",t("discovery")&&Dt.jsx("span",{className:"ml-1 font-medium",children:""})]})]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+(t("rubric")?"bg-green-500 text-white":"rubric"===e?"bg-amber-500 text-white":"bg-slate-300 text-slate-600"),children:t("rubric")?Dt.jsx(Fx,{className:"h-3 w-3"}):Dt.jsx($x,{className:"h-3 w-3"})}),Dt.jsxs("span",{className:"text-sm "+(t("rubric")?"text-green-700":"rubric"===e?"text-amber-700 font-medium":"text-slate-600"),children:["Evaluation rubric has been created",t("rubric")&&Dt.jsx("span",{className:"ml-1 font-medium",children:""}),"rubric"===e&&Dt.jsx("span",{className:"ml-1 font-medium",children:"(In Progress)"})]})]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+("annotation"===e?"bg-purple-500 text-white":"bg-slate-300 text-slate-600"),children:Dt.jsx($x,{className:"h-3 w-3"})}),Dt.jsxs("span",{className:"text-sm "+("annotation"===e?"text-purple-700 font-medium":"text-slate-600"),children:["Facilitator starts the annotation phase","annotation"===e&&Dt.jsx("span",{className:"ml-1 font-medium",children:"(Ready!)"})]})]})]})]}),Dt.jsx("div",{className:"text-center",children:Dt.jsxs(Mv,{variant:"outline",className:""+("annotation"===e?"bg-purple-50 text-purple-700 border-purple-200":"bg-slate-50 text-slate-700 border-slate-200"),children:[Dt.jsx($x,{className:"h-3 w-3 mr-1"}),"annotation"===e?"Annotation phase is starting!":"Current status: "+("rubric"===e?"Creating evaluation criteria":"Waiting for setup")]})})]})]})})},mO=()=>{const{workshopId:e}=Ym(),{data:t}=ig(e),{data:n}=hg(e),r=(null==t?void 0:t.length)||0,s=n?new Set(n.map(e=>e.trace_id)):new Set,a=r>0?s.size/r*100:0,i=n?new Set(n.map(e=>e.user_id)).size:0;return Dt.jsx("div",{className:"p-8 h-full flex items-center justify-center",children:Dt.jsxs(hx,{className:"max-w-2xl w-full",children:[Dt.jsxs(px,{className:"text-center",children:[Dt.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Dt.jsx(Px,{className:"h-8 w-8 text-blue-600"})}),Dt.jsx(fx,{className:"text-xl text-slate-900",children:" Results Not Yet Available"}),Dt.jsx(mx,{className:"text-base",children:"Results will be shared when annotation is complete. The facilitator will analyze inter-rater reliability and share findings."})]}),Dt.jsxs(gx,{className:"space-y-6",children:[Dt.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[Dt.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Current Progress:"}),Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Dt.jsx("span",{className:"text-sm text-slate-600",children:"Traces Annotated"}),Dt.jsxs("span",{className:"text-sm font-medium text-slate-800",children:[s.size," of ",r]})]}),Dt.jsx(aO,{value:a,className:"h-2"}),Dt.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[Math.round(a),"% Complete"]})]}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center gap-2",children:[Dt.jsx(Cv,{className:"h-4 w-4 text-slate-500"}),Dt.jsx("span",{className:"text-sm text-slate-600",children:"Active Annotators"})]}),Dt.jsxs(Mv,{variant:"outline",className:"text-xs",children:[i," contributors"]})]})]})]}),Dt.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[Dt.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What happens next:"}),Dt.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[Dt.jsx("div",{children:" Facilitator monitors annotation progress"}),Dt.jsx("div",{children:" Once targets are met, inter-rater reliability is calculated"}),Dt.jsx("div",{children:" Results include agreement scores and quality insights"}),Dt.jsx("div",{children:" Facilitator shares findings with all participants"})]})]}),Dt.jsx("div",{className:"text-center",children:Dt.jsxs(Mv,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[Dt.jsx($x,{className:"h-3 w-3 mr-1"}),a>=100?"Annotation complete - results being prepared!":"Waiting for annotation completion"]})})]})]})})};function gO(){const{workshopId:e}=Ym(),[t,n]=Nt.useState(null),[r,s]=Nt.useState(!0),[a,i]=Nt.useState(null);return Nt.useEffect(()=>{const t=async()=>{try{const t=await fetch(`/workshops/${e}/mlflow-status`);if(t.ok){const e=await t.json();n(e)}else i("Failed to load intake status")}catch(SF){i("Failed to load intake status")}finally{s(!1)}};t();const r=setInterval(t,5e3);return()=>clearInterval(r)},[e]),r?Dt.jsx("div",{className:"container mx-auto p-6 max-w-2xl",children:Dt.jsx("div",{className:"flex items-center justify-center h-64",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(sv,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),Dt.jsx("p",{className:"text-gray-600",children:"Loading intake status..."})]})})}):Dt.jsxs("div",{className:"container mx-auto p-6 max-w-2xl",children:[Dt.jsxs("div",{className:"mb-8 text-center",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Waiting for Traces"}),Dt.jsx("p",{className:"text-gray-600",children:"The facilitator is setting up MLflow trace intake. You'll be able to view traces once they're loaded."})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Bx,{className:"h-5 w-5"}),"Intake Progress"]}),Dt.jsx(mx,{children:"Current status of trace ingestion from MLflow"})]}),Dt.jsx(gx,{children:t?Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx("span",{className:"text-sm font-medium",children:"Configuration"}),Dt.jsx(Mv,{variant:t.is_configured?"default":"secondary",children:t.is_configured?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Configured"]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx($x,{className:"h-3 w-3 mr-1"}),"Pending"]})})]}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx("span",{className:"text-sm font-medium",children:"Trace Ingestion"}),Dt.jsx(Mv,{variant:t.is_ingested?"default":"secondary",children:t.is_ingested?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Fx,{className:"h-3 w-3 mr-1"}),"Complete"]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx($x,{className:"h-3 w-3 mr-1"}),"Pending"]})})]}),t.trace_count>0&&Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx("span",{className:"text-sm font-medium",children:"Traces Available"}),Dt.jsxs(Mv,{variant:"outline",children:[t.trace_count," traces"]})]}),t.last_ingestion_time&&Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx("span",{className:"text-sm font-medium",children:"Last Updated"}),Dt.jsx("span",{className:"text-sm text-gray-600",children:new Date(t.last_ingestion_time).toLocaleString()})]}),t.error_message&&Dt.jsx(QC,{variant:"destructive",children:Dt.jsxs(KC,{children:[Dt.jsx("strong",{children:"Error:"})," ",t.error_message]})}),!t.is_configured&&Dt.jsxs("div",{className:"text-center py-4",children:[Dt.jsx($x,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),Dt.jsx("p",{className:"text-gray-600",children:"Waiting for facilitator to configure MLflow connection..."})]}),t.is_configured&&!t.is_ingested&&Dt.jsxs("div",{className:"text-center py-4",children:[Dt.jsx(sv,{className:"h-8 w-8 mx-auto mb-2 animate-spin text-blue-600"}),Dt.jsx("p",{className:"text-gray-600",children:"MLflow is configured. Waiting for traces to be ingested..."})]}),t.is_ingested&&t.trace_count>0&&Dt.jsxs("div",{className:"text-center py-4",children:[Dt.jsx(Fx,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),Dt.jsx("p",{className:"text-green-600 font-medium",children:"Traces are ready! The facilitator will advance to the next phase soon."})]})]}):Dt.jsxs("div",{className:"text-center py-8",children:[Dt.jsx(Bx,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),Dt.jsx("p",{className:"text-gray-600",children:a||"Unable to load intake status"})]})})]})]})}function xO(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}var vO="rovingFocusGroup.onEntryFocus",yO={bubbles:!1,cancelable:!0},bO="RovingFocusGroup",[wO,jO,kO]=o_(bO),[NO,SO]=a_(bO,[kO]),[_O,CO]=NO(bO),EO=Nt.forwardRef((e,t)=>Dt.jsx(wO.Provider,{scope:e.__scopeRovingFocusGroup,children:Dt.jsx(wO.Slot,{scope:e.__scopeRovingFocusGroup,children:Dt.jsx(PO,{...e,ref:t})})}));EO.displayName=bO;var PO=Nt.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=Nt.useRef(null),p=Ov(t,h),f=v_(a),[m,g]=g_({prop:i,defaultProp:o??null,onChange:l,caller:bO}),[x,v]=Nt.useState(!1),y=f_(c),b=jO(n),w=Nt.useRef(!1),[j,k]=Nt.useState(0);return Nt.useEffect(()=>{const e=h.current;if(e)return e.addEventListener(vO,y),()=>e.removeEventListener(vO,y)},[y]),Dt.jsx(_O,{scope:n,orientation:r,dir:f,loop:s,currentTabStopId:m,onItemFocus:Nt.useCallback(e=>g(e),[g]),onItemShiftTab:Nt.useCallback(()=>v(!0),[]),onFocusableItemAdd:Nt.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:Nt.useCallback(()=>k(e=>e-1),[]),children:Dt.jsx(h_.div,{tabIndex:x||0===j?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:xO(e.onMouseDown,()=>{w.current=!0}),onFocus:xO(e.onFocus,e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(vO,yO);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter(e=>e.focusable);MO([e.find(e=>e.active),e.find(e=>e.id===m),...e].filter(Boolean).map(e=>e.ref.current),u)}}w.current=!1}),onBlur:xO(e.onBlur,()=>v(!1))})})}),TO="RovingFocusGroupItem",RO=Nt.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...o}=e,l=d_(),c=a||l,u=CO(TO,n),d=u.currentTabStopId===c,h=jO(n),{onFocusableItemAdd:p,onFocusableItemRemove:f,currentTabStopId:m}=u;return Nt.useEffect(()=>{if(r)return p(),()=>f()},[r,p,f]),Dt.jsx(wO.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:Dt.jsx(h_.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:xO(e.onMouseDown,e=>{r?u.onItemFocus(c):e.preventDefault()}),onFocus:xO(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:xO(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:IO[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const a=s.indexOf(e.currentTarget);s=u.loop?(r=a+1,(n=s).map((e,t)=>n[(r+t)%n.length])):s.slice(a+1)}setTimeout(()=>MO(s))}var n,r}),children:"function"==typeof i?i({isCurrentTabStop:d,hasTabStop:null!=m}):i})})});RO.displayName=TO;var IO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MO(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var DO=EO,AO=RO;var LO=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=Nt.useState(),r=Nt.useRef(null),s=Nt.useRef(e),a=Nt.useRef("none"),i=e?"mounted":"unmounted",[o,l]=function(e,t){return Nt.useReducer((e,n)=>t[e][n]??e,e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Nt.useEffect(()=>{const e=OO(r.current);a.current="mounted"===o?e:"none"},[o]),l_(()=>{const t=r.current,n=s.current;if(n!==e){const r=a.current,i=OO(t);if(e)l("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,l]),l_(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,i=a=>{const i=OO(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&i&&(l("ANIMATION_END"),!s.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},o=e=>{e.target===t&&(a.current=OO(r.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:Nt.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),s="function"==typeof n?n({present:r.isPresent}):Nt.Children.only(n),a=Ov(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof n||r.isPresent?Nt.cloneElement(s,{ref:a}):null};function OO(e){return(null==e?void 0:e.animationName)||"none"}LO.displayName="Presence";var FO="Radio",[zO,WO]=a_(FO),[UO,$O]=zO(FO),qO=Nt.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:i,value:o="on",onCheck:l,form:c,...u}=e,[d,h]=Nt.useState(null),p=Ov(t,e=>h(e)),f=Nt.useRef(!1),m=!d||(c||!!d.closest("form"));return Dt.jsxs(UO,{scope:n,checked:s,disabled:i,children:[Dt.jsx(h_.button,{type:"button",role:"radio","aria-checked":s,"data-state":QO(s),"data-disabled":i?"":void 0,disabled:i,value:o,...u,ref:p,onClick:xO(e.onClick,e=>{s||null==l||l(),m&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),m&&Dt.jsx(HO,{control:d,bubbles:!f.current,name:r,value:o,checked:s,required:a,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});qO.displayName=FO;var VO="RadioIndicator",BO=Nt.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=$O(VO,n);return Dt.jsx(LO,{present:r||a.checked,children:Dt.jsx(h_.span,{"data-state":QO(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});BO.displayName=VO;var HO=Nt.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=Nt.useRef(null),o=Ov(i,a),l=PC(n),c=TC(t);return Nt.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&s){const t=new Event("click",{bubbles:r});s.call(e,n),e.dispatchEvent(t)}},[l,n,r]),Dt.jsx(h_.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function QO(e){return e?"checked":"unchecked"}HO.displayName="RadioBubbleInput";var KO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],GO="RadioGroup",[YO,JO]=a_(GO,[SO,WO]),XO=SO(),ZO=WO(),[eF,tF]=YO(GO),nF=Nt.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:i=!1,disabled:o=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...h}=e,p=XO(n),f=v_(c),[m,g]=g_({prop:a,defaultProp:s??null,onChange:d,caller:GO});return Dt.jsx(eF,{scope:n,name:r,required:i,disabled:o,value:m,onValueChange:g,children:Dt.jsx(DO,{asChild:!0,...p,orientation:l,dir:f,loop:u,children:Dt.jsx(h_.div,{role:"radiogroup","aria-required":i,"aria-orientation":l,"data-disabled":o?"":void 0,dir:f,...h,ref:t})})})});nF.displayName=GO;var rF="RadioGroupItem",sF=Nt.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=tF(rF,n),i=a.disabled||r,o=XO(n),l=ZO(n),c=Nt.useRef(null),u=Ov(t,c),d=a.value===s.value,h=Nt.useRef(!1);return Nt.useEffect(()=>{const e=e=>{KO.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),Dt.jsx(AO,{asChild:!0,...o,focusable:!i,active:d,children:Dt.jsx(qO,{disabled:i,required:a.required,checked:d,...l,...s,name:a.name,ref:u,onCheck:()=>a.onValueChange(s.value),onKeyDown:xO(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:xO(s.onFocus,()=>{var e;h.current&&(null==(e=c.current)||e.click())})})})});sF.displayName=rF;var aF=Nt.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=ZO(n);return Dt.jsx(BO,{...s,...r,ref:t})});aF.displayName="RadioGroupIndicator";var iF=nF,oF=sF,lF=aF;const cF=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(iF,{className:dx("grid gap-2",e),...t,ref:n}));cF.displayName=iF.displayName;const uF=Nt.forwardRef(({className:e,...t},n)=>Dt.jsx(oF,{ref:n,className:dx("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:Dt.jsx(lF,{className:"flex items-center justify-center",children:Dt.jsx(JI,{className:"h-3.5 w-3.5 fill-primary"})})}));uF.displayName=oF.displayName;const dF=({onStartDiscovery:e})=>{const{workshopId:t}=Ym(),n=$p(),[r,s]=St.useState(!1),[a,i]=St.useState("10"),[o,l]=St.useState("10"),{data:c}=ig(t),u=(null==c?void 0:c.length)||0;return Dt.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center space-y-3",children:[Dt.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto",children:Dt.jsx(mv,{className:"w-8 h-8 text-white"})}),Dt.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Ready to Start Discovery Phase"}),Dt.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Begin the collaborative discovery process where participants explore traces and provide insights that will inform the evaluation rubric."})]}),Dt.jsx(hx,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Dt.jsx(Bx,{className:"w-6 h-6 text-blue-600"}),Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("span",{className:"text-2xl font-bold text-blue-900",children:u}),Dt.jsx("span",{className:"text-base font-medium text-blue-700 ml-2",children:"Traces Available"}),0===u&&Dt.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"No traces loaded yet"})]})]})})}),Dt.jsxs(hx,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(rv,{className:"w-5 h-5 text-blue-600"}),"What Happens When You Start Discovery"]})}),Dt.jsx(gx,{className:"space-y-4",children:Dt.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("h4",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[Dt.jsx(Cv,{className:"w-4 h-4 text-green-600"}),"For SMEs & Participants"]}),Dt.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Access to the trace viewer and analysis interface"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Can explore traces and submit quality insights"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Progress tracked automatically as they contribute"]})]})]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("h4",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[Dt.jsx(mv,{className:"w-4 h-4 text-blue-600"}),"For You (Facilitator)"]}),Dt.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Monitor participation and progress in real-time"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Review all findings and identify patterns"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Use insights to guide rubric creation"]})]})]})]})})]}),Dt.jsxs(hx,{className:"border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(xv,{className:"w-5 h-5 text-amber-600"}),"Discovery Configuration"]}),Dt.jsxs(mx,{children:["Choose how many of the ",u," available traces to include in the discovery phase"]})]}),Dt.jsxs(gx,{children:[Dt.jsxs(cF,{value:a,onValueChange:i,className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/50 transition-colors",children:[Dt.jsx(uF,{value:"10",id:"traces-standard"}),Dt.jsxs(vC,{htmlFor:"traces-standard",className:"flex-1 cursor-pointer",children:[Dt.jsx("div",{className:"font-medium",children:"Standard Discovery (10 traces)"}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"Recommended for most workshops"})]})]}),Dt.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/50 transition-colors",children:[Dt.jsx(uF,{value:"custom",id:"traces-custom"}),Dt.jsxs(vC,{htmlFor:"traces-custom",className:"flex-1 cursor-pointer",children:[Dt.jsx("div",{className:"font-medium",children:"Custom"}),Dt.jsx("div",{className:"text-sm text-slate-600",children:"Choose your own number of traces"})]})]})]}),"custom"===a&&Dt.jsxs("div",{className:"mt-4 p-3 bg-white/50 rounded-lg",children:[Dt.jsx(vC,{htmlFor:"custom-trace-count",className:"text-sm font-medium",children:"Number of traces to use"}),Dt.jsx(wC,{id:"custom-trace-count",type:"number",min:"1",max:u,value:o,onChange:e=>l(e.target.value),className:"mt-2",placeholder:"Enter number of traces"}),Dt.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["You have ",u," traces available"]})]}),Dt.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[Dt.jsxs("div",{className:"text-sm",children:[Dt.jsx("strong",{children:"Selected configuration:"})," ","custom"===a?`${o} traces`:`${a} traces (Standard)`]}),parseInt("custom"===a?o:a)<u&&Dt.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:["Note: You have ",u," traces loaded from MLFlow, only the first ","custom"===a?o:a," will be used."]})]})]})]}),0===u&&Dt.jsx(hx,{className:"border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx(Bx,{className:"h-8 w-8 text-amber-600"}),Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"font-semibold text-amber-900",children:"No traces available"}),Dt.jsx("p",{className:"text-sm text-amber-700",children:"Complete MLflow ingestion in the Intake phase first, then return here to start discovery."})]})]})})}),Dt.jsx("div",{className:"flex justify-center pt-4",children:Dt.jsx(Vv,{onClick:async()=>{try{s(!0);const r="custom"===a?parseInt(o):parseInt(a),i=r?`/workshops/${t}/begin-discovery?trace_limit=${r}`:`/workshops/${t}/begin-discovery`,l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to start discovery phase");await l.json();n.invalidateQueries({queryKey:["workshop",t]}),n.invalidateQueries({queryKey:["traces",t]}),n.invalidateQueries({queryKey:["all-traces",t]}),e&&e()}catch(r){KS.error("Failed to start discovery phase. Please try again.")}finally{s(!1)}},disabled:r||0===u,size:"lg",className:"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Starting Discovery..."]}):0===u?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(Bx,{className:"w-5 h-5 mr-2"}),"No Traces Available"]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(hv,{className:"w-5 h-5 mr-2"}),"Start Discovery Phase"]})})}),Dt.jsx("div",{className:"text-center text-sm text-slate-500",children:Dt.jsx("p",{children:"Once started, participants will be able to access the discovery interface immediately."})})]})},hF=({onStartAnnotation:e})=>{const{workshopId:t}=Ym(),n=$p(),[r,s]=St.useState(!1),[a,i]=St.useState("limited"),[o,l]=St.useState("10"),{data:c}=cg(t),{data:u}=ig(t),d=(null==u?void 0:u.length)||0;return Dt.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center space-y-3",children:[Dt.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto",children:Dt.jsx(yv,{className:"w-8 h-8 text-white"})}),Dt.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Ready to Start Annotation Phase"}),Dt.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Begin the systematic annotation process where SMEs will rate traces using the evaluation rubric created from discovery insights."})]}),Dt.jsx(hx,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50",children:Dt.jsx(gx,{className:"p-4",children:Dt.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Dt.jsx(Bx,{className:"w-6 h-6 text-purple-600"}),Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("span",{className:"text-2xl font-bold text-purple-900",children:d}),Dt.jsx("span",{className:"text-base font-medium text-purple-700 ml-2",children:"Traces Available"}),0===d&&Dt.jsx("div",{className:"text-sm text-purple-600 mt-1",children:"No traces available"})]})]})})}),c&&Dt.jsxs(hx,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Fx,{className:"w-5 h-5 text-green-600"}),"Evaluation Rubric Ready"]}),Dt.jsx(mx,{children:"The rubric created from discovery insights will guide the annotation process"})]}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"bg-white border border-green-200 rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Dt.jsx(Ux,{className:"w-5 h-5 text-green-600"}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-semibold text-slate-900",children:"Evaluation Criteria"}),Dt.jsx("p",{className:"text-sm text-slate-600",children:"5-point Likert scale rating"})]})]}),Dt.jsxs("div",{className:"bg-slate-50 rounded-md p-3",children:[Dt.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:c.question.split(":")[0]}),Dt.jsx("p",{className:"text-sm text-slate-600",children:c.question.split(":").slice(1).join(":").trim()})]})]})})]}),Dt.jsxs(hx,{className:"border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(xv,{className:"w-5 h-5 text-amber-600"}),"Annotation Configuration"]}),Dt.jsxs(mx,{children:["Choose how many of the ",d," available traces to include in the annotation phase"]})]}),Dt.jsxs(gx,{children:[Dt.jsxs(cF,{value:a,onValueChange:e=>i(e),className:"space-y-4",children:[Dt.jsxs("div",{className:"flex items-start space-x-3",children:[Dt.jsx(uF,{value:"limited",id:"limited",className:"mt-1"}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx(vC,{htmlFor:"limited",className:"text-base font-medium cursor-pointer",children:"Start with a subset of traces"}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Recommended for focused annotation sessions. You can add more traces later."}),"limited"===a&&Dt.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[Dt.jsx(vC,{htmlFor:"traceCount",className:"text-sm",children:"Number of traces:"}),Dt.jsx(wC,{id:"traceCount",type:"number",min:"1",max:d,value:o,onChange:e=>l(e.target.value),className:"w-24"}),Dt.jsxs("span",{className:"text-sm text-slate-600",children:["(max: ",d,")"]})]})]})]}),Dt.jsxs("div",{className:"flex items-start space-x-3",children:[Dt.jsx(uF,{value:"all",id:"all",className:"mt-1"}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs(vC,{htmlFor:"all",className:"text-base font-medium cursor-pointer",children:["Use all available traces (",d," traces)"]}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Include all traces from the start. Best for comprehensive annotation sessions."})]})]})]}),Dt.jsx("div",{className:"mt-4 p-3 bg-purple-100 rounded-lg",children:Dt.jsxs("p",{className:"text-sm text-purple-800",children:[Dt.jsx("strong",{children:"Selected:"})," ","all"===a?`All ${d} traces`:`${Math.min(parseInt(o)||10,d)} traces (randomly sampled)`]})})]})]}),Dt.jsxs(hx,{className:"border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(yv,{className:"w-5 h-5 text-amber-600"}),"What Happens When You Start Annotation"]})}),Dt.jsx(gx,{className:"space-y-4",children:Dt.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("h4",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[Dt.jsx(Cv,{className:"w-4 h-4 text-blue-600"}),"For SMEs (Subject Matter Experts)"]}),Dt.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Access to annotation interface with rubric criteria"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Rate traces on 1-5 scale with detailed comments"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Progress through traces systematically"]})]})]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("h4",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[Dt.jsx(Ux,{className:"w-4 h-4 text-amber-600"}),"For You (Facilitator)"]}),Dt.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Monitor annotation progress across all SMEs"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"View real-time completion statistics"]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx(Mx,{className:"w-3 h-3 mt-0.5 text-slate-400"}),"Prepare for IRR analysis once complete"]})]})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-slate-700",children:"Note for Participants"})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"bg-slate-50 border-2 border-slate-200 rounded-lg p-4",children:[Dt.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Dt.jsx(Cv,{className:"w-5 h-5 text-slate-500"}),Dt.jsx("p",{className:"font-medium text-slate-700",children:"Regular participants will observe this phase"})]}),Dt.jsx("p",{className:"text-sm text-slate-600",children:"During annotation, participants can watch the process but won't actively annotate. This maintains the integrity of the SME evaluation while keeping everyone engaged in the learning process."})]})})]}),Dt.jsx("div",{className:"flex justify-center pt-4",children:Dt.jsx(Vv,{onClick:async()=>{try{s(!0);const r="all"===a?-1:parseInt(o)||10,i=await fetch(`/workshops/${t}/begin-annotation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trace_limit:r})});if(!i.ok){const e=await i.json();throw new Error(e.detail||"Failed to start annotation phase")}const l=await i.json();KS.success(l.message||"Annotation phase started successfully!"),await new Promise(e=>setTimeout(e,500)),n.removeQueries({queryKey:["workshop",t]}),n.removeQueries({queryKey:["annotations",t]}),n.removeQueries({queryKey:["rubric",t]}),await n.refetchQueries({queryKey:["workshop",t]}),await n.refetchQueries({queryKey:["annotations",t]}),await n.refetchQueries({queryKey:["rubric",t]}),e&&e()}catch(r){KS.error("Failed to start annotation phase. Please try again.")}finally{s(!1)}},disabled:r||!c,size:"lg",className:"bg-gradient-to-r from-amber-600 to-orange-700 hover:from-amber-700 hover:to-orange-800 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:r?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Starting Annotation..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(hv,{className:"w-5 h-5 mr-2"}),"Start Annotation Phase"]})})}),!c&&Dt.jsx("div",{className:"text-center text-sm text-red-600",children:Dt.jsx("p",{children:"A rubric must be created before starting the annotation phase."})}),Dt.jsx("div",{className:"text-center text-sm text-slate-500",children:Dt.jsx("p",{children:"Once started, SMEs will immediately access the annotation interface with the evaluation rubric."})})]})},pF=()=>Dt.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center space-y-3",children:[Dt.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto",children:Dt.jsx($x,{className:"w-8 h-8 text-white"})}),Dt.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Discovery Phase Pending"}),Dt.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Waiting for the facilitator to start the discovery phase. You'll be able to participate once it begins."}),Dt.jsxs(Mv,{className:"bg-amber-100 text-amber-800 px-3 py-1",children:[Dt.jsx($x,{className:"w-3 h-3 mr-1"}),"Waiting for Facilitator"]})]}),Dt.jsxs(hx,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(mv,{className:"w-5 h-5 text-blue-600"}),"What You'll Do in Discovery"]}),Dt.jsx(mx,{children:"Here's what you can expect once the discovery phase begins"})]}),Dt.jsx(gx,{className:"space-y-4",children:Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:Dt.jsx(mv,{className:"w-4 h-4 text-blue-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-semibold text-slate-900",children:"Explore LLM Traces"}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review conversation traces between users and AI assistants to understand response patterns and quality."})]})]}),Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:Dt.jsx(rv,{className:"w-4 h-4 text-green-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-semibold text-slate-900",children:"Share Quality Insights"}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Identify what makes responses effective or ineffective, contributing valuable observations for rubric creation."})]})]}),Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:Dt.jsx(Cv,{className:"w-4 h-4 text-purple-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-semibold text-slate-900",children:"Collaborate with Team"}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Work alongside SMEs and other participants to build a comprehensive understanding of quality criteria."})]})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-slate-700",children:"Current Workshop Status"})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border-2 border-slate-200",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-3 h-3 bg-amber-400 rounded-full animate-pulse"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"font-medium text-slate-900",children:"Awaiting Phase Start"}),Dt.jsx("p",{className:"text-sm text-slate-600",children:"The facilitator will begin discovery when everyone is ready"})]})]}),Dt.jsx(Mv,{variant:"outline",className:"text-amber-700 border-amber-300",children:"Intake Phase"})]})})]}),Dt.jsxs(hx,{className:"border-slate-200",children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-slate-700",children:"While You Wait"})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"}),Dt.jsx("p",{children:"This page will automatically update when the discovery phase begins"})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"}),Dt.jsx("p",{children:"Think about what makes a good AI response - you'll be analyzing real examples soon"})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"}),Dt.jsx("p",{children:"The facilitator is preparing the workshop materials and will start when ready"})]})]})})]}),Dt.jsx("div",{className:"text-center text-sm text-slate-500",children:Dt.jsx("p",{children:"Your participation is important - stay tuned for the discovery phase to begin!"})})]}),fF=()=>Dt.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center space-y-3",children:[Dt.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto",children:Dt.jsx($x,{className:"w-8 h-8 text-white"})}),Dt.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Annotation Phase Pending"}),Dt.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Waiting for the facilitator to start the annotation phase. SMEs will begin rating traces once it begins."}),Dt.jsxs(Mv,{className:"bg-amber-100 text-amber-800 px-3 py-1",children:[Dt.jsx($x,{className:"w-3 h-3 mr-1"}),"Waiting for Facilitator"]})]}),Dt.jsxs(hx,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(yv,{className:"w-5 h-5 text-purple-600"}),"What Happens During Annotation"]}),Dt.jsx(mx,{children:"Understanding the annotation process and your role as an observer"})]}),Dt.jsx(gx,{className:"space-y-4",children:Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:Dt.jsx(Cv,{className:"w-4 h-4 text-blue-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-semibold text-slate-900",children:"SMEs Lead the Rating Process"}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Subject Matter Experts will systematically rate traces using the evaluation rubric created from discovery insights."})]})]}),Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:Dt.jsx(Ux,{className:"w-4 h-4 text-green-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-semibold text-slate-900",children:"Structured Evaluation"}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Each trace is rated on a 1-5 scale with detailed comments, creating consistent evaluation data for analysis."})]})]}),Dt.jsxs("div",{className:"flex items-start gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0",children:Dt.jsx(Kx,{className:"w-4 h-4 text-amber-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-semibold text-slate-900",children:"You Observe & Learn"}),Dt.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"As a participant, you'll observe the annotation process, gaining insights into systematic LLM evaluation methods."})]})]})]})})]}),Dt.jsxs(hx,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",children:[Dt.jsx(px,{children:Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Ux,{className:"w-5 h-5 text-green-600"}),"Prerequisites for Annotation"]})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-green-200 rounded-lg",children:[Dt.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"font-medium text-slate-900",children:"Discovery Phase Completed"}),Dt.jsx("p",{className:"text-sm text-slate-600",children:"All participants have contributed insights"})]})]}),Dt.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-green-200 rounded-lg",children:[Dt.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"font-medium text-slate-900",children:"Evaluation Rubric Created"}),Dt.jsx("p",{className:"text-sm text-slate-600",children:"Facilitator has built rubric from discovery findings"})]})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-slate-700",children:"Current Workshop Status"})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border-2 border-slate-200",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-3 h-3 bg-amber-400 rounded-full animate-pulse"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"font-medium text-slate-900",children:"Preparing for Annotation"}),Dt.jsx("p",{className:"text-sm text-slate-600",children:"The facilitator will start annotation when ready"})]})]}),Dt.jsx(Mv,{variant:"outline",className:"text-amber-700 border-amber-300",children:"Pre-Annotation"})]})})]}),Dt.jsxs(hx,{className:"border-slate-200",children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-slate-700",children:"Your Role During This Phase"})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Observe the Process:"})," Watch how SMEs apply the rubric to evaluate traces systematically"]})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Learn Evaluation Methods:"})," Understand how the rubric translates discovery insights into measurable criteria"]})]}),Dt.jsxs("div",{className:"flex items-start gap-2",children:[Dt.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Prepare for Results:"})," The annotations will generate Inter-Rater Reliability (IRR) data for analysis"]})]})]})})]}),Dt.jsx("div",{className:"text-center text-sm text-slate-500",children:Dt.jsx("p",{children:"This page will automatically update when the annotation phase begins. Your observations will be valuable for understanding the evaluation process!"})})]}),mF=({phase:e})=>Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsx(hx,{className:"max-w-2xl w-full",children:Dt.jsx(gx,{className:"pt-8 pb-8",children:Dt.jsxs("div",{className:"text-center space-y-6",children:[Dt.jsx("div",{className:"flex justify-center",children:Dt.jsxs("div",{className:"relative",children:[Dt.jsx(lv,{className:"h-20 w-20 text-blue-500"}),Dt.jsx(Cv,{className:"h-10 w-10 text-gray-600 absolute -bottom-2 -right-2"})]})}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Facilitator-Led Activity"}),Dt.jsx("p",{className:"text-lg text-gray-600",children:(()=>{switch(e.toLowerCase()){case"intake":return"The facilitator is configuring and loading MLflow traces for the workshop.";case"rubric":return"The facilitator is creating the evaluation criteria for annotations.";case"results":return"The facilitator will present the inter-rater reliability results and insights.";case"judge_tuning":return"The facilitator is fine-tuning the LLM judge based on workshop annotations.";case"dbsql_export":return"The facilitator is exporting the judge configuration to Databricks SQL.";default:return"The facilitator is managing this phase of the workshop."}})()}),Dt.jsx("p",{className:"text-sm text-gray-500",children:"The facilitator will share their screen with the group for this part of the workshop."})]}),Dt.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-sm text-blue-700",children:[" ",Dt.jsx("strong",{children:"Tip:"})," You can participate by providing feedback and asking questions during the screen share."]})]})})})}),gF=({phase:e,onBack:t})=>{const{currentPhase:n}=gg(),r={discovery:{title:"Discovery Phase Paused",description:"The discovery phase has been temporarily paused by the facilitator.",icon:Dt.jsx(uv,{className:"w-8 h-8 text-blue-600"}),color:"blue",nextPhase:"The facilitator will resume discovery or advance to the rubric creation phase."},annotation:{title:"Annotation Phase Paused",description:"The annotation phase has been temporarily paused by the facilitator.",icon:Dt.jsx(uv,{className:"w-8 h-8 text-purple-600"}),color:"purple",nextPhase:"The facilitator will resume annotation or advance to the results phase."}}[e],s={blue:{bg:"from-blue-50 to-indigo-50",border:"border-blue-200",iconBg:"bg-blue-100",text:"text-blue-900",subtext:"text-blue-700",badge:"bg-blue-100 text-blue-700"},purple:{bg:"from-purple-50 to-indigo-50",border:"border-purple-200",iconBg:"bg-purple-100",text:"text-purple-900",subtext:"text-purple-700",badge:"bg-purple-100 text-purple-700"}}[r.color];return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Dt.jsxs("div",{className:"max-w-2xl mx-auto",children:[Dt.jsxs(hx,{className:`${s.border} bg-gradient-to-br ${s.bg}`,children:[Dt.jsxs(px,{className:"text-center pb-4",children:[Dt.jsx("div",{className:`w-16 h-16 ${s.iconBg} rounded-full flex items-center justify-center mx-auto mb-4`,children:r.icon}),Dt.jsx(fx,{className:`text-2xl ${s.text}`,children:r.title}),Dt.jsx(mx,{className:`text-base ${s.subtext} mt-2`,children:r.description})]}),Dt.jsxs(gx,{className:"space-y-6",children:[Dt.jsxs("div",{className:"bg-white/70 rounded-lg p-4 space-y-3",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx(Fx,{className:"w-5 h-5 text-green-600"}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("p",{className:"font-medium text-slate-800",children:"Your Contributions Saved"}),Dt.jsxs("p",{className:"text-sm text-slate-600",children:["All your ","discovery"===e?"findings":"annotations"," have been saved successfully."]})]})]}),Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx($x,{className:"w-5 h-5 text-amber-600"}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("p",{className:"font-medium text-slate-800",children:"Waiting for Facilitator"}),Dt.jsx("p",{className:"text-sm text-slate-600",children:r.nextPhase})]})]})]}),Dt.jsxs("div",{className:"bg-white/50 rounded-lg p-4",children:[Dt.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"What You Can Do Now"}),Dt.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx("span",{className:"text-slate-400 mt-0.5",children:""}),Dt.jsx("span",{children:"Take a break and wait for the facilitator to resume"})]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx("span",{className:"text-slate-400 mt-0.5",children:""}),Dt.jsx("span",{children:"Stay on this page to be notified when the phase resumes"})]}),Dt.jsxs("li",{className:"flex items-start gap-2",children:[Dt.jsx("span",{className:"text-slate-400 mt-0.5",children:""}),Dt.jsx("span",{children:"The page will automatically update when the phase status changes"})]})]})]}),t&&Dt.jsx("div",{className:"flex justify-center pt-2",children:Dt.jsxs(Vv,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[Dt.jsx(kx,{className:"w-4 h-4"}),"Return to Dashboard"]})})]})]}),Dt.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:[Dt.jsx("p",{children:"This page will refresh automatically when the phase status changes."}),Dt.jsx("p",{className:"mt-1",children:"No action is required from you at this time."})]})]})})},xF=({onNavigate:e})=>{var t;const{workshopId:n}=Ym(),{data:r}=ig(n),{data:s}=ug(n),{data:a}=Kp({queryKey:["workshop-users",n],queryFn:()=>Um.listWorkshopUsersUsersWorkshopsWorkshopIdUsersGet(n),enabled:!!n}),i=(null==r?void 0:r.length)||0,o=(null==s?void 0:s.length)||0,l=(null==(t=null==a?void 0:a.users)?void 0:t.length)||0;return Dt.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center space-y-3",children:[Dt.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto",children:Dt.jsx(xv,{className:"w-8 h-8 text-white"})}),Dt.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Workshop Management Dashboard"}),Dt.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Overview and management tools for your workshop"})]}),Dt.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[Dt.jsx(hx,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:Dt.jsx(gx,{className:"p-6",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Traces"}),Dt.jsx("p",{className:"text-2xl font-bold text-blue-900",children:i})]}),Dt.jsx(Gx,{className:"h-8 w-8 text-blue-600"})]})})}),Dt.jsx(hx,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",children:Dt.jsx(gx,{className:"p-6",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Annotations"}),Dt.jsx("p",{className:"text-2xl font-bold text-green-900",children:o})]}),Dt.jsx(yv,{className:"h-8 w-8 text-green-600"})]})})}),Dt.jsx(hx,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50",children:Dt.jsx(gx,{className:"p-6",children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Workshop Users"}),Dt.jsx("p",{className:"text-2xl font-bold text-purple-900",children:l})]}),Dt.jsx(Cv,{className:"h-8 w-8 text-purple-600"})]})})})]}),Dt.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Cv,{className:"w-5 h-5 text-blue-600"}),"User Management"]}),Dt.jsx(mx,{children:"Add and manage workshop participants"})]}),Dt.jsx(gx,{children:Dt.jsxs(Vv,{onClick:()=>null==e?void 0:e("user-management"),className:"w-full",children:[Dt.jsx(pv,{className:"w-4 h-4 mr-2"}),"Manage Users"]})})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Ex,{className:"w-5 h-5 text-amber-600"}),"Phase Monitoring"]}),Dt.jsx(mx,{children:"Monitor current phase progress"})]}),Dt.jsxs(gx,{className:"space-y-3",children:[Dt.jsxs(Vv,{variant:"outline",onClick:()=>null==e?void 0:e("discovery"),className:"w-full justify-start",children:[Dt.jsx(Kx,{className:"w-4 h-4 mr-2"}),"Discovery Phase"]}),Dt.jsxs(Vv,{variant:"outline",onClick:()=>null==e?void 0:e("annotation"),className:"w-full justify-start",children:[Dt.jsx(Kx,{className:"w-4 h-4 mr-2"}),"Annotation Phase"]})]})]})]}),Dt.jsxs(hx,{children:[Dt.jsxs(px,{children:[Dt.jsx(fx,{children:"Quick Actions"}),Dt.jsx(mx,{children:"Common workshop management tasks"})]}),Dt.jsxs(gx,{className:"grid md:grid-cols-3 gap-4",children:[Dt.jsxs(Vv,{variant:"outline",onClick:()=>null==e?void 0:e("intake"),children:[Dt.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Intake Phase"]}),Dt.jsxs(Vv,{variant:"outline",onClick:()=>null==e?void 0:e("rubric"),children:[Dt.jsx(yv,{className:"w-4 h-4 mr-2"}),"Rubric Creation"]}),Dt.jsxs(Vv,{variant:"outline",onClick:()=>null==e?void 0:e("results"),children:[Dt.jsx(Ex,{className:"w-4 h-4 mr-2"}),"Results Review"]})]})]})]})};function vF(){var e,t;const{workshopId:n,setWorkshopId:r}=Ym(),{currentPhase:s,completedPhases:a,setCurrentPhase:i}=gg(),{user:o,setUser:l}=Vm(),{isFacilitator:c}=Hm();$p();const{data:u,error:d}=rg(n||""),{data:h}=cg(n||""),[p,f]=St.useState(!1),[m,g]=St.useState("loading"),x=(e,t,n)=>{if(!e)return"loading";if("facilitator"===e)switch(t){case"intake":return"intake";case"user-management":return"user-management";case"discovery":return n.discovery_started?"discovery-monitor":"discovery-start";case"rubric":return"rubric-create";case"annotation":return n.annotation_started?"annotation-monitor":"annotation-start";case"results":return"results-view";case"judge_tuning":return"judge-tuning";case"unity_volume":return"unity-volume";default:return"dashboard-general"}if(["intake","rubric","results","judge_tuning","unity_volume"].includes(t))return"facilitator-screen-share";const r=e=>{const t=n.completedPhases.includes(e),r="annotation"===e?n.annotation_started:"discovery"!==e||n.discovery_started;return n.currentPhase===e&&!t&&r};switch(t){case"discovery":return r("discovery")?"discovery-participate":"discovery"===n.currentPhase||["rubric","annotation","results","judge_tuning","unity_volume"].includes(n.currentPhase)?"discovery-complete":"discovery-pending";case"annotation":return r("annotation")?"annotation-participate":"annotation"===n.currentPhase||["results","judge_tuning","unity_volume"].includes(n.currentPhase)?"annotation-review":"annotation-pending";default:return"phase-waiting"}},[v,y]=St.useState(!1),b=St.useRef(!1),w=sg();if(St.useEffect(()=>{var e,t,s,a,i;if(d&&!v&&!b.current){const l="status"in d&&404===d.status||"response"in d&&404===(null==(e=d.response)?void 0:e.status)||d instanceof Error&&(null==(t=d.message)?void 0:t.includes("404")),c="status"in d&&500===d.status||"response"in d&&500===(null==(s=d.response)?void 0:s.status)||d instanceof Error&&(null==(a=d.message)?void 0:a.includes("500"))||d instanceof Error&&(null==(i=d.message)?void 0:i.includes("Internal Server Error"));(l||c)&&n&&(b.current=!0,localStorage.removeItem("workshop_id"),localStorage.removeItem("workshop_user"),Object.keys(localStorage).forEach(e=>{(e.startsWith("workshop_")||e.includes("trace")||e.includes("annotation"))&&localStorage.removeItem(e)}),"facilitator"===(null==o?void 0:o.role)?(y(!0),w.mutateAsync({name:"LLM Judge Calibration Workshop",description:"A collaborative workshop to calibrate LLM judges through structured evaluation and consensus building.",facilitator_id:o.id}).then(e=>{r(e.id),window.history.replaceState({},"",`?workshop=${e.id}`),y(!1),setTimeout(()=>{b.current=!1},1e3)}).catch(e=>{r(null),y(!1),b.current=!1})):(r(null),window.history.replaceState({},"","/")))}},[d,n,null==o?void 0:o.role,v]),St.useEffect(()=>{if(o&&u&&o.role){let e;e=x(o.role,"intake"===s?"intake":"discovery"===s?"discovery":"rubric"===s?"rubric":"annotation"===s?"annotation":"results"===s?"results":"judge_tuning"===s?"judge_tuning":"unity_volume"===s?"unity_volume":"discovery",{currentPhase:s,completedPhases:u.completed_phases||[],discovery_started:u.discovery_started||!1,annotation_started:u.annotation_started||!1}),g(e)}},[o,u,s]),!o)return Dt.jsx(uO,{});const j=n&&n.startsWith("temp-");if(!n||j)return c?Dt.jsx(dO,{}):Dt.jsx(uO,{});if(d){if("status"in d&&404===d.status||"response"in d&&404===(null==(e=d.response)?void 0:e.status)||d instanceof Error&&(null==(t=d.message)?void 0:t.includes("404")))return c&&v?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs(hx,{className:"max-w-md",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(xv,{className:"h-5 w-5 text-blue-600 animate-spin"}),"Auto-Recovery in Progress"]}),Dt.jsx(mx,{children:"Creating a new workshop for you..."})]}),Dt.jsxs(gx,{children:[Dt.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"The previous workshop ID was invalid. We're automatically creating a new workshop for you."}),Dt.jsxs("div",{className:"text-xs text-gray-500 font-mono bg-gray-100 p-2 rounded mb-4",children:["Previous ID: ",n]}),Dt.jsx("div",{className:"flex items-center justify-center",children:Dt.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})]})}):c&&!v?Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs(hx,{className:"max-w-md",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Ox,{className:"h-5 w-5 text-red-600"}),"Workshop Not Found"]}),Dt.jsx(mx,{children:"Clearing invalid workshop data..."})]}),Dt.jsxs(gx,{children:[Dt.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"The workshop ID doesn't exist. Redirecting to workshop creation..."}),Dt.jsxs("div",{className:"text-xs text-gray-500 font-mono bg-gray-100 p-2 rounded mb-4",children:["Invalid Workshop ID: ",n]}),Dt.jsx("div",{className:"flex items-center justify-center",children:Dt.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})]})]})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:Dt.jsxs(hx,{className:"max-w-md",children:[Dt.jsxs(px,{children:[Dt.jsxs(fx,{className:"flex items-center gap-2",children:[Dt.jsx(Ox,{className:"h-5 w-5 text-red-600"}),"Workshop Not Found"]}),Dt.jsx(mx,{children:"The workshop ID in the URL does not exist"})]}),Dt.jsxs(gx,{children:[Dt.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"The workshop you're trying to access doesn't exist or has been deleted. Please contact your workshop facilitator for a valid workshop link."}),Dt.jsxs("div",{className:"text-xs text-gray-500 font-mono bg-gray-100 p-2 rounded",children:["Workshop ID: ",n]})]})]})})}const k=e=>{const t=((e,t)=>x(e,t,{currentPhase:s,completedPhases:(null==u?void 0:u.completed_phases)||[],discovery_started:(null==u?void 0:u.discovery_started)||!1,annotation_started:(null==u?void 0:u.annotation_started)||!1}))(null==o?void 0:o.role,e);g(t)};return Dt.jsxs("div",{className:"h-screen flex overflow-hidden bg-background",children:[Dt.jsx($L,{onNavigate:k,showUserSwitching:true}),Dt.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen",children:[Dt.jsx(Dv,{showDescription:!0,showPhase:!0,showParticipantCount:!1,variant:"default"}),Dt.jsx("div",{className:"flex-1 overflow-y-auto",children:"loading"!==m&&(null==o?void 0:o.role)?(()=>{switch(m){case"intake":return Dt.jsx(gM,{});case"intake-waiting":return Dt.jsx(gO,{});case"facilitator-screen-share":return Dt.jsx(mF,{phase:s});case"discovery-start":return Dt.jsx(dF,{onStartDiscovery:()=>{f(!0),g("discovery-monitor")}});case"discovery-pending":return Dt.jsx(pF,{});case"discovery-monitor":return Dt.jsx(lO,{onNavigate:k,focusPhase:"discovery"});case"discovery-participate":case"trace-viewer":return Dt.jsx(bC,{});case"discovery-complete":return Dt.jsx(gF,{phase:"discovery",onBack:"facilitator"===(null==o?void 0:o.role)?()=>k("discovery"):void 0});case"annotation-start":return Dt.jsx(hF,{onStartAnnotation:()=>{f(!0),g("annotation-monitor")}});case"annotation-pending":return Dt.jsx(fF,{});case"rubric-create":return Dt.jsx(SC,{});case"rubric-waiting":return Dt.jsx(hO,{});case"rubric-view":return Dt.jsx(pO,{});case"annotation-monitor":return Dt.jsx(lO,{onNavigate:k,focusPhase:"annotation"});case"annotation-participate":return Dt.jsx(CC,{});case"annotation-waiting":return Dt.jsx(fO,{});case"annotation-complete":case"results-view":return Dt.jsx(BC,{});case"annotation-review":return Dt.jsx(gF,{phase:"annotation",onBack:"facilitator"===(null==o?void 0:o.role)?()=>k("annotation"):void 0});case"results-waiting":case"phase-complete":case"phase-waiting":case"phase-not-started":return Dt.jsx(mO,{});case"judge-tuning":return Dt.jsx(hM,{});case"dbsql-export":return Dt.jsx(pM,{});case"unity-volume":return Dt.jsx(fM,{});case"findings-review":return Dt.jsx(mM,{onBack:()=>g("discovery-monitor")});case"assign-annotations":return Dt.jsx(iO,{});case"user-management":return Dt.jsx(cO,{});case"dashboard-general":return Dt.jsx(xF,{onNavigate:k});case"loading":return Dt.jsx("div",{className:"flex items-center justify-center h-full",children:Dt.jsx("div",{className:"text-gray-500",children:"Loading..."})});default:return Dt.jsx("div",{className:"flex items-center justify-center h-full",children:Dt.jsx("div",{className:"text-gray-500",children:"Please select a user to continue"})})}})():Dt.jsx("div",{className:"h-full flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center text-slate-500",children:[Dt.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:Dt.jsx(xv,{className:"h-8 w-8 text-slate-400"})}),Dt.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Loading..."}),Dt.jsx("p",{className:"text-sm",children:"Setting up your workspace"})]})})})]})]})}const yF=[{id:"trace-1",input:'{"question": "How many unique contacts were delivered an email that contains \'nurture\' in FY26, grouped by month"}',output:'{"result": [{"calendar_year_month": "2025-02", "unique_contacts_delivered_nurture_email": "28224"}, {"calendar_year_month": "2025-03", "unique_contacts_delivered_nurture_email": "21312"}, {"calendar_year_month": "2025-04", "unique_contacts_delivered_nurture_email": "60221"}, {"calendar_year_month": "2025-05", "unique_contacts_delivered_nurture_email": "41836"}, {"calendar_year_month": "2025-06", "unique_contacts_delivered_nurture_email": "49578"}, {"calendar_year_month": "2025-07", "unique_contacts_delivered_nurture_email": "104545"}, {"calendar_year_month": "2025-08", "unique_contacts_delivered_nurture_email": "92252"}, {"calendar_year_month": "2025-09", "unique_contacts_delivered_nurture_email": "8870"}], "query_text": "SELECT \\n calendar_year_month, \\n COUNT(DISTINCT audience_id) AS unique_contacts_delivered_nurture_email\\nFROM \\n main.marketing_lakehouse_silver.gs_engagements\\nWHERE \\n fiscal_year = 2026\\n AND engagement_type = \'Email Deliver\'\\n AND is_nurture_email_engagement = TRUE\\nGROUP BY \\n calendar_year_month\\nORDER BY \\n calendar_year_month ASC"}',mlflow_trace_id:"mlflow-12345"},{id:"trace-2",input:'{"question": "What is the audience persona of Chief Digital Officer as job title?"}',output:'{"result": [{"audience_persona": "Business Execs"}, {"audience_persona": "Data Engineer"}, {"audience_persona": "CDO"}, {"audience_persona": "CMO"}, {"audience_persona": "CTO"}, {"audience_persona": "Data Architect"}, {"audience_persona": "Unprioritized"}, {"audience_persona": "CIO"}], "query_text": "SELECT DISTINCT `gs_contacts`.`audience_persona`\\nFROM `main`.`marketing_lakehouse_silver`.`gs_contacts`\\nWHERE `gs_contacts`.`job_title_english` ILIKE \'%Chief Digital Officer%\'\\n  AND `gs_contacts`.`audience_persona` IS NOT NULL"}',mlflow_trace_id:"mlflow-67890"},{id:"trace-3",input:'{"question": "What are the top 20 salesforce campaigns for the audience_persona Data Analysts by U2 generation in FY26 H1?"}',output:'{"result": [{"engagement_sfdc_campaign_name": "FY240626-Ondemandtraining-GLOB-GenerativeAIFundamentals", "total_u2_units": "1.0775893023237586"}, {"engagement_sfdc_campaign_name": "FY261101-EV-Data+AISummit-2025", "total_u2_units": "0.7277024984359741"}, {"engagement_sfdc_campaign_name": "FY260513-IF-Energy-ExecRT-Sydney", "total_u2_units": "0.5238495022058487"}], "query_text": "WITH filtered_attribution AS (\\n  SELECT a.engagement_id, a.audience_id, a.u2_unit\\n  FROM main.marketing_lakehouse_silver.gs_attribution a\\n  WHERE a.fiscal_year = 2026\\n    AND a.fiscal_month_relative BETWEEN 0 AND 5\\n    AND a.u2_unit > 0\\n),\\njoined_data AS (\\n  SELECT fa.engagement_id, fa.audience_id, fa.u2_unit, e.engagement_sfdc_campaign_name, c.audience_persona\\n  FROM filtered_attribution fa\\n  JOIN main.marketing_lakehouse_silver.gs_engagements e ON fa.engagement_id = e.engagement_id\\n  JOIN main.marketing_lakehouse_silver.gs_contacts c ON fa.audience_id = c.audience_id\\n  WHERE c.audience_persona = \'Data Analyst\'\\n    AND e.engagement_sfdc_campaign_name IS NOT NULL\\n)\\nSELECT \\n  engagement_sfdc_campaign_name,\\n  SUM(u2_unit) AS total_u2_units\\nFROM joined_data\\nGROUP BY engagement_sfdc_campaign_name\\nORDER BY total_u2_units DESC\\nLIMIT 20"}',mlflow_trace_id:"mlflow-11111"}];function bF(){return Dt.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Trace Data Viewer Demo"}),Dt.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"This demo shows how trace data with JSON results can be displayed as formatted tables, with SQL queries properly formatted and downloadable. Perfect for workshop participants to analyze trace outputs."})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-xl",children:"Features"})}),Dt.jsx(gx,{children:Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Dt.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[Dt.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Data Tables"}),Dt.jsx("p",{className:"text-sm text-blue-700",children:"Convert JSON results into readable tables with proper headers"})]}),Dt.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[Dt.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" Export Options"}),Dt.jsx("p",{className:"text-sm text-green-700",children:"Download data as CSV and SQL queries as .sql files"})]}),Dt.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[Dt.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:" Copy & Paste"}),Dt.jsx("p",{className:"text-sm text-purple-700",children:"Easy copying of data, queries, and JSON for further analysis"})]})]})})]}),Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sample Trace Data"}),yF.map((e,t)=>Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"flex items-center gap-3",children:[Dt.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold",children:t+1}),Dt.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Trace ",e.id]}),e.mlflow_trace_id&&Dt.jsxs("span",{className:"text-sm text-gray-500",children:["MLflow: ",e.mlflow_trace_id]})]}),Dt.jsx(pC,{trace:e,showContext:!0,className:"shadow-sm"})]},e.id))]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-xl",children:"How to Use"})}),Dt.jsx(gx,{className:"space-y-4",children:Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"For Workshop Participants"}),Dt.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[Dt.jsx("li",{children:" View trace results in organized tables"}),Dt.jsx("li",{children:" Copy data for further analysis"}),Dt.jsx("li",{children:" Download results as CSV files"}),Dt.jsx("li",{children:" Examine SQL queries for learning"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"For Facilitators"}),Dt.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[Dt.jsx("li",{children:" Review trace outputs easily"}),Dt.jsx("li",{children:" Export data for external analysis"}),Dt.jsx("li",{children:" Share SQL queries with participants"}),Dt.jsx("li",{children:" Monitor trace quality and structure"})]})]})]})})]}),Dt.jsxs(hx,{children:[Dt.jsx(px,{children:Dt.jsx(fx,{className:"text-xl",children:"Integration"})}),Dt.jsxs(gx,{children:[Dt.jsx("p",{className:"text-gray-600 mb-4",children:"This component can be integrated into your existing workshop pages to display trace data in a user-friendly format. It automatically detects JSON structure and creates appropriate tables and SQL formatting."}),Dt.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:Dt.jsx("code",{className:"text-sm text-gray-800",children:"import { TraceDataViewer } from '@/components/TraceDataViewer';\n\n<TraceDataViewer \n  trace={traceData} \n  showContext={true}\n  className=\"your-custom-classes\"\n/>"})})]})]})]})})}const wF=new Dp;function jF(){return Dt.jsx(qp,{client:wF,children:Dt.jsx(Bm,{children:Dt.jsx(Gm,{children:Dt.jsxs(mg,{children:[Dt.jsx(wm,{children:Dt.jsxs(Zf,{children:[Dt.jsx(Jf,{path:"/",element:Dt.jsx(vF,{})}),Dt.jsx(Jf,{path:"/trace-viewer-demo",element:Dt.jsx(bF,{})})]})}),Dt.jsx(n_,{position:"top-right",expand:!0,richColors:!0,closeButton:!0})]})})})})}const kF=new Dp({defaultOptions:{queries:{staleTime:0,cacheTime:3e5,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:1}}});At.createRoot(document.getElementById("root")).render(Dt.jsx(St.StrictMode,{children:Dt.jsx(qp,{client:kF,children:Dt.jsx(jF,{})})}));
